<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Galer√≠a Visual de Diagramas &mdash; PREXCOL 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=da1d6aa2" />
      <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=8d563738"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/design-tabs.js?v=36754332"></script>
        <script src="https://unpkg.com/mermaid@10.2.0/dist/mermaid.min.js"></script>
        <script>mermaid.initialize({startOnLoad:true});</script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="API Reference" href="../apidocs/index.html" />
    <link rel="prev" title="üìê √çNDICE DE DIAGRAMAS UML - PREXCOL" href="INDEX_DIAGRAMAS.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            PREXCOL
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contenido:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduccion.html">Introducci√≥n</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../introduccion.html#objetivos-del-sistema">Objetivos del Sistema</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduccion.html#tecnologias-utilizadas">Tecnolog√≠as Utilizadas</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../introduccion.html#backend">Backend</a></li>
<li class="toctree-l3"><a class="reference internal" href="../introduccion.html#frontend">Frontend</a></li>
<li class="toctree-l3"><a class="reference internal" href="../introduccion.html#infraestructura">Infraestructura</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../introduccion.html#arquitectura-del-sistema">Arquitectura del Sistema</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../introduccion.html#flujo-de-datos">Flujo de Datos</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../introduccion.html#modulos-principales">M√≥dulos Principales</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduccion.html#seguridad">Seguridad</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduccion.html#proximos-pasos">Pr√≥ximos Pasos</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../guia_inicio.html">Gu√≠a de Inicio R√°pido</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../guia_inicio.html#requisitos-previos">Requisitos Previos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guia_inicio.html#instalacion">Instalaci√≥n</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../guia_inicio.html#clonar-el-repositorio">1. Clonar el Repositorio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guia_inicio.html#configurar-el-backend">2. Configurar el Backend</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guia_inicio.html#configurar-variables-de-entorno">3. Configurar Variables de Entorno</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guia_inicio.html#configurar-la-base-de-datos">4. Configurar la Base de Datos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guia_inicio.html#configurar-el-frontend">5. Configurar el Frontend</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../guia_inicio.html#ejecutar-el-sistema">Ejecutar el Sistema</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../guia_inicio.html#opcion-1-script-automatico-recomendado">Opci√≥n 1: Script Autom√°tico (Recomendado)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guia_inicio.html#opcion-2-manual">Opci√≥n 2: Manual</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../guia_inicio.html#acceder-al-sistema">Acceder al Sistema</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guia_inicio.html#usuarios-de-prueba">Usuarios de Prueba</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guia_inicio.html#verificacion-de-la-instalacion">Verificaci√≥n de la Instalaci√≥n</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guia_inicio.html#solucion-de-problemas">Soluci√≥n de Problemas</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../guia_inicio.html#error-de-base-de-datos">Error de Base de Datos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guia_inicio.html#error-de-migraciones">Error de Migraciones</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guia_inicio.html#error-de-dependencias">Error de Dependencias</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guia_inicio.html#puerto-en-uso">Puerto en Uso</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../guia_inicio.html#proximos-pasos">Pr√≥ximos Pasos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guia_inicio.html#recursos-adicionales">Recursos Adicionales</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../arquitectura.html">Arquitectura del Sistema</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../arquitectura.html#vision-general">Visi√≥n General</a></li>
<li class="toctree-l2"><a class="reference internal" href="../arquitectura.html#diagrama-de-arquitectura">Diagrama de Arquitectura</a></li>
<li class="toctree-l2"><a class="reference internal" href="../arquitectura.html#componentes-del-sistema">Componentes del Sistema</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../arquitectura.html#frontend-react">Frontend (React)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../arquitectura.html#backend-django">Backend (Django)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../arquitectura.html#base-de-datos">Base de Datos</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../arquitectura.html#flujos-de-datos">Flujos de Datos</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../arquitectura.html#autenticacion">Autenticaci√≥n</a></li>
<li class="toctree-l3"><a class="reference internal" href="../arquitectura.html#creacion-de-pedido">Creaci√≥n de Pedido</a></li>
<li class="toctree-l3"><a class="reference internal" href="../arquitectura.html#gestion-de-productos-proveedor">Gesti√≥n de Productos (Proveedor)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../arquitectura.html#seguridad">Seguridad</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../arquitectura.html#autenticacion-y-autorizacion">Autenticaci√≥n y Autorizaci√≥n</a></li>
<li class="toctree-l3"><a class="reference internal" href="../arquitectura.html#proteccion-de-datos">Protecci√≥n de Datos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../arquitectura.html#https-y-encriptacion">HTTPS y Encriptaci√≥n</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../arquitectura.html#escalabilidad">Escalabilidad</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../arquitectura.html#estrategias-de-cache">Estrategias de Cache</a></li>
<li class="toctree-l3"><a class="reference internal" href="../arquitectura.html#optimizacion-de-queries">Optimizaci√≥n de Queries</a></li>
<li class="toctree-l3"><a class="reference internal" href="../arquitectura.html#procesamiento-asincrono">Procesamiento As√≠ncrono</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../arquitectura.html#monitoreo-y-logging">Monitoreo y Logging</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../arquitectura.html#logs-estructurados">Logs Estructurados</a></li>
<li class="toctree-l3"><a class="reference internal" href="../arquitectura.html#metricas">M√©tricas</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../arquitectura.html#deployment">Deployment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../arquitectura.html#proximos-pasos">Pr√≥ximos Pasos</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="INDEX_DIAGRAMAS.html">üìê √çNDICE DE DIAGRAMAS UML - PREXCOL</a><ul>
<li class="toctree-l2"><a class="reference internal" href="INDEX_DIAGRAMAS.html#proposito">üéØ PROP√ìSITO</a></li>
<li class="toctree-l2"><a class="reference internal" href="INDEX_DIAGRAMAS.html#diagramas-disponibles">üìö DIAGRAMAS DISPONIBLES</a><ul>
<li class="toctree-l3"><a class="reference internal" href="INDEX_DIAGRAMAS.html#diagramas-estructurales">üèóÔ∏è DIAGRAMAS ESTRUCTURALES</a></li>
<li class="toctree-l3"><a class="reference internal" href="INDEX_DIAGRAMAS.html#diagramas-de-comportamiento">üîÑ DIAGRAMAS DE COMPORTAMIENTO</a><ul>
<li class="toctree-l4"><a class="reference internal" href="INDEX_DIAGRAMAS.html#diagramas-de-interaccion">Diagramas de Interacci√≥n</a></li>
<li class="toctree-l4"><a class="reference internal" href="INDEX_DIAGRAMAS.html#otros-diagramas-de-comportamiento">Otros Diagramas de Comportamiento</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="INDEX_DIAGRAMAS.html#navegacion-rapida">üó∫Ô∏è NAVEGACI√ìN R√ÅPIDA</a><ul>
<li class="toctree-l3"><a class="reference internal" href="INDEX_DIAGRAMAS.html#por-modulo-del-sistema">Por M√≥dulo del Sistema</a><ul>
<li class="toctree-l4"><a class="reference internal" href="INDEX_DIAGRAMAS.html#modulo-autenticacion">M√≥dulo: Autenticaci√≥n</a></li>
<li class="toctree-l4"><a class="reference internal" href="INDEX_DIAGRAMAS.html#modulo-productos">M√≥dulo: Productos</a></li>
<li class="toctree-l4"><a class="reference internal" href="INDEX_DIAGRAMAS.html#modulo-stock">M√≥dulo: Stock</a></li>
<li class="toctree-l4"><a class="reference internal" href="INDEX_DIAGRAMAS.html#modulo-pedidos">M√≥dulo: Pedidos</a></li>
<li class="toctree-l4"><a class="reference internal" href="INDEX_DIAGRAMAS.html#modulo-pagos">M√≥dulo: Pagos</a></li>
<li class="toctree-l4"><a class="reference internal" href="INDEX_DIAGRAMAS.html#modulo-notificaciones">M√≥dulo: Notificaciones</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="INDEX_DIAGRAMAS.html#estadisticas">üìä ESTAD√çSTICAS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="INDEX_DIAGRAMAS.html#diagramas-creados">Diagramas Creados</a></li>
<li class="toctree-l3"><a class="reference internal" href="INDEX_DIAGRAMAS.html#cobertura">Cobertura</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="INDEX_DIAGRAMAS.html#convenciones-y-estandares">üé® CONVENCIONES Y EST√ÅNDARES</a><ul>
<li class="toctree-l3"><a class="reference internal" href="INDEX_DIAGRAMAS.html#formato-de-diagramas">Formato de Diagramas</a></li>
<li class="toctree-l3"><a class="reference internal" href="INDEX_DIAGRAMAS.html#nomenclatura">Nomenclatura</a></li>
<li class="toctree-l3"><a class="reference internal" href="INDEX_DIAGRAMAS.html#colores-en-diagramas-de-actividad">Colores en Diagramas de Actividad</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="INDEX_DIAGRAMAS.html#herramientas-recomendadas">üîß HERRAMIENTAS RECOMENDADAS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="INDEX_DIAGRAMAS.html#visualizacion">Visualizaci√≥n</a></li>
<li class="toctree-l3"><a class="reference internal" href="INDEX_DIAGRAMAS.html#generacion">Generaci√≥n</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="INDEX_DIAGRAMAS.html#como-usar-este-indice">üìñ C√ìMO USAR ESTE √çNDICE</a><ul>
<li class="toctree-l3"><a class="reference internal" href="INDEX_DIAGRAMAS.html#para-nuevos-desarrolladores">Para Nuevos Desarrolladores</a></li>
<li class="toctree-l3"><a class="reference internal" href="INDEX_DIAGRAMAS.html#para-arquitectos">Para Arquitectos</a></li>
<li class="toctree-l3"><a class="reference internal" href="INDEX_DIAGRAMAS.html#para-qa-testers">Para QA/Testers</a></li>
<li class="toctree-l3"><a class="reference internal" href="INDEX_DIAGRAMAS.html#para-product-managers">Para Product Managers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="INDEX_DIAGRAMAS.html#mantenimiento">üîÑ MANTENIMIENTO</a><ul>
<li class="toctree-l3"><a class="reference internal" href="INDEX_DIAGRAMAS.html#actualizacion-de-diagramas">Actualizaci√≥n de Diagramas</a></li>
<li class="toctree-l3"><a class="reference internal" href="INDEX_DIAGRAMAS.html#versionado">Versionado</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="INDEX_DIAGRAMAS.html#checklist-de-completitud">üìã CHECKLIST DE COMPLETITUD</a><ul>
<li class="toctree-l3"><a class="reference internal" href="INDEX_DIAGRAMAS.html#estado-completado-13-13-tipos-uml-2-0">Estado: ‚úÖ <strong>COMPLETADO - 13/13 tipos UML 2.0</strong></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="INDEX_DIAGRAMAS.html#id1">üé® CONVENCIONES Y EST√ÅNDARES</a><ul>
<li class="toctree-l3"><a class="reference internal" href="INDEX_DIAGRAMAS.html#id2">Formato de Diagramas</a></li>
<li class="toctree-l3"><a class="reference internal" href="INDEX_DIAGRAMAS.html#id3">Nomenclatura</a></li>
<li class="toctree-l3"><a class="reference internal" href="INDEX_DIAGRAMAS.html#id4">Colores en Diagramas de Actividad</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="INDEX_DIAGRAMAS.html#id5">üîß HERRAMIENTAS RECOMENDADAS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="INDEX_DIAGRAMAS.html#id6">Visualizaci√≥n</a></li>
<li class="toctree-l3"><a class="reference internal" href="INDEX_DIAGRAMAS.html#id7">Generaci√≥n</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="INDEX_DIAGRAMAS.html#id8">üìñ C√ìMO USAR ESTE √çNDICE</a><ul>
<li class="toctree-l3"><a class="reference internal" href="INDEX_DIAGRAMAS.html#id9">Para Nuevos Desarrolladores</a></li>
<li class="toctree-l3"><a class="reference internal" href="INDEX_DIAGRAMAS.html#id10">Para Arquitectos</a></li>
<li class="toctree-l3"><a class="reference internal" href="INDEX_DIAGRAMAS.html#id11">Para QA/Testers</a></li>
<li class="toctree-l3"><a class="reference internal" href="INDEX_DIAGRAMAS.html#id12">Para Product Managers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="INDEX_DIAGRAMAS.html#id13">üîÑ MANTENIMIENTO</a><ul>
<li class="toctree-l3"><a class="reference internal" href="INDEX_DIAGRAMAS.html#id14">Actualizaci√≥n de Diagramas</a></li>
<li class="toctree-l3"><a class="reference internal" href="INDEX_DIAGRAMAS.html#id15">Versionado</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="INDEX_DIAGRAMAS.html#id16">üìã CHECKLIST DE COMPLETITUD</a><ul>
<li class="toctree-l3"><a class="reference internal" href="INDEX_DIAGRAMAS.html#estado-completado-10-13-tipos-uml-3-no-requeridos">Estado: ‚úÖ COMPLETADO (10/13 tipos UML, 3 no requeridos)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="INDEX_DIAGRAMAS.html#enlaces-relacionados">üîó ENLACES RELACIONADOS</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Galer√≠a Visual de Diagramas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apidocs/index.html">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../apidocs/backend/backend.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">backend</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../apidocs/backend/backend.html#subpackages">Subpackages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../apidocs/backend/backend.apps.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">backend.apps</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../apidocs/backend/backend.middleware.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">backend.middleware</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../apidocs/backend/backend.services.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">backend.services</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../apidocs/backend/backend.html#submodules">Submodules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../apidocs/backend/backend.audit_tests.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">backend.audit_tests</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../apidocs/backend/backend.celery_app.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">backend.celery_app</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../apidocs/backend/backend.create_admin.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">backend.create_admin</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../apidocs/backend/backend.create_test_users.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">backend.create_test_users</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../apidocs/backend/backend.debug_token.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">backend.debug_token</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../apidocs/backend/backend.fix_admin_password.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">backend.fix_admin_password</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../apidocs/backend/backend.fix_imports.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">backend.fix_imports</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../apidocs/backend/backend.fix_user_roles.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">backend.fix_user_roles</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../apidocs/backend/backend.full_diagnostic.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">backend.full_diagnostic</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../apidocs/backend/backend.investigate_admin.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">backend.investigate_admin</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../apidocs/backend/backend.manage.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">backend.manage</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../apidocs/backend/backend.pagination.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">backend.pagination</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../apidocs/backend/backend.urls.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">backend.urls</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../apidocs/backend/backend.user_middleware.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">backend.user_middleware</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../apidocs/backend/backend.verify_all_logins.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">backend.verify_all_logins</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../apidocs/backend/backend.verify_backend.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">backend.verify_backend</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../apidocs/backend/backend.verify_rf_coverage.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">backend.verify_rf_coverage</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../apidocs/backend/backend.html#package-contents">Package Contents</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../apidocs/backend/backend.html#data">Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../apidocs/backend/backend.html#api">API</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../guias_usuario.html">Gu√≠as de Usuario</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../guias_usuario.html#roles-de-usuario">Roles de Usuario</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guias_usuario.html#guia-para-administradores">Gu√≠a para Administradores</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../guias_usuario.html#dashboard-administrativo">Dashboard Administrativo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guias_usuario.html#gestion-de-usuarios">Gesti√≥n de Usuarios</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guias_usuario.html#gestion-de-productos">Gesti√≥n de Productos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guias_usuario.html#gestion-de-pedidos">Gesti√≥n de Pedidos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guias_usuario.html#reportes">Reportes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../guias_usuario.html#guia-para-proveedores">Gu√≠a para Proveedores</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../guias_usuario.html#id1">Gesti√≥n de Productos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guias_usuario.html#ver-pedidos">Ver Pedidos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guias_usuario.html#estadisticas">Estad√≠sticas</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../guias_usuario.html#guia-para-logistica">Gu√≠a para Log√≠stica</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../guias_usuario.html#gestion-de-entregas">Gesti√≥n de Entregas</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guias_usuario.html#rutas-de-distribucion">Rutas de Distribuci√≥n</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../guias_usuario.html#guia-para-clientes">Gu√≠a para Clientes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../guias_usuario.html#realizar-pedidos">Realizar Pedidos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guias_usuario.html#seguimiento-de-pedidos">Seguimiento de Pedidos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guias_usuario.html#perfil-de-usuario">Perfil de Usuario</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guias_usuario.html#historial-de-compras">Historial de Compras</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../guias_usuario.html#soporte-y-ayuda">Soporte y Ayuda</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../guias_usuario.html#contacto">Contacto</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guias_usuario.html#preguntas-frecuentes">Preguntas Frecuentes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../guias_usuario.html#recursos-adicionales">Recursos Adicionales</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../deployment.html">Gu√≠a de Despliegue</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../deployment.html#requisitos-de-produccion">Requisitos de Producci√≥n</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../deployment.html#infraestructura-minima">Infraestructura M√≠nima</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deployment.html#variables-de-entorno">Variables de Entorno</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../deployment.html#despliegue-en-render">Despliegue en Render</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../deployment.html#backend">Backend</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deployment.html#frontend-netlify">Frontend (Netlify)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../deployment.html#despliegue-en-railway">Despliegue en Railway</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../deployment.html#backend-completo">Backend Completo</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../deployment.html#despliegue-manual-vps">Despliegue Manual (VPS)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../deployment.html#preparacion-del-servidor">Preparaci√≥n del Servidor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deployment.html#configurar-postgresql">Configurar PostgreSQL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deployment.html#configurar-backend">Configurar Backend</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deployment.html#configurar-gunicorn">Configurar Gunicorn</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deployment.html#configurar-celery">Configurar Celery</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deployment.html#configurar-nginx">Configurar Nginx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deployment.html#configurar-ssl-con-let-s-encrypt">Configurar SSL con Let‚Äôs Encrypt</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deployment.html#iniciar-servicios">Iniciar Servicios</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../deployment.html#monitoreo-y-mantenimiento">Monitoreo y Mantenimiento</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../deployment.html#logs">Logs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deployment.html#backups">Backups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deployment.html#actualizaciones">Actualizaciones</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../deployment.html#optimizacion">Optimizaci√≥n</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../deployment.html#cache">Cache</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deployment.html#cdn">CDN</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deployment.html#compresion">Compresi√≥n</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../deployment.html#seguridad">Seguridad</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../deployment.html#checklist-de-seguridad">Checklist de Seguridad</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deployment.html#firewall">Firewall</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../deployment.html#solucion-de-problemas">Soluci√≥n de Problemas</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../deployment.html#error-502-bad-gateway">Error 502 Bad Gateway</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deployment.html#error-de-base-de-datos">Error de Base de Datos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deployment.html#archivos-estaticos-no-cargan">Archivos Est√°ticos No Cargan</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../deployment.html#recursos-adicionales">Recursos Adicionales</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PREXCOL</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Galer√≠a Visual de Diagramas</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/diagramas/galeria.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="galeria-visual-de-diagramas">
<h1>Galer√≠a Visual de Diagramas<a class="headerlink" href="#galeria-visual-de-diagramas" title="Link to this heading">ÔÉÅ</a></h1>
<p>Explora la arquitectura y flujos de PREXCOL a trav√©s de nuestra galer√≠a interactiva.</p>
<div class="sd-p-4 sd-bg-light sd-rounded sd-shadow-sm sd-mb-4 sd-text-center docutils container">
<p><strong>Accesos R√°pidos</strong></p>
<div class="sd-container-fluid sd-sphinx-override sd-mb-4 docutils">
<div class="sd-row sd-row-cols-2 sd-row-cols-xs-2 sd-row-cols-sm-2 sd-row-cols-md-2 sd-row-cols-lg-2 sd-g-3 sd-g-xs-3 sd-g-sm-3 sd-g-md-3 sd-g-lg-3 docutils">
<div class="sd-col sd-d-flex-column docutils">
</div>
<div class="sd-col sd-d-flex-column docutils">
</div>
</div>
</div>
</div>
<p>‚Äî</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3 sd-mb-4" open="open">
<summary class="sd-summary-title sd-card-header">
üìä Diagrama Actividad (7 diagramas)<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-0" name="sd-tab-set-0" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-0">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            flowchart TD
    Start([Inicio]) --&gt; Input[Usuario completa formulario]
    Input --&gt; ValidateClient{&quot;&quot;&quot;&quot;Validaci√≥n&lt;br/&gt;cliente OK?&quot;&quot;&quot;&quot;}

    %% Happy Path
    ValidateClient --&gt;|S√≠| Submit[Enviar a backend]
    Submit --&gt; CheckEmail{&quot;&quot;&quot;&quot;Email&lt;br/&gt;√∫nico?&quot;&quot;&quot;&quot;}

    CheckEmail --&gt;|S√≠| CheckPass{&quot;&quot;&quot;&quot;Password&lt;br/&gt;v√°lido?&quot;&quot;&quot;&quot;}

    CheckPass --&gt;|S√≠| CreateUser[Crear usuario en DB]
    CreateUser --&gt; SaveHistory[&quot;&quot;&quot;&quot;Guardar password&lt;br/&gt;en historial&quot;&quot;&quot;&quot;]
    SaveHistory --&gt; SendEmail[&quot;&quot;&quot;&quot;Enviar email&lt;br/&gt;de bienvenida&quot;&quot;&quot;&quot;]
    SendEmail --&gt; ShowSuccess[Mensaje: Registro exitoso]
    ShowSuccess --&gt; RedirectLogin[Redirect a Login]
    RedirectLogin --&gt; End([Fin])

    %% Error Loops (Dotted for cleaner visuals)
    ValidateClient --&gt;|No| ShowError1[&quot;&quot;&quot;&quot;Mostrar errores&lt;br/&gt;de validaci√≥n&quot;&quot;&quot;&quot;]
    ShowError1 -.-&gt; Input

    CheckEmail --&gt;|No| EmailExists[Error: Email ya existe]
    EmailExists -.-&gt; Input

    CheckPass --&gt;|No| PassWeak[Error: Password d√©bil]
    PassWeak -.-&gt; Input

    style Start fill:#90EE90
    style End fill:#90EE90
    style ShowError1 fill:#FFB6C1
    style EmailExists fill:#FFB6C1
    style PassWeak fill:#FFB6C1
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-1" name="sd-tab-set-0" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-1">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>flowchart TD
    Start([Inicio]) --&gt; Input[Usuario completa formulario]
    Input --&gt; ValidateClient{&quot;&quot;&quot;&quot;Validaci√≥n&lt;br/&gt;cliente OK?&quot;&quot;&quot;&quot;}

    %% Happy Path
    ValidateClient --&gt;|S√≠| Submit[Enviar a backend]
    Submit --&gt; CheckEmail{&quot;&quot;&quot;&quot;Email&lt;br/&gt;√∫nico?&quot;&quot;&quot;&quot;}

    CheckEmail --&gt;|S√≠| CheckPass{&quot;&quot;&quot;&quot;Password&lt;br/&gt;v√°lido?&quot;&quot;&quot;&quot;}

    CheckPass --&gt;|S√≠| CreateUser[Crear usuario en DB]
    CreateUser --&gt; SaveHistory[&quot;&quot;&quot;&quot;Guardar password&lt;br/&gt;en historial&quot;&quot;&quot;&quot;]
    SaveHistory --&gt; SendEmail[&quot;&quot;&quot;&quot;Enviar email&lt;br/&gt;de bienvenida&quot;&quot;&quot;&quot;]
    SendEmail --&gt; ShowSuccess[Mensaje: Registro exitoso]
    ShowSuccess --&gt; RedirectLogin[Redirect a Login]
    RedirectLogin --&gt; End([Fin])

    %% Error Loops (Dotted for cleaner visuals)
    ValidateClient --&gt;|No| ShowError1[&quot;&quot;&quot;&quot;Mostrar errores&lt;br/&gt;de validaci√≥n&quot;&quot;&quot;&quot;]
    ShowError1 -.-&gt; Input

    CheckEmail --&gt;|No| EmailExists[Error: Email ya existe]
    EmailExists -.-&gt; Input

    CheckPass --&gt;|No| PassWeak[Error: Password d√©bil]
    PassWeak -.-&gt; Input

    style Start fill:#90EE90
    style End fill:#90EE90
    style ShowError1 fill:#FFB6C1
    style EmailExists fill:#FFB6C1
    style PassWeak fill:#FFB6C1
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-2" name="sd-tab-set-1" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-2">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            flowchart TD
    Start([Inicio: Cliente en cat√°logo]) --&gt; Browse[Navegar productos]
    Browse --&gt; SelectProduct[Seleccionar producto]
    SelectProduct --&gt; ViewDetails[Ver detalles]

    ViewDetails --&gt; CheckStock{&quot;&quot;&quot;&quot;Stock&lt;br/&gt;disponible?&quot;&quot;&quot;&quot;}

    CheckStock --&gt;|S√≠| AddCart[Agregar al carrito]
    AddCart --&gt; MoreProducts{&quot;&quot;&quot;&quot;Agregar&lt;br/&gt;m√°s productos?&quot;&quot;&quot;&quot;}

    MoreProducts --&gt;|S√≠| Browse
    MoreProducts --&gt;|No| ViewCart[Ver carrito]

    ViewCart --&gt; AdjustQty{&quot;&quot;&quot;&quot;Ajustar&lt;br/&gt;cantidades?&quot;&quot;&quot;&quot;}
    AdjustQty --&gt;|S√≠| ModifyCart[Modificar carrito]
    ModifyCart --&gt; ViewCart

    AdjustQty --&gt;|No| Checkout[Proceder al pago]
    Checkout --&gt; ValidateStock{&quot;&quot;&quot;&quot;Todo el stock&lt;br/&gt;disponible?&quot;&quot;&quot;&quot;}

    ValidateStock --&gt;|S√≠| SelectPayment[&quot;&quot;&quot;&quot;Seleccionar m√©todo&lt;br/&gt;de pago&quot;&quot;&quot;&quot;]
    SelectPayment --&gt; PaymentMethod{M√©todo?}

    PaymentMethod --&gt;|Tarjeta| EnterCard[&quot;&quot;&quot;&quot;Ingresar datos&lt;br/&gt;de tarjeta&quot;&quot;&quot;&quot;]
    PaymentMethod --&gt;|Transferencia| UploadProof[Subir comprobante]
    PaymentMethod --&gt;|PSE| LoginBank[Login banco]

    EnterCard --&gt; ProcessPayment[Procesar pago]
    UploadProof --&gt; ProcessPayment
    LoginBank --&gt; ProcessPayment

    ProcessPayment --&gt; PaymentResult{&quot;&quot;&quot;&quot;Pago&lt;br/&gt;exitoso?&quot;&quot;&quot;&quot;}

    PaymentResult --&gt;|S√≠| CreateOrder[Crear pedido]
    CreateOrder --&gt; ReduceStock[Reducir stock]
    ReduceStock --&gt; SendNotifications[Enviar notificaciones]
    SendNotifications --&gt; ShowConfirmation[Mostrar confirmaci√≥n]
    ShowConfirmation --&gt; SendConfirmEmail[&quot;&quot;&quot;&quot;Enviar email&lt;br/&gt;de confirmaci√≥n&quot;&quot;&quot;&quot;]
    SendConfirmEmail --&gt; End2([Fin: Pedido creado])

    %% Feedback / Alternate Paths
    CheckStock --&gt;|No| OutOfStock[Mostrar &quot;Agotado&quot;]
    OutOfStock -.-&gt; Browse

    ValidateStock --&gt;|No| StockError[Error: Stock insuficiente]
    StockError -.-&gt; ViewCart

    PaymentResult --&gt;|No| PaymentFailed[Pago rechazado]
    PaymentFailed --&gt; RetryPayment{Reintentar?}
    RetryPayment --&gt;|S√≠| SelectPayment
    RetryPayment --&gt;|No| CancelOrder[Cancelar orden]
    CancelOrder --&gt; End1([Fin: Sin pedido])

    style Start fill:#90EE90
    style End1 fill:#FFB6C1
    style End2 fill:#90EE90
    style OutOfStock fill:#FFA500
    style StockError fill:#FFB6C1
    style PaymentFailed fill:#FFB6C1
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-3" name="sd-tab-set-1" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-3">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>flowchart TD
    Start([Inicio: Cliente en cat√°logo]) --&gt; Browse[Navegar productos]
    Browse --&gt; SelectProduct[Seleccionar producto]
    SelectProduct --&gt; ViewDetails[Ver detalles]

    ViewDetails --&gt; CheckStock{&quot;&quot;&quot;&quot;Stock&lt;br/&gt;disponible?&quot;&quot;&quot;&quot;}

    CheckStock --&gt;|S√≠| AddCart[Agregar al carrito]
    AddCart --&gt; MoreProducts{&quot;&quot;&quot;&quot;Agregar&lt;br/&gt;m√°s productos?&quot;&quot;&quot;&quot;}

    MoreProducts --&gt;|S√≠| Browse
    MoreProducts --&gt;|No| ViewCart[Ver carrito]

    ViewCart --&gt; AdjustQty{&quot;&quot;&quot;&quot;Ajustar&lt;br/&gt;cantidades?&quot;&quot;&quot;&quot;}
    AdjustQty --&gt;|S√≠| ModifyCart[Modificar carrito]
    ModifyCart --&gt; ViewCart

    AdjustQty --&gt;|No| Checkout[Proceder al pago]
    Checkout --&gt; ValidateStock{&quot;&quot;&quot;&quot;Todo el stock&lt;br/&gt;disponible?&quot;&quot;&quot;&quot;}

    ValidateStock --&gt;|S√≠| SelectPayment[&quot;&quot;&quot;&quot;Seleccionar m√©todo&lt;br/&gt;de pago&quot;&quot;&quot;&quot;]
    SelectPayment --&gt; PaymentMethod{M√©todo?}

    PaymentMethod --&gt;|Tarjeta| EnterCard[&quot;&quot;&quot;&quot;Ingresar datos&lt;br/&gt;de tarjeta&quot;&quot;&quot;&quot;]
    PaymentMethod --&gt;|Transferencia| UploadProof[Subir comprobante]
    PaymentMethod --&gt;|PSE| LoginBank[Login banco]

    EnterCard --&gt; ProcessPayment[Procesar pago]
    UploadProof --&gt; ProcessPayment
    LoginBank --&gt; ProcessPayment

    ProcessPayment --&gt; PaymentResult{&quot;&quot;&quot;&quot;Pago&lt;br/&gt;exitoso?&quot;&quot;&quot;&quot;}

    PaymentResult --&gt;|S√≠| CreateOrder[Crear pedido]
    CreateOrder --&gt; ReduceStock[Reducir stock]
    ReduceStock --&gt; SendNotifications[Enviar notificaciones]
    SendNotifications --&gt; ShowConfirmation[Mostrar confirmaci√≥n]
    ShowConfirmation --&gt; SendConfirmEmail[&quot;&quot;&quot;&quot;Enviar email&lt;br/&gt;de confirmaci√≥n&quot;&quot;&quot;&quot;]
    SendConfirmEmail --&gt; End2([Fin: Pedido creado])

    %% Feedback / Alternate Paths
    CheckStock --&gt;|No| OutOfStock[Mostrar &quot;Agotado&quot;]
    OutOfStock -.-&gt; Browse

    ValidateStock --&gt;|No| StockError[Error: Stock insuficiente]
    StockError -.-&gt; ViewCart

    PaymentResult --&gt;|No| PaymentFailed[Pago rechazado]
    PaymentFailed --&gt; RetryPayment{Reintentar?}
    RetryPayment --&gt;|S√≠| SelectPayment
    RetryPayment --&gt;|No| CancelOrder[Cancelar orden]
    CancelOrder --&gt; End1([Fin: Sin pedido])

    style Start fill:#90EE90
    style End1 fill:#FFB6C1
    style End2 fill:#90EE90
    style OutOfStock fill:#FFA500
    style StockError fill:#FFB6C1
    style PaymentFailed fill:#FFB6C1
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-4" name="sd-tab-set-2" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-4">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            flowchart TD
    Start([Inicio]) --&gt; Login[Log√≠stica inicia sesi√≥n]
    Login --&gt; Dashboard[Ver dashboard]
    Dashboard --&gt; ViewPending[Ver pedidos pendientes]

    ViewPending --&gt; SelectOrder[Seleccionar pedido]
    SelectOrder --&gt; ViewDetails[Ver detalles]
    ViewDetails --&gt; CheckInventory{&quot;&quot;&quot;&quot;Productos&lt;br/&gt;disponibles?&quot;&quot;&quot;&quot;}

    CheckInventory --&gt;|S√≠| StartPrep[Iniciar preparaci√≥n]
    StartPrep --&gt; ChangeStatus1[&quot;&quot;&quot;&quot;Cambiar estado:&lt;br/&gt;PREPARANDO&quot;&quot;&quot;&quot;]
    ChangeStatus1 --&gt; NotifyClient1[Notificar cliente]

    NotifyClient1 --&gt; PickProducts[Recolectar productos]
    PickProducts --&gt; VerifyItems[Verificar items]
    VerifyItems --&gt; PackOrder[Empacar pedido]
    PackOrder --&gt; PrintLabel[Imprimir etiqueta]

    PrintLabel --&gt; ReadyShip{&quot;&quot;&quot;&quot;Listo para&lt;br/&gt;enviar?&quot;&quot;&quot;&quot;}

    ReadyShip --&gt;|S√≠| ChangeStatus2[&quot;&quot;&quot;&quot;Cambiar estado:&lt;br/&gt;EN_TRANSITO&quot;&quot;&quot;&quot;]
    ChangeStatus2 --&gt; NotifyClient2[Notificar cliente]
    NotifyClient2 --&gt; AssignCourier[Asignar transportista]

    AssignCourier --&gt; InTransit[Pedido en tr√°nsito]
    InTransit --&gt; WaitDelivery[&quot;&quot;&quot;&quot;Esperar confirmaci√≥n&lt;br/&gt;de entrega&quot;&quot;&quot;&quot;]

    WaitDelivery --&gt; DeliveryConfirm{&quot;&quot;&quot;&quot;Entrega&lt;br/&gt;confirmada?&quot;&quot;&quot;&quot;}

    DeliveryConfirm --&gt;|S√≠| ChangeStatus3[&quot;&quot;&quot;&quot;Cambiar estado:&lt;br/&gt;ENTREGADO&quot;&quot;&quot;&quot;]
    ChangeStatus3 --&gt; GenerateSale[&quot;&quot;&quot;&quot;Generar registro&lt;br/&gt;de venta&quot;&quot;&quot;&quot;]
    GenerateSale --&gt; NotifyClient3[Notificar cliente]
    NotifyClient3 --&gt; UpdateMetrics[Actualizar m√©tricas]
    UpdateMetrics --&gt; End2([Fin: Completado])

    %% Exceptions
    CheckInventory --&gt;|No| ReportIssue[Reportar problema]
    ReportIssue --&gt; NotifyAdmin[Notificar admin]
    NotifyAdmin --&gt; WaitResolution[Esperar resoluci√≥n]
    WaitResolution --&gt; End1([Fin: Pendiente])

    ReadyShip --&gt;|No| CheckIssue{&quot;&quot;&quot;&quot;Hay&lt;br/&gt;problema?&quot;&quot;&quot;&quot;}
    CheckIssue --&gt;|S√≠| ReportIssue
    CheckIssue --&gt;|No| PickProducts

    DeliveryConfirm --&gt;|No| DeliveryIssue{&quot;&quot;&quot;&quot;Hay&lt;br/&gt;problema?&quot;&quot;&quot;&quot;}
    DeliveryIssue --&gt;|S√≠| ContactClient[Contactar cliente]
    ContactClient --&gt; Reschedule[Reprogramar entrega]
    Reschedule -.-&gt; InTransit
    DeliveryIssue --&gt;|No| WaitDelivery

    style Start fill:#90EE90
    style End1 fill:#FFA500
    style End2 fill:#90EE90
    style ReportIssue fill:#FFB6C1
    style ContactClient fill:#FFA500
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-5" name="sd-tab-set-2" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-5">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>flowchart TD
    Start([Inicio]) --&gt; Login[Log√≠stica inicia sesi√≥n]
    Login --&gt; Dashboard[Ver dashboard]
    Dashboard --&gt; ViewPending[Ver pedidos pendientes]

    ViewPending --&gt; SelectOrder[Seleccionar pedido]
    SelectOrder --&gt; ViewDetails[Ver detalles]
    ViewDetails --&gt; CheckInventory{&quot;&quot;&quot;&quot;Productos&lt;br/&gt;disponibles?&quot;&quot;&quot;&quot;}

    CheckInventory --&gt;|S√≠| StartPrep[Iniciar preparaci√≥n]
    StartPrep --&gt; ChangeStatus1[&quot;&quot;&quot;&quot;Cambiar estado:&lt;br/&gt;PREPARANDO&quot;&quot;&quot;&quot;]
    ChangeStatus1 --&gt; NotifyClient1[Notificar cliente]

    NotifyClient1 --&gt; PickProducts[Recolectar productos]
    PickProducts --&gt; VerifyItems[Verificar items]
    VerifyItems --&gt; PackOrder[Empacar pedido]
    PackOrder --&gt; PrintLabel[Imprimir etiqueta]

    PrintLabel --&gt; ReadyShip{&quot;&quot;&quot;&quot;Listo para&lt;br/&gt;enviar?&quot;&quot;&quot;&quot;}

    ReadyShip --&gt;|S√≠| ChangeStatus2[&quot;&quot;&quot;&quot;Cambiar estado:&lt;br/&gt;EN_TRANSITO&quot;&quot;&quot;&quot;]
    ChangeStatus2 --&gt; NotifyClient2[Notificar cliente]
    NotifyClient2 --&gt; AssignCourier[Asignar transportista]

    AssignCourier --&gt; InTransit[Pedido en tr√°nsito]
    InTransit --&gt; WaitDelivery[&quot;&quot;&quot;&quot;Esperar confirmaci√≥n&lt;br/&gt;de entrega&quot;&quot;&quot;&quot;]

    WaitDelivery --&gt; DeliveryConfirm{&quot;&quot;&quot;&quot;Entrega&lt;br/&gt;confirmada?&quot;&quot;&quot;&quot;}

    DeliveryConfirm --&gt;|S√≠| ChangeStatus3[&quot;&quot;&quot;&quot;Cambiar estado:&lt;br/&gt;ENTREGADO&quot;&quot;&quot;&quot;]
    ChangeStatus3 --&gt; GenerateSale[&quot;&quot;&quot;&quot;Generar registro&lt;br/&gt;de venta&quot;&quot;&quot;&quot;]
    GenerateSale --&gt; NotifyClient3[Notificar cliente]
    NotifyClient3 --&gt; UpdateMetrics[Actualizar m√©tricas]
    UpdateMetrics --&gt; End2([Fin: Completado])

    %% Exceptions
    CheckInventory --&gt;|No| ReportIssue[Reportar problema]
    ReportIssue --&gt; NotifyAdmin[Notificar admin]
    NotifyAdmin --&gt; WaitResolution[Esperar resoluci√≥n]
    WaitResolution --&gt; End1([Fin: Pendiente])

    ReadyShip --&gt;|No| CheckIssue{&quot;&quot;&quot;&quot;Hay&lt;br/&gt;problema?&quot;&quot;&quot;&quot;}
    CheckIssue --&gt;|S√≠| ReportIssue
    CheckIssue --&gt;|No| PickProducts

    DeliveryConfirm --&gt;|No| DeliveryIssue{&quot;&quot;&quot;&quot;Hay&lt;br/&gt;problema?&quot;&quot;&quot;&quot;}
    DeliveryIssue --&gt;|S√≠| ContactClient[Contactar cliente]
    ContactClient --&gt; Reschedule[Reprogramar entrega]
    Reschedule -.-&gt; InTransit
    DeliveryIssue --&gt;|No| WaitDelivery

    style Start fill:#90EE90
    style End1 fill:#FFA500
    style End2 fill:#90EE90
    style ReportIssue fill:#FFB6C1
    style ContactClient fill:#FFA500
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-6" name="sd-tab-set-3" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-6">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            flowchart TD
    Start([Inicio: Timer]) --&gt; Trigger[&quot;&quot;&quot;&quot;Celery Beat trigger&lt;br/&gt;cada 1 hora&quot;&quot;&quot;&quot;]
    Trigger --&gt; GetProducts[&quot;&quot;&quot;&quot;Obtener productos con&lt;br/&gt;recarga autom√°tica activa&quot;&quot;&quot;&quot;]
    GetProducts --&gt; Loop{&quot;&quot;&quot;&quot;M√°s productos&lt;br/&gt;por revisar?&quot;&quot;&quot;&quot;}

    Loop --&gt;|No| EndProcess[Finalizar proceso]
    EndProcess --&gt; End([Fin])

    Loop --&gt;|S√≠| NextProduct[Siguiente producto]
    NextProduct --&gt; CheckStock{&quot;&quot;&quot;&quot;Stock actual &lt;=&lt;br/&gt;Stock m√≠nimo?&quot;&quot;&quot;&quot;}

    CheckStock --&gt;|No| SkipProduct[No requiere recarga]
    SkipProduct -.-&gt; Loop

    CheckStock --&gt;|S√≠| BeginTrans[BEGIN TRANSACTION]
    BeginTrans --&gt; CalcRecharge[Calcular cantidad]
    CalcRecharge --&gt; UpdateStock[UPDATE stock]

    UpdateStock --&gt; LogHistory[INSERT historial]
    LogHistory --&gt; UpdateConfig[UPDATE config]

    UpdateConfig --&gt; Commit[COMMIT TRANSACTION]
    Commit --&gt; SendNotif[Notificar proveedor]
    SendNotif --&gt; LogEvent[Registrar en log]
    LogEvent -.-&gt; Loop

    BeginTrans -.Error.-&gt; Rollback[ROLLBACK]
    Rollback --&gt; LogError[Registrar error]
    LogError --&gt; NotifyAdmin[Notificar admin]
    NotifyAdmin -.-&gt; Loop

    style Start fill:#90EE90
    style End fill:#90EE90
    style SkipProduct fill:#D3D3D3
    style Rollback fill:#FFB6C1
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-7" name="sd-tab-set-3" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-7">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>flowchart TD
    Start([Inicio: Timer]) --&gt; Trigger[&quot;&quot;&quot;&quot;Celery Beat trigger&lt;br/&gt;cada 1 hora&quot;&quot;&quot;&quot;]
    Trigger --&gt; GetProducts[&quot;&quot;&quot;&quot;Obtener productos con&lt;br/&gt;recarga autom√°tica activa&quot;&quot;&quot;&quot;]
    GetProducts --&gt; Loop{&quot;&quot;&quot;&quot;M√°s productos&lt;br/&gt;por revisar?&quot;&quot;&quot;&quot;}

    Loop --&gt;|No| EndProcess[Finalizar proceso]
    EndProcess --&gt; End([Fin])

    Loop --&gt;|S√≠| NextProduct[Siguiente producto]
    NextProduct --&gt; CheckStock{&quot;&quot;&quot;&quot;Stock actual &lt;=&lt;br/&gt;Stock m√≠nimo?&quot;&quot;&quot;&quot;}

    CheckStock --&gt;|No| SkipProduct[No requiere recarga]
    SkipProduct -.-&gt; Loop

    CheckStock --&gt;|S√≠| BeginTrans[BEGIN TRANSACTION]
    BeginTrans --&gt; CalcRecharge[Calcular cantidad]
    CalcRecharge --&gt; UpdateStock[UPDATE stock]

    UpdateStock --&gt; LogHistory[INSERT historial]
    LogHistory --&gt; UpdateConfig[UPDATE config]

    UpdateConfig --&gt; Commit[COMMIT TRANSACTION]
    Commit --&gt; SendNotif[Notificar proveedor]
    SendNotif --&gt; LogEvent[Registrar en log]
    LogEvent -.-&gt; Loop

    BeginTrans -.Error.-&gt; Rollback[ROLLBACK]
    Rollback --&gt; LogError[Registrar error]
    LogError --&gt; NotifyAdmin[Notificar admin]
    NotifyAdmin -.-&gt; Loop

    style Start fill:#90EE90
    style End fill:#90EE90
    style SkipProduct fill:#D3D3D3
    style Rollback fill:#FFB6C1
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-8" name="sd-tab-set-4" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-8">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            flowchart TD
    Start([Inicio]) --&gt; AdminLogin[Admin inicia sesi√≥n]
    AdminLogin --&gt; NavProducts[Navegar Gesti√≥n]
    NavProducts --&gt; ViewProducts[Ver lista productos]

    ViewProducts --&gt; SelectProduct[Seleccionar producto]
    SelectProduct --&gt; ViewCurrent{&quot;&quot;&quot;&quot;Proveedor&lt;br/&gt;actual?&quot;&quot;&quot;&quot;}

    ViewCurrent --&gt;|S√≠| ConfirmChange{&quot;&quot;&quot;&quot;Confirmar&lt;br/&gt;cambio?&quot;&quot;&quot;&quot;}
    ConfirmChange --&gt;|No| ViewProducts
    ConfirmChange --&gt;|S√≠| NewAssign[Nueva asignaci√≥n]
    ViewCurrent --&gt;|No| NewAssign

    NewAssign --&gt; GetProviders[Listar proveedores]
    GetProviders --&gt; SelectProvider[Seleccionar proveedor]

    SelectProvider --&gt; ValidateProvider{&quot;&quot;&quot;&quot;Proveedor&lt;br/&gt;v√°lido?&quot;&quot;&quot;&quot;}
    ValidateProvider --&gt;|No| ErrorInvalid[Error: Inv√°lido]
    ErrorInvalid -.-&gt; GetProviders

    ValidateProvider --&gt;|S√≠| ConfirmAssign[Confirmar]
    ConfirmAssign --&gt; UpdateProduct[UPDATE producto]

    UpdateProduct --&gt; CheckAutoStock{&quot;&quot;&quot;&quot;Configurar&lt;br/&gt;recarga auto?&quot;&quot;&quot;&quot;}
    CheckAutoStock --&gt;|S√≠| ConfigStock[Configurar]
    ConfigStock --&gt; SetParams[Establecer par√°metros]
    SetParams --&gt; EnableAuto[Activar]
    EnableAuto --&gt; SaveConfig[Guardar config]
    SaveConfig --&gt; NotifyProvider

    CheckAutoStock --&gt;|No| NotifyProvider[Notificar]
    NotifyProvider --&gt; LogChange[Registrar auditor√≠a]
    LogChange --&gt; ShowSuccess[√âxito]
    ShowSuccess --&gt; MoreAssign{¬øM√°s?}

    MoreAssign --&gt;|S√≠| ViewProducts
    MoreAssign --&gt;|No| End([Fin])

    style Start fill:#90EE90
    style End fill:#90EE90
    style ErrorInvalid fill:#FFB6C1
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-9" name="sd-tab-set-4" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-9">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>flowchart TD
    Start([Inicio]) --&gt; AdminLogin[Admin inicia sesi√≥n]
    AdminLogin --&gt; NavProducts[Navegar Gesti√≥n]
    NavProducts --&gt; ViewProducts[Ver lista productos]

    ViewProducts --&gt; SelectProduct[Seleccionar producto]
    SelectProduct --&gt; ViewCurrent{&quot;&quot;&quot;&quot;Proveedor&lt;br/&gt;actual?&quot;&quot;&quot;&quot;}

    ViewCurrent --&gt;|S√≠| ConfirmChange{&quot;&quot;&quot;&quot;Confirmar&lt;br/&gt;cambio?&quot;&quot;&quot;&quot;}
    ConfirmChange --&gt;|No| ViewProducts
    ConfirmChange --&gt;|S√≠| NewAssign[Nueva asignaci√≥n]
    ViewCurrent --&gt;|No| NewAssign

    NewAssign --&gt; GetProviders[Listar proveedores]
    GetProviders --&gt; SelectProvider[Seleccionar proveedor]

    SelectProvider --&gt; ValidateProvider{&quot;&quot;&quot;&quot;Proveedor&lt;br/&gt;v√°lido?&quot;&quot;&quot;&quot;}
    ValidateProvider --&gt;|No| ErrorInvalid[Error: Inv√°lido]
    ErrorInvalid -.-&gt; GetProviders

    ValidateProvider --&gt;|S√≠| ConfirmAssign[Confirmar]
    ConfirmAssign --&gt; UpdateProduct[UPDATE producto]

    UpdateProduct --&gt; CheckAutoStock{&quot;&quot;&quot;&quot;Configurar&lt;br/&gt;recarga auto?&quot;&quot;&quot;&quot;}
    CheckAutoStock --&gt;|S√≠| ConfigStock[Configurar]
    ConfigStock --&gt; SetParams[Establecer par√°metros]
    SetParams --&gt; EnableAuto[Activar]
    EnableAuto --&gt; SaveConfig[Guardar config]
    SaveConfig --&gt; NotifyProvider

    CheckAutoStock --&gt;|No| NotifyProvider[Notificar]
    NotifyProvider --&gt; LogChange[Registrar auditor√≠a]
    LogChange --&gt; ShowSuccess[√âxito]
    ShowSuccess --&gt; MoreAssign{¬øM√°s?}

    MoreAssign --&gt;|S√≠| ViewProducts
    MoreAssign --&gt;|No| End([Fin])

    style Start fill:#90EE90
    style End fill:#90EE90
    style ErrorInvalid fill:#FFB6C1
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-10" name="sd-tab-set-5" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-10">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            flowchart TD
    Start([Inicio]) --&gt; Login{&quot;&quot;&quot;&quot;Usuario&lt;br/&gt;autenticado?&quot;&quot;&quot;&quot;}
    Login --&gt;|No| RedirectLogin[Redirect login]
    RedirectLogin --&gt; End1([Fin])

    Login --&gt;|S√≠| CheckRole{Rol?}

    CheckRole --&gt;|Admin| AdminDash[Dashboard Admin]
    CheckRole --&gt;|Proveedor| ProvDash[Dashboard Prov]
    CheckRole --&gt;|Log√≠stica| LogiDash[Dashboard Log]
    CheckRole --&gt;|Cliente| ClientDash[Dashboard Client]

    AdminDash --&gt; SelectReportType[Seleccionar reporte]
    SelectReportType --&gt; ReportType{Tipo?}

    ReportType --&gt; SalesReport[Ventas]
    ReportType --&gt; StockReport[Stock]
    ReportType --&gt; UsersReport[Usuarios]
    ReportType --&gt; OrdersReport[Pedidos]

    ProvDash --&gt; ProvReports[Reportes Prov]
    LogiDash --&gt; LogiReports[Reportes Log]
    ClientDash --&gt; ClientReports[Reportes Client]

    SalesReport --&gt; SetParams[Par√°metros]
    StockReport --&gt; SetParams
    UsersReport --&gt; SetParams
    OrdersReport --&gt; SetParams
    ProvReports --&gt; SetParams
    LogiReports --&gt; SetParams
    ClientReports --&gt; SetParams

    SetParams --&gt; QueryDB[Consultar DB]
    QueryDB --&gt; ProcessData[Procesar]
    ProcessData --&gt; GenerateChart[Gr√°ficos]
    GenerateChart --&gt; FormatReport[Formatear]

    FormatReport --&gt; ExportFormat{Exportar?}
    ExportFormat --&gt;|PDF| GenPDF[PDF]
    ExportFormat --&gt;|Excel| GenExcel[Excel]
    ExportFormat --&gt;|CSV| GenCSV[CSV]

    GenPDF --&gt; Download[Descargar]
    GenExcel --&gt; Download
    GenCSV --&gt; Download

    Download --&gt; SaveHistory[Historial]
    SaveHistory --&gt; End2([Fin])

    style Start fill:#90EE90
    style End1 fill:#FFB6C1
    style End2 fill:#90EE90
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-11" name="sd-tab-set-5" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-11">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>flowchart TD
    Start([Inicio]) --&gt; Login{&quot;&quot;&quot;&quot;Usuario&lt;br/&gt;autenticado?&quot;&quot;&quot;&quot;}
    Login --&gt;|No| RedirectLogin[Redirect login]
    RedirectLogin --&gt; End1([Fin])

    Login --&gt;|S√≠| CheckRole{Rol?}

    CheckRole --&gt;|Admin| AdminDash[Dashboard Admin]
    CheckRole --&gt;|Proveedor| ProvDash[Dashboard Prov]
    CheckRole --&gt;|Log√≠stica| LogiDash[Dashboard Log]
    CheckRole --&gt;|Cliente| ClientDash[Dashboard Client]

    AdminDash --&gt; SelectReportType[Seleccionar reporte]
    SelectReportType --&gt; ReportType{Tipo?}

    ReportType --&gt; SalesReport[Ventas]
    ReportType --&gt; StockReport[Stock]
    ReportType --&gt; UsersReport[Usuarios]
    ReportType --&gt; OrdersReport[Pedidos]

    ProvDash --&gt; ProvReports[Reportes Prov]
    LogiDash --&gt; LogiReports[Reportes Log]
    ClientDash --&gt; ClientReports[Reportes Client]

    SalesReport --&gt; SetParams[Par√°metros]
    StockReport --&gt; SetParams
    UsersReport --&gt; SetParams
    OrdersReport --&gt; SetParams
    ProvReports --&gt; SetParams
    LogiReports --&gt; SetParams
    ClientReports --&gt; SetParams

    SetParams --&gt; QueryDB[Consultar DB]
    QueryDB --&gt; ProcessData[Procesar]
    ProcessData --&gt; GenerateChart[Gr√°ficos]
    GenerateChart --&gt; FormatReport[Formatear]

    FormatReport --&gt; ExportFormat{Exportar?}
    ExportFormat --&gt;|PDF| GenPDF[PDF]
    ExportFormat --&gt;|Excel| GenExcel[Excel]
    ExportFormat --&gt;|CSV| GenCSV[CSV]

    GenPDF --&gt; Download[Descargar]
    GenExcel --&gt; Download
    GenCSV --&gt; Download

    Download --&gt; SaveHistory[Historial]
    SaveHistory --&gt; End2([Fin])

    style Start fill:#90EE90
    style End1 fill:#FFB6C1
    style End2 fill:#90EE90
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-12" name="sd-tab-set-6" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-12">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            flowchart TD
    Start([Inicio]) --&gt; ViewProfile[Ver perfil]
    ViewProfile --&gt; SelectAction{Acci√≥n?}

    SelectAction --&gt;|Editar| EditProfile
    SelectAction --&gt;|Pass| ChangePass
    SelectAction --&gt;|Deactivate| DeactivateAcc[Desactivar]
    SelectAction --&gt;|Delete| DeleteAcc[Eliminar]

    %% Edit Profile
    EditProfile --&gt; InputChanges[Ingresar]
    InputChanges --&gt; ValidateChanges{V√°lido?}
    ValidateChanges --&gt;|No| ShowErrors[Error]
    ShowErrors -.-&gt; InputChanges
    ValidateChanges --&gt;|S√≠| SaveChanges[Guardar]
    SaveChanges --&gt; SuccessMsg[√âxito]
    SuccessMsg --&gt; ViewProfile

    %% Change Pass
    ChangePass --&gt; InputOldPass[Pass actual]
    InputOldPass --&gt; VerifyOldPass{Correcta?}
    VerifyOldPass --&gt;|No| ErrorOldPass[Error]
    ErrorOldPass -.-&gt; ChangePass

    VerifyOldPass --&gt;|S√≠| InputNewPass[Nueva pass]
    InputNewPass --&gt; CheckStrength{Fuerte?}
    CheckStrength --&gt;|No| ErrorWeak[D√©bil]
    ErrorWeak -.-&gt; InputNewPass

    CheckStrength --&gt;|S√≠| CheckHistory{Usada?}
    CheckHistory --&gt;|S√≠| ErrorUsed[Usada]
    ErrorUsed -.-&gt; InputNewPass

    CheckHistory --&gt;|No| UpdatePass[Actualizar]
    UpdatePass --&gt; SaveHistory[Historial]
    SaveHistory --&gt; LogoutAll[Logout all]
    LogoutAll --&gt; Redirect[Login]
    Redirect --&gt; End1([Fin])

    %% Deactivate
    DeactivateAcc --&gt; ConfirmDeact{Confirmar?}
    ConfirmDeact --&gt;|No| ViewProfile
    ConfirmDeact --&gt;|S√≠| SetSelfDeact[Desactivar]
    SetSelfDeact --&gt; Logout[Logout]
    Logout --&gt; End2([Fin])

    %% Delete
    DeleteAcc --&gt; ConfirmDelete{Confirmar?}
    ConfirmDelete --&gt;|No| ViewProfile
    ConfirmDelete --&gt;|S√≠| NotifyAdmin[Notificar Admin]
    NotifyAdmin --&gt; PendingReview[Revisi√≥n]
    PendingReview --&gt; End3([Fin])

    style Start fill:#90EE90
    style End1 fill:#87CEEB
    style End2 fill:#FFA500
    style End3 fill:#FFA500
    style ErrorOldPass fill:#FFB6C1
    style ErrorWeak fill:#FFB6C1
    style ErrorUsed fill:#FFB6C1
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-13" name="sd-tab-set-6" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-13">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>flowchart TD
    Start([Inicio]) --&gt; ViewProfile[Ver perfil]
    ViewProfile --&gt; SelectAction{Acci√≥n?}

    SelectAction --&gt;|Editar| EditProfile
    SelectAction --&gt;|Pass| ChangePass
    SelectAction --&gt;|Deactivate| DeactivateAcc[Desactivar]
    SelectAction --&gt;|Delete| DeleteAcc[Eliminar]

    %% Edit Profile
    EditProfile --&gt; InputChanges[Ingresar]
    InputChanges --&gt; ValidateChanges{V√°lido?}
    ValidateChanges --&gt;|No| ShowErrors[Error]
    ShowErrors -.-&gt; InputChanges
    ValidateChanges --&gt;|S√≠| SaveChanges[Guardar]
    SaveChanges --&gt; SuccessMsg[√âxito]
    SuccessMsg --&gt; ViewProfile

    %% Change Pass
    ChangePass --&gt; InputOldPass[Pass actual]
    InputOldPass --&gt; VerifyOldPass{Correcta?}
    VerifyOldPass --&gt;|No| ErrorOldPass[Error]
    ErrorOldPass -.-&gt; ChangePass

    VerifyOldPass --&gt;|S√≠| InputNewPass[Nueva pass]
    InputNewPass --&gt; CheckStrength{Fuerte?}
    CheckStrength --&gt;|No| ErrorWeak[D√©bil]
    ErrorWeak -.-&gt; InputNewPass

    CheckStrength --&gt;|S√≠| CheckHistory{Usada?}
    CheckHistory --&gt;|S√≠| ErrorUsed[Usada]
    ErrorUsed -.-&gt; InputNewPass

    CheckHistory --&gt;|No| UpdatePass[Actualizar]
    UpdatePass --&gt; SaveHistory[Historial]
    SaveHistory --&gt; LogoutAll[Logout all]
    LogoutAll --&gt; Redirect[Login]
    Redirect --&gt; End1([Fin])

    %% Deactivate
    DeactivateAcc --&gt; ConfirmDeact{Confirmar?}
    ConfirmDeact --&gt;|No| ViewProfile
    ConfirmDeact --&gt;|S√≠| SetSelfDeact[Desactivar]
    SetSelfDeact --&gt; Logout[Logout]
    Logout --&gt; End2([Fin])

    %% Delete
    DeleteAcc --&gt; ConfirmDelete{Confirmar?}
    ConfirmDelete --&gt;|No| ViewProfile
    ConfirmDelete --&gt;|S√≠| NotifyAdmin[Notificar Admin]
    NotifyAdmin --&gt; PendingReview[Revisi√≥n]
    PendingReview --&gt; End3([Fin])

    style Start fill:#90EE90
    style End1 fill:#87CEEB
    style End2 fill:#FFA500
    style End3 fill:#FFA500
    style ErrorOldPass fill:#FFB6C1
    style ErrorWeak fill:#FFB6C1
    style ErrorUsed fill:#FFB6C1
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
</details><details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3 sd-mb-4" open="open">
<summary class="sd-summary-title sd-card-header">
üìä Diagrama Casos Uso (5 diagramas)<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-14" name="sd-tab-set-7" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-14">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            flowchart LR
    %% Actors on the Left
    Admin((Administrador))
    Proveedor((Proveedor))
    Logistica((Log√≠stica))
    Cliente((Cliente))
    Sistema_Ext[Sistema Externo]

    %% System Boundary
    subgraph Sistema_PREXCOL[&quot;SISTEMA PREXCOL&quot;]
        direction TB

        subgraph Autenticacion[&quot;M√≥dulo de Autenticaci√≥n&quot;]
            UC1[Registrarse]
            UC2[Iniciar Sesi√≥n]
            UC3[Recuperar Contrase√±a]
            UC4[Cambiar Contrase√±a]
            UC5[Gestionar Cuenta]
        end

        subgraph Productos[&quot;M√≥dulo de Productos&quot;]
            UC6[Gestionar Tiendas]
            UC7[Gestionar Productos]
            UC8[Asignar Productos]
            UC9[Navegar Cat√°logo]
            UC10[Buscar Productos]
        end

        subgraph Stock[&quot;M√≥dulo de Stock&quot;]
            UC11[Configurar Recarga Auto]
            UC12[Recargar Stock Manual]
            UC13[Ver Historial Recargas]
            UC14[Monitorear Stock]
        end

        subgraph Pedidos[&quot;M√≥dulo de Pedidos&quot;]
            UC15[Crear Pedido]
            UC16[Procesar Pago]
            UC17[Gestionar Pedidos]
            UC18[Cambiar Estado Pedido]
            UC19[Ver Mis Pedidos]
        end

        subgraph Ventas[&quot;M√≥dulo de Ventas&quot;]
            UC20[Generar Venta]
            UC21[Ver Historial Ventas]
            UC22[Generar Reportes]
        end

        subgraph Administracion[&quot;M√≥dulo de Administraci√≥n&quot;]
            UC26[Gestionar Usuarios]
            UC27[Suspender Cuenta]
            UC28[Ver Dashboard]
            UC29[Configurar Sistema]
        end

        subgraph Notificaciones[&quot;M√≥dulo de Notificaciones&quot;]
            UC23[Enviar Notificaci√≥n]
            UC24[Ver Notificaciones]
            UC25[Marcar como Le√≠da]
        end
    end

    %% Relationships - Organized to reduce crossing
    %% Admin Connections
    Admin --&gt; UC1
    Admin --&gt; UC2
    Admin --&gt; UC6
    Admin --&gt; UC7
    Admin --&gt; UC8
    Admin --&gt; UC22
    Admin --&gt; UC26
    Admin --&gt; UC27
    Admin --&gt; UC28

    %% Provider Connections
    Proveedor --&gt; UC1
    Proveedor --&gt; UC2
    Proveedor --&gt; UC7
    Proveedor --&gt; UC11
    Proveedor --&gt; UC12
    Proveedor --&gt; UC13
    Proveedor --&gt; UC14
    Proveedor --&gt; UC22

    %% Logistica Connections
    Logistica --&gt; UC1
    Logistica --&gt; UC2
    Logistica --&gt; UC17
    Logistica --&gt; UC18
    Logistica --&gt; UC28

    %% Client Connections
    Cliente --&gt; UC1
    Cliente --&gt; UC2
    Cliente --&gt; UC9
    Cliente --&gt; UC10
    Cliente --&gt; UC15
    Cliente --&gt; UC16
    Cliente --&gt; UC19
    Cliente --&gt; UC24

    %% Include/Extend
    UC16 -.-&gt; Sistema_Ext
    UC23 -.-&gt; Sistema_Ext
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-15" name="sd-tab-set-7" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-15">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>flowchart LR
    %% Actors on the Left
    Admin((Administrador))
    Proveedor((Proveedor))
    Logistica((Log√≠stica))
    Cliente((Cliente))
    Sistema_Ext[Sistema Externo]

    %% System Boundary
    subgraph Sistema_PREXCOL[&quot;SISTEMA PREXCOL&quot;]
        direction TB

        subgraph Autenticacion[&quot;M√≥dulo de Autenticaci√≥n&quot;]
            UC1[Registrarse]
            UC2[Iniciar Sesi√≥n]
            UC3[Recuperar Contrase√±a]
            UC4[Cambiar Contrase√±a]
            UC5[Gestionar Cuenta]
        end

        subgraph Productos[&quot;M√≥dulo de Productos&quot;]
            UC6[Gestionar Tiendas]
            UC7[Gestionar Productos]
            UC8[Asignar Productos]
            UC9[Navegar Cat√°logo]
            UC10[Buscar Productos]
        end

        subgraph Stock[&quot;M√≥dulo de Stock&quot;]
            UC11[Configurar Recarga Auto]
            UC12[Recargar Stock Manual]
            UC13[Ver Historial Recargas]
            UC14[Monitorear Stock]
        end

        subgraph Pedidos[&quot;M√≥dulo de Pedidos&quot;]
            UC15[Crear Pedido]
            UC16[Procesar Pago]
            UC17[Gestionar Pedidos]
            UC18[Cambiar Estado Pedido]
            UC19[Ver Mis Pedidos]
        end

        subgraph Ventas[&quot;M√≥dulo de Ventas&quot;]
            UC20[Generar Venta]
            UC21[Ver Historial Ventas]
            UC22[Generar Reportes]
        end

        subgraph Administracion[&quot;M√≥dulo de Administraci√≥n&quot;]
            UC26[Gestionar Usuarios]
            UC27[Suspender Cuenta]
            UC28[Ver Dashboard]
            UC29[Configurar Sistema]
        end

        subgraph Notificaciones[&quot;M√≥dulo de Notificaciones&quot;]
            UC23[Enviar Notificaci√≥n]
            UC24[Ver Notificaciones]
            UC25[Marcar como Le√≠da]
        end
    end

    %% Relationships - Organized to reduce crossing
    %% Admin Connections
    Admin --&gt; UC1
    Admin --&gt; UC2
    Admin --&gt; UC6
    Admin --&gt; UC7
    Admin --&gt; UC8
    Admin --&gt; UC22
    Admin --&gt; UC26
    Admin --&gt; UC27
    Admin --&gt; UC28

    %% Provider Connections
    Proveedor --&gt; UC1
    Proveedor --&gt; UC2
    Proveedor --&gt; UC7
    Proveedor --&gt; UC11
    Proveedor --&gt; UC12
    Proveedor --&gt; UC13
    Proveedor --&gt; UC14
    Proveedor --&gt; UC22

    %% Logistica Connections
    Logistica --&gt; UC1
    Logistica --&gt; UC2
    Logistica --&gt; UC17
    Logistica --&gt; UC18
    Logistica --&gt; UC28

    %% Client Connections
    Cliente --&gt; UC1
    Cliente --&gt; UC2
    Cliente --&gt; UC9
    Cliente --&gt; UC10
    Cliente --&gt; UC15
    Cliente --&gt; UC16
    Cliente --&gt; UC19
    Cliente --&gt; UC24

    %% Include/Extend
    UC16 -.-&gt; Sistema_Ext
    UC23 -.-&gt; Sistema_Ext
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-16" name="sd-tab-set-8" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-16">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            flowchart LR
    Admin((Administrador))

    subgraph CU_Admin[&quot;Casos de Uso del Administrador&quot;]
        direction TB
        A1[Gestionar Tiendas]
        A2[Gestionar Productos]
        A3[&quot;&quot;&quot;&quot;Asignar Productos&lt;br/&gt;a Proveedor&quot;&quot;&quot;&quot;]
        A4[Gestionar Usuarios]
        A5[&quot;&quot;&quot;&quot;Suspender/Reactivar&lt;br/&gt;Cuentas&quot;&quot;&quot;&quot;]
        A6[Ver Dashboard Global]
        A7[&quot;&quot;&quot;&quot;Generar Reportes&lt;br/&gt;Completos&quot;&quot;&quot;&quot;]
        A8[Configurar Sistema]
        A9[Ver M√©tricas KPI]
    end

    Admin --&gt; A1
    Admin --&gt; A2
    Admin --&gt; A3
    Admin --&gt; A4
    Admin --&gt; A5
    Admin --&gt; A6
    Admin --&gt; A7
    Admin --&gt; A8
    Admin --&gt; A9

    A3 -.include.-&gt; A2
    A7 -.include.-&gt; A6
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-17" name="sd-tab-set-8" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-17">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>flowchart LR
    Admin((Administrador))

    subgraph CU_Admin[&quot;Casos de Uso del Administrador&quot;]
        direction TB
        A1[Gestionar Tiendas]
        A2[Gestionar Productos]
        A3[&quot;&quot;&quot;&quot;Asignar Productos&lt;br/&gt;a Proveedor&quot;&quot;&quot;&quot;]
        A4[Gestionar Usuarios]
        A5[&quot;&quot;&quot;&quot;Suspender/Reactivar&lt;br/&gt;Cuentas&quot;&quot;&quot;&quot;]
        A6[Ver Dashboard Global]
        A7[&quot;&quot;&quot;&quot;Generar Reportes&lt;br/&gt;Completos&quot;&quot;&quot;&quot;]
        A8[Configurar Sistema]
        A9[Ver M√©tricas KPI]
    end

    Admin --&gt; A1
    Admin --&gt; A2
    Admin --&gt; A3
    Admin --&gt; A4
    Admin --&gt; A5
    Admin --&gt; A6
    Admin --&gt; A7
    Admin --&gt; A8
    Admin --&gt; A9

    A3 -.include.-&gt; A2
    A7 -.include.-&gt; A6
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-18" name="sd-tab-set-9" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-18">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            flowchart LR
    Proveedor((Proveedor))

    subgraph CU_Proveedor[&quot;Casos de Uso del Proveedor&quot;]
        direction TB
        P1[Ver Productos Asignados]
        P2[Actualizar Stock]
        P3[&quot;&quot;&quot;&quot;Configurar Recarga&lt;br/&gt;Autom√°tica&quot;&quot;&quot;&quot;]
        P4[&quot;&quot;&quot;&quot;Realizar Recarga&lt;br/&gt;Manual&quot;&quot;&quot;&quot;]
        P5[&quot;&quot;&quot;&quot;Ver Historial&lt;br/&gt;de Recargas&quot;&quot;&quot;&quot;]
        P6[&quot;&quot;&quot;&quot;Editar Informaci√≥n&lt;br/&gt;de Producto&quot;&quot;&quot;&quot;]
        P7[&quot;&quot;&quot;&quot;Subir Im√°genes&lt;br/&gt;de Producto&quot;&quot;&quot;&quot;]
        P8[&quot;&quot;&quot;&quot;Ver Reportes&lt;br/&gt;de Stock&quot;&quot;&quot;&quot;]
        P9[&quot;&quot;&quot;&quot;Recibir Alertas&lt;br/&gt;Stock Bajo&quot;&quot;&quot;&quot;]
    end

    Proveedor --&gt; P1
    Proveedor --&gt; P2
    Proveedor --&gt; P3
    Proveedor --&gt; P4
    Proveedor --&gt; P5
    Proveedor --&gt; P6
    Proveedor --&gt; P7
    Proveedor --&gt; P8
    Proveedor --&gt; P9

    P2 -.extend.-&gt; P4
    P3 -.include.-&gt; P1
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-19" name="sd-tab-set-9" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-19">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>flowchart LR
    Proveedor((Proveedor))

    subgraph CU_Proveedor[&quot;Casos de Uso del Proveedor&quot;]
        direction TB
        P1[Ver Productos Asignados]
        P2[Actualizar Stock]
        P3[&quot;&quot;&quot;&quot;Configurar Recarga&lt;br/&gt;Autom√°tica&quot;&quot;&quot;&quot;]
        P4[&quot;&quot;&quot;&quot;Realizar Recarga&lt;br/&gt;Manual&quot;&quot;&quot;&quot;]
        P5[&quot;&quot;&quot;&quot;Ver Historial&lt;br/&gt;de Recargas&quot;&quot;&quot;&quot;]
        P6[&quot;&quot;&quot;&quot;Editar Informaci√≥n&lt;br/&gt;de Producto&quot;&quot;&quot;&quot;]
        P7[&quot;&quot;&quot;&quot;Subir Im√°genes&lt;br/&gt;de Producto&quot;&quot;&quot;&quot;]
        P8[&quot;&quot;&quot;&quot;Ver Reportes&lt;br/&gt;de Stock&quot;&quot;&quot;&quot;]
        P9[&quot;&quot;&quot;&quot;Recibir Alertas&lt;br/&gt;Stock Bajo&quot;&quot;&quot;&quot;]
    end

    Proveedor --&gt; P1
    Proveedor --&gt; P2
    Proveedor --&gt; P3
    Proveedor --&gt; P4
    Proveedor --&gt; P5
    Proveedor --&gt; P6
    Proveedor --&gt; P7
    Proveedor --&gt; P8
    Proveedor --&gt; P9

    P2 -.extend.-&gt; P4
    P3 -.include.-&gt; P1
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-20" name="sd-tab-set-10" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-20">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            flowchart LR
    Logistica((Log√≠stica))

    subgraph CU_Logistica[&quot;Casos de Uso de Log√≠stica&quot;]
        direction TB
        L1[&quot;&quot;&quot;&quot;Ver Pedidos&lt;br/&gt;Pendientes&quot;&quot;&quot;&quot;]
        L2[&quot;&quot;&quot;&quot;Iniciar Preparaci√≥n&lt;br/&gt;de Pedido&quot;&quot;&quot;&quot;]
        L3[&quot;&quot;&quot;&quot;Cambiar Estado&lt;br/&gt;a EN_TRANSITO&quot;&quot;&quot;&quot;]
        L4[&quot;&quot;&quot;&quot;Cambiar Estado&lt;br/&gt;a ENTREGADO&quot;&quot;&quot;&quot;]
        L5[&quot;&quot;&quot;&quot;Reportar Problema&lt;br/&gt;en Entrega&quot;&quot;&quot;&quot;]
        L6[&quot;&quot;&quot;&quot;Ver Detalles&lt;br/&gt;de Pedido&quot;&quot;&quot;&quot;]
        L7[Asignar Transportista]
        L8[&quot;&quot;&quot;&quot;Ver Dashboard&lt;br/&gt;Log√≠stica&quot;&quot;&quot;&quot;]
        L9[&quot;&quot;&quot;&quot;Generar Reporte&lt;br/&gt;de Entregas&quot;&quot;&quot;&quot;]
    end

    Logistica --&gt; L1
    Logistica --&gt; L2
    Logistica --&gt; L3
    Logistica --&gt; L4
    Logistica --&gt; L5
    Logistica --&gt; L6
    Logistica --&gt; L7
    Logistica --&gt; L8
    Logistica --&gt; L9

    L2 -.include.-&gt; L6
    L3 -.extend.-&gt; L7
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-21" name="sd-tab-set-10" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-21">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>flowchart LR
    Logistica((Log√≠stica))

    subgraph CU_Logistica[&quot;Casos de Uso de Log√≠stica&quot;]
        direction TB
        L1[&quot;&quot;&quot;&quot;Ver Pedidos&lt;br/&gt;Pendientes&quot;&quot;&quot;&quot;]
        L2[&quot;&quot;&quot;&quot;Iniciar Preparaci√≥n&lt;br/&gt;de Pedido&quot;&quot;&quot;&quot;]
        L3[&quot;&quot;&quot;&quot;Cambiar Estado&lt;br/&gt;a EN_TRANSITO&quot;&quot;&quot;&quot;]
        L4[&quot;&quot;&quot;&quot;Cambiar Estado&lt;br/&gt;a ENTREGADO&quot;&quot;&quot;&quot;]
        L5[&quot;&quot;&quot;&quot;Reportar Problema&lt;br/&gt;en Entrega&quot;&quot;&quot;&quot;]
        L6[&quot;&quot;&quot;&quot;Ver Detalles&lt;br/&gt;de Pedido&quot;&quot;&quot;&quot;]
        L7[Asignar Transportista]
        L8[&quot;&quot;&quot;&quot;Ver Dashboard&lt;br/&gt;Log√≠stica&quot;&quot;&quot;&quot;]
        L9[&quot;&quot;&quot;&quot;Generar Reporte&lt;br/&gt;de Entregas&quot;&quot;&quot;&quot;]
    end

    Logistica --&gt; L1
    Logistica --&gt; L2
    Logistica --&gt; L3
    Logistica --&gt; L4
    Logistica --&gt; L5
    Logistica --&gt; L6
    Logistica --&gt; L7
    Logistica --&gt; L8
    Logistica --&gt; L9

    L2 -.include.-&gt; L6
    L3 -.extend.-&gt; L7
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-22" name="sd-tab-set-11" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-22">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            flowchart LR
    Cliente((Cliente))

    subgraph CU_Cliente[&quot;Casos de Uso del Cliente&quot;]
        direction TB
        C1[Navegar Cat√°logo]
        C2[Buscar Productos]
        C3[&quot;&quot;&quot;&quot;Ver Detalles&lt;br/&gt;de Producto&quot;&quot;&quot;&quot;]
        C4[Agregar al Carrito]
        C5[Modificar Carrito]
        C6[Realizar Compra]
        C7[&quot;&quot;&quot;&quot;Seleccionar M√©todo&lt;br/&gt;de Pago&quot;&quot;&quot;&quot;]
        C8[Ver Mis Pedidos]
        C9[&quot;&quot;&quot;&quot;Ver Estado&lt;br/&gt;de Pedido&quot;&quot;&quot;&quot;]
        C10[Ver Notificaciones]
        C11[Descargar Factura]
    end

    Cliente --&gt; C1
    Cliente --&gt; C2
    Cliente --&gt; C3
    Cliente --&gt; C4
    Cliente --&gt; C5
    Cliente --&gt; C6
    Cliente --&gt; C7
    Cliente --&gt; C8
    Cliente --&gt; C9
    Cliente --&gt; C10
    Cliente --&gt; C11

    C3 -.extend.-&gt; C4
    C6 -.include.-&gt; C7
    C9 -.include.-&gt; C8
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-23" name="sd-tab-set-11" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-23">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>flowchart LR
    Cliente((Cliente))

    subgraph CU_Cliente[&quot;Casos de Uso del Cliente&quot;]
        direction TB
        C1[Navegar Cat√°logo]
        C2[Buscar Productos]
        C3[&quot;&quot;&quot;&quot;Ver Detalles&lt;br/&gt;de Producto&quot;&quot;&quot;&quot;]
        C4[Agregar al Carrito]
        C5[Modificar Carrito]
        C6[Realizar Compra]
        C7[&quot;&quot;&quot;&quot;Seleccionar M√©todo&lt;br/&gt;de Pago&quot;&quot;&quot;&quot;]
        C8[Ver Mis Pedidos]
        C9[&quot;&quot;&quot;&quot;Ver Estado&lt;br/&gt;de Pedido&quot;&quot;&quot;&quot;]
        C10[Ver Notificaciones]
        C11[Descargar Factura]
    end

    Cliente --&gt; C1
    Cliente --&gt; C2
    Cliente --&gt; C3
    Cliente --&gt; C4
    Cliente --&gt; C5
    Cliente --&gt; C6
    Cliente --&gt; C7
    Cliente --&gt; C8
    Cliente --&gt; C9
    Cliente --&gt; C10
    Cliente --&gt; C11

    C3 -.extend.-&gt; C4
    C6 -.include.-&gt; C7
    C9 -.include.-&gt; C8
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
</details><details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3 sd-mb-4" open="open">
<summary class="sd-summary-title sd-card-header">
üìä Diagrama Clases (1 diagramas)<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-24" name="sd-tab-set-12" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-24">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            classDiagram
    class Usuario {
        +Long id
        +String email
        +String nombre
        +String rol
        +String telefono
        +String direccion
        +Boolean estado
        +ImageField imagen
        +DateTime fecha_creacion
       + DateTime ultimo_ingreso
        +DateTime last_activity
        +Boolean is_staff
        +Boolean self_deactivated
        +Boolean admin_suspended
        +String suspension_reason
        +DateTime suspension_date
        +set_password(raw_password)
        +save()
    }

    class PasswordHistory {
        +Long id
        +Long id_usuario
        +String password_hash
        +DateTime fecha_creacion
    }

    class Tienda {
        +Long id
        +Long id_administrador
        +String nombre
        +String direccion
        +String telefono
        +Boolean activa
        +DateTime fecha_creacion
        +DateTime fecha_actualizacion
    }

    class Producto {
        +Long id
        +Long id_tienda
        +Long id_proveedor
        +String nombre
        +String descripcion
        +Decimal precio
        +Integer stock
        +Boolean es_basico
        +String categoria
        +ImageField imagen1
        +ImageField imagen2
        +ImageField imagen3
        +String caracteristicas
        +Boolean activo
        +DateTime fecha_creacion
        +DateTime fecha_actualizacion
        +reducir_stock(cantidad)
        +aumentar_stock(cantidad)
    }

    class StockConfig {
        +Long id
        +Long id_producto
        +Integer stock_minimo
        +Integer cantidad_recarga
        +Boolean recarga_automatica_activa
        +DateTime ultima_recarga
        +Integer total_recargas
        +DateTime fecha_creacion
        +DateTime fecha_actualizacion
        +necesita_recarga()
        +ejecutar_recarga()
    }

    class HistorialRecarga {
        +Long id
        +Long id_producto
        +Long id_usuario_ejecutor
        +Integer cantidad
        +Integer stock_anterior
        +Integer stock_nuevo
        +String tipo
        +String notas
        +DateTime fecha_creacion
    }

    class Pedido {
        +Long id
        +Long id_cliente
        +Long id_tienda
        +String estado
        +Decimal total
        +DateTime fecha_creacion
        +DateTime fecha_actualizacion
        +String notas
        +calcular_total()
        +puede_cambiar_a_preparando()
        +puede_cambiar_a_en_transito()
        +puede_cambiar_a_entregado()
    }

    class DetallePedido {
        +Long id
        +Long id_pedido
        +Long id_producto
        +Integer cantidad
        +Decimal precio_unitario
        +subtotal()
        +save()
        +delete()
    }

    class Venta {
        +Long id
        +Long id_pedido
        +Long id_cliente
        +Decimal total
        +DateTime fecha_venta
        +Integer cantidad_items
    }

    class DetalleVenta {
        +Long id
        +Long id_venta
        +Long id_producto
        +Integer cantidad
        +Decimal precio_unitario
        +Decimal subtotal
    }

    class Pago {
        +Long id
        +Long id_usuario
        +Long id_pedido
        +Long id_estado_pago
        +Long id_metodo_pago
        +Decimal monto
        +FileField comprobante
        +DateTime fecha_creacion
        +DateTime fecha_actualizacion
    }

    class Transaccion {
        +Long id
        +Long id_pago
        +String referencia_externa
        +Decimal monto
        +String estado
        +JSON respuesta_gateway
        +DateTime fecha_creacion
    }

    class EstadoPago {
        +Long id
        +String nombre
        +String descripcion
        +DateTime fecha_creacion
        +DateTime fecha_actualizacion
    }

    class MetodoPago {
        +Long id
        +String nombre
        +Boolean activo
        +DateTime fecha_creacion
        +DateTime fecha_actualizacion
    }

    class Notificacion {
        +Long id
        +Long id_usuario
        +Long id_tipo_notificacion
        +Long id_estado_notificacion
        +String mensaje
        +String destino
        +Boolean leida
        +DateTime fecha_lectura
        +DateTime fecha_creacion
        +DateTime fecha_actualizacion
    }

    class TipoNotificacion {
        +Long id
        +String nombre
        +String descripcion
        +DateTime fecha_creacion
        +DateTime fecha_actualizacion
    }

    class EstadoNotificacion {
        +Long id
        +String nombre
        +String descripcion
        +DateTime fecha_creacion
        +DateTime fecha_actualizacion
    }

    class Seccion {
        +Long id
        +String nombre
        +String descripcion
        +Boolean activa
        +DateTime fecha_creacion
    }

    %% Relaciones
    Usuario &quot;1&quot; --&gt; &quot;*&quot; PasswordHistory : tiene historial
    Usuario &quot;1&quot; --&gt; &quot;*&quot; Tienda : administra
    Usuario &quot;1&quot; --&gt; &quot;*&quot; Producto : suministra
    Usuario &quot;1&quot; --&gt; &quot;*&quot; Pedido : realiza
    Usuario &quot;1&quot; --&gt; &quot;*&quot; Pago : efectua
    Usuario &quot;1&quot; --&gt; &quot;*&quot; Notificacion : recibe
    Usuario &quot;1&quot; --&gt; &quot;*&quot; HistorialRecarga : ejecuta
    Usuario &quot;1&quot; --&gt; &quot;*&quot; Venta : compra

    Tienda &quot;1&quot; --&gt; &quot;*&quot; Producto : contiene
    Tienda &quot;1&quot; --&gt; &quot;*&quot; Pedido : gestiona

    Producto &quot;1&quot; --&gt; &quot;1&quot; StockConfig : configura
    Producto &quot;1&quot; --&gt; &quot;*&quot; HistorialRecarga : registra
    Producto &quot;1&quot; --&gt; &quot;*&quot; DetallePedido : incluido_en
    Producto &quot;1&quot; --&gt; &quot;*&quot; DetalleVenta : vendido_en
    Producto &quot;1&quot; --&gt; &quot;*&quot; Seccion : pertenece_a

    Pedido &quot;1&quot; --&gt; &quot;*&quot; DetallePedido : contiene
    Pedido &quot;1&quot; --&gt; &quot;*&quot; Pago : pagado_con
    Pedido &quot;1&quot; --&gt; &quot;0..1&quot; Venta : genera

    Venta &quot;1&quot; --&gt; &quot;*&quot; DetalleVenta : contiene

    Pago --&gt; EstadoPago : tiene estado
    Pago --&gt; MetodoPago : usa m√©todo
    Pago &quot;1&quot; --&gt; &quot;*&quot; Transaccion : registra

    Notificacion --&gt; TipoNotificacion : es tipo
    Notificacion --&gt; EstadoNotificacion : tiene estado
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-25" name="sd-tab-set-12" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-25">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>classDiagram
    class Usuario {
        +Long id
        +String email
        +String nombre
        +String rol
        +String telefono
        +String direccion
        +Boolean estado
        +ImageField imagen
        +DateTime fecha_creacion
       + DateTime ultimo_ingreso
        +DateTime last_activity
        +Boolean is_staff
        +Boolean self_deactivated
        +Boolean admin_suspended
        +String suspension_reason
        +DateTime suspension_date
        +set_password(raw_password)
        +save()
    }

    class PasswordHistory {
        +Long id
        +Long id_usuario
        +String password_hash
        +DateTime fecha_creacion
    }

    class Tienda {
        +Long id
        +Long id_administrador
        +String nombre
        +String direccion
        +String telefono
        +Boolean activa
        +DateTime fecha_creacion
        +DateTime fecha_actualizacion
    }

    class Producto {
        +Long id
        +Long id_tienda
        +Long id_proveedor
        +String nombre
        +String descripcion
        +Decimal precio
        +Integer stock
        +Boolean es_basico
        +String categoria
        +ImageField imagen1
        +ImageField imagen2
        +ImageField imagen3
        +String caracteristicas
        +Boolean activo
        +DateTime fecha_creacion
        +DateTime fecha_actualizacion
        +reducir_stock(cantidad)
        +aumentar_stock(cantidad)
    }

    class StockConfig {
        +Long id
        +Long id_producto
        +Integer stock_minimo
        +Integer cantidad_recarga
        +Boolean recarga_automatica_activa
        +DateTime ultima_recarga
        +Integer total_recargas
        +DateTime fecha_creacion
        +DateTime fecha_actualizacion
        +necesita_recarga()
        +ejecutar_recarga()
    }

    class HistorialRecarga {
        +Long id
        +Long id_producto
        +Long id_usuario_ejecutor
        +Integer cantidad
        +Integer stock_anterior
        +Integer stock_nuevo
        +String tipo
        +String notas
        +DateTime fecha_creacion
    }

    class Pedido {
        +Long id
        +Long id_cliente
        +Long id_tienda
        +String estado
        +Decimal total
        +DateTime fecha_creacion
        +DateTime fecha_actualizacion
        +String notas
        +calcular_total()
        +puede_cambiar_a_preparando()
        +puede_cambiar_a_en_transito()
        +puede_cambiar_a_entregado()
    }

    class DetallePedido {
        +Long id
        +Long id_pedido
        +Long id_producto
        +Integer cantidad
        +Decimal precio_unitario
        +subtotal()
        +save()
        +delete()
    }

    class Venta {
        +Long id
        +Long id_pedido
        +Long id_cliente
        +Decimal total
        +DateTime fecha_venta
        +Integer cantidad_items
    }

    class DetalleVenta {
        +Long id
        +Long id_venta
        +Long id_producto
        +Integer cantidad
        +Decimal precio_unitario
        +Decimal subtotal
    }

    class Pago {
        +Long id
        +Long id_usuario
        +Long id_pedido
        +Long id_estado_pago
        +Long id_metodo_pago
        +Decimal monto
        +FileField comprobante
        +DateTime fecha_creacion
        +DateTime fecha_actualizacion
    }

    class Transaccion {
        +Long id
        +Long id_pago
        +String referencia_externa
        +Decimal monto
        +String estado
        +JSON respuesta_gateway
        +DateTime fecha_creacion
    }

    class EstadoPago {
        +Long id
        +String nombre
        +String descripcion
        +DateTime fecha_creacion
        +DateTime fecha_actualizacion
    }

    class MetodoPago {
        +Long id
        +String nombre
        +Boolean activo
        +DateTime fecha_creacion
        +DateTime fecha_actualizacion
    }

    class Notificacion {
        +Long id
        +Long id_usuario
        +Long id_tipo_notificacion
        +Long id_estado_notificacion
        +String mensaje
        +String destino
        +Boolean leida
        +DateTime fecha_lectura
        +DateTime fecha_creacion
        +DateTime fecha_actualizacion
    }

    class TipoNotificacion {
        +Long id
        +String nombre
        +String descripcion
        +DateTime fecha_creacion
        +DateTime fecha_actualizacion
    }

    class EstadoNotificacion {
        +Long id
        +String nombre
        +String descripcion
        +DateTime fecha_creacion
        +DateTime fecha_actualizacion
    }

    class Seccion {
        +Long id
        +String nombre
        +String descripcion
        +Boolean activa
        +DateTime fecha_creacion
    }

    %% Relaciones
    Usuario &quot;1&quot; --&gt; &quot;*&quot; PasswordHistory : tiene historial
    Usuario &quot;1&quot; --&gt; &quot;*&quot; Tienda : administra
    Usuario &quot;1&quot; --&gt; &quot;*&quot; Producto : suministra
    Usuario &quot;1&quot; --&gt; &quot;*&quot; Pedido : realiza
    Usuario &quot;1&quot; --&gt; &quot;*&quot; Pago : efectua
    Usuario &quot;1&quot; --&gt; &quot;*&quot; Notificacion : recibe
    Usuario &quot;1&quot; --&gt; &quot;*&quot; HistorialRecarga : ejecuta
    Usuario &quot;1&quot; --&gt; &quot;*&quot; Venta : compra

    Tienda &quot;1&quot; --&gt; &quot;*&quot; Producto : contiene
    Tienda &quot;1&quot; --&gt; &quot;*&quot; Pedido : gestiona

    Producto &quot;1&quot; --&gt; &quot;1&quot; StockConfig : configura
    Producto &quot;1&quot; --&gt; &quot;*&quot; HistorialRecarga : registra
    Producto &quot;1&quot; --&gt; &quot;*&quot; DetallePedido : incluido_en
    Producto &quot;1&quot; --&gt; &quot;*&quot; DetalleVenta : vendido_en
    Producto &quot;1&quot; --&gt; &quot;*&quot; Seccion : pertenece_a

    Pedido &quot;1&quot; --&gt; &quot;*&quot; DetallePedido : contiene
    Pedido &quot;1&quot; --&gt; &quot;*&quot; Pago : pagado_con
    Pedido &quot;1&quot; --&gt; &quot;0..1&quot; Venta : genera

    Venta &quot;1&quot; --&gt; &quot;*&quot; DetalleVenta : contiene

    Pago --&gt; EstadoPago : tiene estado
    Pago --&gt; MetodoPago : usa m√©todo
    Pago &quot;1&quot; --&gt; &quot;*&quot; Transaccion : registra

    Notificacion --&gt; TipoNotificacion : es tipo
    Notificacion --&gt; EstadoNotificacion : tiene estado
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
</details><details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3 sd-mb-4" open="open">
<summary class="sd-summary-title sd-card-header">
üìä Diagrama Colaboracion (5 diagramas)<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-26" name="sd-tab-set-13" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-26">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            flowchart LR
    Cliente((&quot;üë§&lt;br/&gt;:Cliente&quot;))
    UI[&quot;&quot;&quot;&quot;&quot;üì±&lt;br/&gt;:Frontend&quot;&quot;&quot;&quot;&quot;]
    API[&quot;&quot;&quot;&quot;&quot;üîå&lt;br/&gt;:API Controller&quot;&quot;&quot;&quot;&quot;]
    OrderService[&quot;&quot;&quot;&quot;&quot;‚öôÔ∏è&lt;br/&gt;:OrderService&quot;&quot;&quot;&quot;&quot;]
    StockService[&quot;&quot;&quot;&quot;&quot;üì¶&lt;br/&gt;:StockService&quot;&quot;&quot;&quot;&quot;]
    PaymentService[&quot;&quot;&quot;&quot;&quot;üí≥&lt;br/&gt;:PaymentService&quot;&quot;&quot;&quot;&quot;]
    DB[&quot;&quot;&quot;&quot;(&quot;üíæ&lt;br/&gt;:Database&quot;)&quot;&quot;&quot;&quot;]
    NotifService[&quot;&quot;&quot;&quot;&quot;üìß&lt;br/&gt;:NotifService&quot;&quot;&quot;&quot;&quot;]

    Cliente --&gt;|&quot;1: seleccionaProductos()&quot;| UI
    UI --&gt;|&quot;2: crearPedido(items)&quot;| API
    API --&gt;|&quot;3: validarStock(items)&quot;| StockService
    StockService --&gt;|&quot;4: SELECT stock&quot;| DB
    DB --&gt;|&quot;5: stock data&quot;| StockService
    StockService --&gt;|&quot;6: stock OK&quot;| API
    API --&gt;|&quot;7: procesarPago(monto)&quot;| PaymentService
    PaymentService --&gt;|&quot;8: pago aprobado&quot;| API
    API --&gt;|&quot;9: crearPedido(data)&quot;| OrderService
    OrderService --&gt;|&quot;10: INSERT pedido&quot;| DB
    OrderService --&gt;|&quot;11: reducirStock(items)&quot;| StockService
    StockService --&gt;|&quot;12: UPDATE stock&quot;| DB
    OrderService --&gt;|&quot;13: enviarNotif()&quot;| NotifService
    NotifService --&gt;|&quot;14: emails sent&quot;| OrderService
    OrderService --&gt;|&quot;15: pedido creado&quot;| API
    API --&gt;|&quot;16: 201 Created&quot;| UI
    UI --&gt;|&quot;17: confirmaci√≥n&quot;| Cliente

    style Cliente fill:#e1f5ff
    style DB fill:#fff4e1
    style NotifService fill:#ffe1f5
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-27" name="sd-tab-set-13" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-27">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>flowchart LR
    Cliente((&quot;üë§&lt;br/&gt;:Cliente&quot;))
    UI[&quot;&quot;&quot;&quot;&quot;üì±&lt;br/&gt;:Frontend&quot;&quot;&quot;&quot;&quot;]
    API[&quot;&quot;&quot;&quot;&quot;üîå&lt;br/&gt;:API Controller&quot;&quot;&quot;&quot;&quot;]
    OrderService[&quot;&quot;&quot;&quot;&quot;‚öôÔ∏è&lt;br/&gt;:OrderService&quot;&quot;&quot;&quot;&quot;]
    StockService[&quot;&quot;&quot;&quot;&quot;üì¶&lt;br/&gt;:StockService&quot;&quot;&quot;&quot;&quot;]
    PaymentService[&quot;&quot;&quot;&quot;&quot;üí≥&lt;br/&gt;:PaymentService&quot;&quot;&quot;&quot;&quot;]
    DB[&quot;&quot;&quot;&quot;(&quot;üíæ&lt;br/&gt;:Database&quot;)&quot;&quot;&quot;&quot;]
    NotifService[&quot;&quot;&quot;&quot;&quot;üìß&lt;br/&gt;:NotifService&quot;&quot;&quot;&quot;&quot;]

    Cliente --&gt;|&quot;1: seleccionaProductos()&quot;| UI
    UI --&gt;|&quot;2: crearPedido(items)&quot;| API
    API --&gt;|&quot;3: validarStock(items)&quot;| StockService
    StockService --&gt;|&quot;4: SELECT stock&quot;| DB
    DB --&gt;|&quot;5: stock data&quot;| StockService
    StockService --&gt;|&quot;6: stock OK&quot;| API
    API --&gt;|&quot;7: procesarPago(monto)&quot;| PaymentService
    PaymentService --&gt;|&quot;8: pago aprobado&quot;| API
    API --&gt;|&quot;9: crearPedido(data)&quot;| OrderService
    OrderService --&gt;|&quot;10: INSERT pedido&quot;| DB
    OrderService --&gt;|&quot;11: reducirStock(items)&quot;| StockService
    StockService --&gt;|&quot;12: UPDATE stock&quot;| DB
    OrderService --&gt;|&quot;13: enviarNotif()&quot;| NotifService
    NotifService --&gt;|&quot;14: emails sent&quot;| OrderService
    OrderService --&gt;|&quot;15: pedido creado&quot;| API
    API --&gt;|&quot;16: 201 Created&quot;| UI
    UI --&gt;|&quot;17: confirmaci√≥n&quot;| Cliente

    style Cliente fill:#e1f5ff
    style DB fill:#fff4e1
    style NotifService fill:#ffe1f5
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-28" name="sd-tab-set-14" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-28">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            flowchart TB
    Cliente((&quot;üë§&lt;br/&gt;:Cliente&quot;))
    UI[&quot;&quot;&quot;&quot;&quot;üì±&lt;br/&gt;:Frontend&quot;&quot;&quot;&quot;&quot;]
    PaymentCtrl[&quot;&quot;&quot;&quot;&quot;üîå&lt;br/&gt;:PaymentController&quot;&quot;&quot;&quot;&quot;]
    PaymentSvc[&quot;&quot;&quot;&quot;&quot;‚öôÔ∏è&lt;br/&gt;:PaymentService&quot;&quot;&quot;&quot;&quot;]
    Gateway[&quot;&quot;&quot;&quot;&quot;üåê&lt;br/&gt;:PaymentGateway&quot;&quot;&quot;&quot;&quot;]
    DB[&quot;&quot;&quot;&quot;(&quot;üíæ&lt;br/&gt;:Database&quot;)&quot;&quot;&quot;&quot;]
    OrderSvc[&quot;&quot;&quot;&quot;&quot;üì¶&lt;br/&gt;:OrderService&quot;&quot;&quot;&quot;&quot;]
    NotifSvc[&quot;&quot;&quot;&quot;&quot;üìß&lt;br/&gt;:NotifService&quot;&quot;&quot;&quot;&quot;]

    Cliente --&gt;|&quot;1: ingresaDatosPago()&quot;| UI
    UI --&gt;|&quot;2: procesarPago(datos)&quot;| PaymentCtrl
    PaymentCtrl --&gt;|&quot;3: validarDatos()&quot;| PaymentSvc
    PaymentSvc --&gt;|&quot;4: getPedido(id)&quot;| DB
    DB --&gt;|&quot;5: pedido&quot;| PaymentSvc
    PaymentSvc --&gt;|&quot;6: chargeCard(amount, card)&quot;| Gateway
    Gateway --&gt;|&quot;7: [si aprobado] approved&quot;| PaymentSvc
    PaymentSvc --&gt;|&quot;8: INSERT pago&quot;| DB
    PaymentSvc --&gt;|&quot;9: INSERT transaccion&quot;| DB
    PaymentSvc --&gt;|&quot;10: updatePedido()&quot;| OrderSvc
    OrderSvc --&gt;|&quot;11: UPDATE estado&quot;| DB
    PaymentSvc --&gt;|&quot;12: notificarPago()&quot;| NotifSvc
    NotifSvc --&gt;|&quot;13: email sent&quot;| PaymentSvc
    PaymentSvc --&gt;|&quot;14: pagoExitoso&quot;| PaymentCtrl
    PaymentCtrl --&gt;|&quot;15: 200 OK&quot;| UI
    UI --&gt;|&quot;16: mostrarConfirmacion()&quot;| Cliente

    Gateway -.-&gt;|&quot;7a: [si rechazado] declined&quot;| PaymentSvc
    PaymentSvc -.-&gt;|&quot;8a: registrarRechazo()&quot;| DB
    PaymentSvc -.-&gt;|&quot;14a: pagoRechazado&quot;| PaymentCtrl
    PaymentCtrl -.-&gt;|&quot;15a: 402 Payment Required&quot;| UI

    style Cliente fill:#e1f5ff
    style Gateway fill:#ffe1e1
    style DB fill:#fff4e1
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-29" name="sd-tab-set-14" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-29">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>flowchart TB
    Cliente((&quot;üë§&lt;br/&gt;:Cliente&quot;))
    UI[&quot;&quot;&quot;&quot;&quot;üì±&lt;br/&gt;:Frontend&quot;&quot;&quot;&quot;&quot;]
    PaymentCtrl[&quot;&quot;&quot;&quot;&quot;üîå&lt;br/&gt;:PaymentController&quot;&quot;&quot;&quot;&quot;]
    PaymentSvc[&quot;&quot;&quot;&quot;&quot;‚öôÔ∏è&lt;br/&gt;:PaymentService&quot;&quot;&quot;&quot;&quot;]
    Gateway[&quot;&quot;&quot;&quot;&quot;üåê&lt;br/&gt;:PaymentGateway&quot;&quot;&quot;&quot;&quot;]
    DB[&quot;&quot;&quot;&quot;(&quot;üíæ&lt;br/&gt;:Database&quot;)&quot;&quot;&quot;&quot;]
    OrderSvc[&quot;&quot;&quot;&quot;&quot;üì¶&lt;br/&gt;:OrderService&quot;&quot;&quot;&quot;&quot;]
    NotifSvc[&quot;&quot;&quot;&quot;&quot;üìß&lt;br/&gt;:NotifService&quot;&quot;&quot;&quot;&quot;]

    Cliente --&gt;|&quot;1: ingresaDatosPago()&quot;| UI
    UI --&gt;|&quot;2: procesarPago(datos)&quot;| PaymentCtrl
    PaymentCtrl --&gt;|&quot;3: validarDatos()&quot;| PaymentSvc
    PaymentSvc --&gt;|&quot;4: getPedido(id)&quot;| DB
    DB --&gt;|&quot;5: pedido&quot;| PaymentSvc
    PaymentSvc --&gt;|&quot;6: chargeCard(amount, card)&quot;| Gateway
    Gateway --&gt;|&quot;7: [si aprobado] approved&quot;| PaymentSvc
    PaymentSvc --&gt;|&quot;8: INSERT pago&quot;| DB
    PaymentSvc --&gt;|&quot;9: INSERT transaccion&quot;| DB
    PaymentSvc --&gt;|&quot;10: updatePedido()&quot;| OrderSvc
    OrderSvc --&gt;|&quot;11: UPDATE estado&quot;| DB
    PaymentSvc --&gt;|&quot;12: notificarPago()&quot;| NotifSvc
    NotifSvc --&gt;|&quot;13: email sent&quot;| PaymentSvc
    PaymentSvc --&gt;|&quot;14: pagoExitoso&quot;| PaymentCtrl
    PaymentCtrl --&gt;|&quot;15: 200 OK&quot;| UI
    UI --&gt;|&quot;16: mostrarConfirmacion()&quot;| Cliente

    Gateway -.-&gt;|&quot;7a: [si rechazado] declined&quot;| PaymentSvc
    PaymentSvc -.-&gt;|&quot;8a: registrarRechazo()&quot;| DB
    PaymentSvc -.-&gt;|&quot;14a: pagoRechazado&quot;| PaymentCtrl
    PaymentCtrl -.-&gt;|&quot;15a: 402 Payment Required&quot;| UI

    style Cliente fill:#e1f5ff
    style Gateway fill:#ffe1e1
    style DB fill:#fff4e1
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-30" name="sd-tab-set-15" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-30">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            flowchart TB
    Beat[&quot;&quot;&quot;&quot;&quot;‚è∞&lt;br/&gt;:CeleryBeat&quot;&quot;&quot;&quot;&quot;]
    Worker[&quot;&quot;&quot;&quot;&quot;‚öôÔ∏è&lt;br/&gt;:CeleryWorker&quot;&quot;&quot;&quot;&quot;]
    StockMonitor[&quot;&quot;&quot;&quot;&quot;üîç&lt;br/&gt;:StockMonitor&quot;&quot;&quot;&quot;&quot;]
    DB[&quot;&quot;&quot;&quot;(&quot;üíæ&lt;br/&gt;:Database&quot;)&quot;&quot;&quot;&quot;]
    StockSvc[&quot;&quot;&quot;&quot;&quot;üì¶&lt;br/&gt;:StockService&quot;&quot;&quot;&quot;&quot;]
    NotifSvc[&quot;&quot;&quot;&quot;&quot;üìß&lt;br/&gt;:NotifService&quot;&quot;&quot;&quot;&quot;]
    Proveedor((&quot;üë®‚Äçüíº&lt;br/&gt;:Proveedor&quot;))

    Beat --&gt;|&quot;1: [cada 1h] trigger()&quot;| Worker
    Worker --&gt;|&quot;2: checkStockLevels()&quot;| StockMonitor
    StockMonitor --&gt;|&quot;3: getProductosConRecarga()&quot;| DB
    DB --&gt;|&quot;4: productos[]&quot;| StockMonitor

    StockMonitor --&gt;|&quot;5: [loop] necesitaRecarga(p)&quot;| StockSvc
    StockSvc --&gt;|&quot;6: stock &lt;= minimo?&quot;| StockSvc
    StockSvc --&gt;|&quot;7: [si] ejecutarRecarga(p)&quot;| DB
    DB --&gt;|&quot;8: BEGIN TRANSACTION&quot;| DB
    StockSvc --&gt;|&quot;9: UPDATE stock&quot;| DB
    StockSvc --&gt;|&quot;10: INSERT historial&quot;| DB
    StockSvc --&gt;|&quot;11: UPDATE config&quot;| DB
    DB --&gt;|&quot;12: COMMIT&quot;| DB

    StockSvc --&gt;|&quot;13: notificarProveedor(p)&quot;| NotifSvc
    NotifSvc --&gt;|&quot;14: enviarEmail()&quot;| Proveedor
    Proveedor --&gt;|&quot;15: recibe alerta&quot;| Proveedor

    StockSvc --&gt;|&quot;16: recarga completada&quot;| StockMonitor
    StockMonitor --&gt;|&quot;17: siguiente producto&quot;| StockMonitor

    StockMonitor --&gt;|&quot;18: [fin loop] reporte&quot;| Worker
    Worker --&gt;|&quot;19: task completed&quot;| Beat

    style Beat fill:#e1ffe1
    style Proveedor fill:#e1f5ff
    style DB fill:#fff4e1
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-31" name="sd-tab-set-15" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-31">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>flowchart TB
    Beat[&quot;&quot;&quot;&quot;&quot;‚è∞&lt;br/&gt;:CeleryBeat&quot;&quot;&quot;&quot;&quot;]
    Worker[&quot;&quot;&quot;&quot;&quot;‚öôÔ∏è&lt;br/&gt;:CeleryWorker&quot;&quot;&quot;&quot;&quot;]
    StockMonitor[&quot;&quot;&quot;&quot;&quot;üîç&lt;br/&gt;:StockMonitor&quot;&quot;&quot;&quot;&quot;]
    DB[&quot;&quot;&quot;&quot;(&quot;üíæ&lt;br/&gt;:Database&quot;)&quot;&quot;&quot;&quot;]
    StockSvc[&quot;&quot;&quot;&quot;&quot;üì¶&lt;br/&gt;:StockService&quot;&quot;&quot;&quot;&quot;]
    NotifSvc[&quot;&quot;&quot;&quot;&quot;üìß&lt;br/&gt;:NotifService&quot;&quot;&quot;&quot;&quot;]
    Proveedor((&quot;üë®‚Äçüíº&lt;br/&gt;:Proveedor&quot;))

    Beat --&gt;|&quot;1: [cada 1h] trigger()&quot;| Worker
    Worker --&gt;|&quot;2: checkStockLevels()&quot;| StockMonitor
    StockMonitor --&gt;|&quot;3: getProductosConRecarga()&quot;| DB
    DB --&gt;|&quot;4: productos[]&quot;| StockMonitor

    StockMonitor --&gt;|&quot;5: [loop] necesitaRecarga(p)&quot;| StockSvc
    StockSvc --&gt;|&quot;6: stock &lt;= minimo?&quot;| StockSvc
    StockSvc --&gt;|&quot;7: [si] ejecutarRecarga(p)&quot;| DB
    DB --&gt;|&quot;8: BEGIN TRANSACTION&quot;| DB
    StockSvc --&gt;|&quot;9: UPDATE stock&quot;| DB
    StockSvc --&gt;|&quot;10: INSERT historial&quot;| DB
    StockSvc --&gt;|&quot;11: UPDATE config&quot;| DB
    DB --&gt;|&quot;12: COMMIT&quot;| DB

    StockSvc --&gt;|&quot;13: notificarProveedor(p)&quot;| NotifSvc
    NotifSvc --&gt;|&quot;14: enviarEmail()&quot;| Proveedor
    Proveedor --&gt;|&quot;15: recibe alerta&quot;| Proveedor

    StockSvc --&gt;|&quot;16: recarga completada&quot;| StockMonitor
    StockMonitor --&gt;|&quot;17: siguiente producto&quot;| StockMonitor

    StockMonitor --&gt;|&quot;18: [fin loop] reporte&quot;| Worker
    Worker --&gt;|&quot;19: task completed&quot;| Beat

    style Beat fill:#e1ffe1
    style Proveedor fill:#e1f5ff
    style DB fill:#fff4e1
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-32" name="sd-tab-set-16" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-32">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            flowchart LR
    Logistica((&quot;üöö&lt;br/&gt;:Logistica&quot;))
    UI[&quot;&quot;&quot;&quot;&quot;üì±&lt;br/&gt;:Frontend&quot;&quot;&quot;&quot;&quot;]
    OrderCtrl[&quot;&quot;&quot;&quot;&quot;üîå&lt;br/&gt;:OrderController&quot;&quot;&quot;&quot;&quot;]
    OrderSvc[&quot;&quot;&quot;&quot;&quot;‚öôÔ∏è&lt;br/&gt;:OrderService&quot;&quot;&quot;&quot;&quot;]
    DB[&quot;&quot;&quot;&quot;(&quot;üíæ&lt;br/&gt;:Database&quot;)&quot;&quot;&quot;&quot;]
    VentaSvc[&quot;&quot;&quot;&quot;&quot;üí∞&lt;br/&gt;:VentaService&quot;&quot;&quot;&quot;&quot;]
    NotifSvc[&quot;&quot;&quot;&quot;&quot;üìß&lt;br/&gt;:NotifService&quot;&quot;&quot;&quot;&quot;]
    Cliente((&quot;üë§&lt;br/&gt;:Cliente&quot;))

    Logistica --&gt;|&quot;1: seleccionaPedido(id)&quot;| UI
    UI --&gt;|&quot;2: cambiarEstado(id, nuevo)&quot;| OrderCtrl
    OrderCtrl --&gt;|&quot;3: getPedido(id)&quot;| DB
    DB --&gt;|&quot;4: pedido actual&quot;| OrderCtrl
    OrderCtrl --&gt;|&quot;5: validarTransicion()&quot;| OrderSvc
    OrderSvc --&gt;|&quot;6: [si v√°lido] ok&quot;| OrderCtrl
    OrderCtrl --&gt;|&quot;7: updateEstado()&quot;| DB
    DB --&gt;|&quot;8: estado updated&quot;| OrderCtrl

    OrderCtrl --&gt;|&quot;9: [si entregado] generarVenta()&quot;| VentaSvc
    VentaSvc --&gt;|&quot;10: INSERT venta&quot;| DB
    VentaSvc --&gt;|&quot;11: INSERT detalles&quot;| DB
    VentaSvc --&gt;|&quot;12: venta creada&quot;| OrderCtrl

    OrderCtrl --&gt;|&quot;13: notificarCambio()&quot;| NotifSvc
    NotifSvc --&gt;|&quot;14: enviarEmail()&quot;| Cliente
    Cliente --&gt;|&quot;15: recibe notif&quot;| Cliente

    OrderCtrl --&gt;|&quot;16: 200 OK (pedido)&quot;| UI
    UI --&gt;|&quot;17: mostrarConfirm()&quot;| Logistica

    OrderSvc -.-&gt;|&quot;6a: [inv√°lido] error&quot;| OrderCtrl
    OrderCtrl -.-&gt;|&quot;16a: 400 Bad Request&quot;| UI

    style Logistica fill:#ffe1f5
    style Cliente fill:#e1f5ff
    style DB fill:#fff4e1
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-33" name="sd-tab-set-16" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-33">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>flowchart LR
    Logistica((&quot;üöö&lt;br/&gt;:Logistica&quot;))
    UI[&quot;&quot;&quot;&quot;&quot;üì±&lt;br/&gt;:Frontend&quot;&quot;&quot;&quot;&quot;]
    OrderCtrl[&quot;&quot;&quot;&quot;&quot;üîå&lt;br/&gt;:OrderController&quot;&quot;&quot;&quot;&quot;]
    OrderSvc[&quot;&quot;&quot;&quot;&quot;‚öôÔ∏è&lt;br/&gt;:OrderService&quot;&quot;&quot;&quot;&quot;]
    DB[&quot;&quot;&quot;&quot;(&quot;üíæ&lt;br/&gt;:Database&quot;)&quot;&quot;&quot;&quot;]
    VentaSvc[&quot;&quot;&quot;&quot;&quot;üí∞&lt;br/&gt;:VentaService&quot;&quot;&quot;&quot;&quot;]
    NotifSvc[&quot;&quot;&quot;&quot;&quot;üìß&lt;br/&gt;:NotifService&quot;&quot;&quot;&quot;&quot;]
    Cliente((&quot;üë§&lt;br/&gt;:Cliente&quot;))

    Logistica --&gt;|&quot;1: seleccionaPedido(id)&quot;| UI
    UI --&gt;|&quot;2: cambiarEstado(id, nuevo)&quot;| OrderCtrl
    OrderCtrl --&gt;|&quot;3: getPedido(id)&quot;| DB
    DB --&gt;|&quot;4: pedido actual&quot;| OrderCtrl
    OrderCtrl --&gt;|&quot;5: validarTransicion()&quot;| OrderSvc
    OrderSvc --&gt;|&quot;6: [si v√°lido] ok&quot;| OrderCtrl
    OrderCtrl --&gt;|&quot;7: updateEstado()&quot;| DB
    DB --&gt;|&quot;8: estado updated&quot;| OrderCtrl

    OrderCtrl --&gt;|&quot;9: [si entregado] generarVenta()&quot;| VentaSvc
    VentaSvc --&gt;|&quot;10: INSERT venta&quot;| DB
    VentaSvc --&gt;|&quot;11: INSERT detalles&quot;| DB
    VentaSvc --&gt;|&quot;12: venta creada&quot;| OrderCtrl

    OrderCtrl --&gt;|&quot;13: notificarCambio()&quot;| NotifSvc
    NotifSvc --&gt;|&quot;14: enviarEmail()&quot;| Cliente
    Cliente --&gt;|&quot;15: recibe notif&quot;| Cliente

    OrderCtrl --&gt;|&quot;16: 200 OK (pedido)&quot;| UI
    UI --&gt;|&quot;17: mostrarConfirm()&quot;| Logistica

    OrderSvc -.-&gt;|&quot;6a: [inv√°lido] error&quot;| OrderCtrl
    OrderCtrl -.-&gt;|&quot;16a: 400 Bad Request&quot;| UI

    style Logistica fill:#ffe1f5
    style Cliente fill:#e1f5ff
    style DB fill:#fff4e1
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-34" name="sd-tab-set-17" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-34">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            flowchart TB
    Usuario((&quot;üë§&lt;br/&gt;:Usuario&quot;))
    UI[&quot;&quot;&quot;&quot;&quot;üì±&lt;br/&gt;:Frontend&quot;&quot;&quot;&quot;&quot;]
    AuthCtrl[&quot;&quot;&quot;&quot;&quot;üîå&lt;br/&gt;:AuthController&quot;&quot;&quot;&quot;&quot;]
    AuthSvc[&quot;&quot;&quot;&quot;&quot;‚öôÔ∏è&lt;br/&gt;:AuthService&quot;&quot;&quot;&quot;&quot;]
    TokenGen[&quot;&quot;&quot;&quot;&quot;üîë&lt;br/&gt;:JWTGenerator&quot;&quot;&quot;&quot;&quot;]
    PassValidator[&quot;&quot;&quot;&quot;&quot;üîí&lt;br/&gt;:PasswordValidator&quot;&quot;&quot;&quot;&quot;]
    DB[&quot;&quot;&quot;&quot;(&quot;üíæ&lt;br/&gt;:Database&quot;)&quot;&quot;&quot;&quot;]

    Usuario --&gt;|&quot;1: ingresaCredenciales()&quot;| UI
    UI --&gt;|&quot;2: login(email, pass)&quot;| AuthCtrl
    AuthCtrl --&gt;|&quot;3: getUserByEmail()&quot;| DB
    DB --&gt;|&quot;4: usuario&quot;| AuthCtrl
    AuthCtrl --&gt;|&quot;5: checkPassword()&quot;| PassValidator
    PassValidator --&gt;|&quot;6: [si correcto] ok&quot;| AuthCtrl
    AuthCtrl --&gt;|&quot;7: verifyAccountStatus()&quot;| AuthSvc
    AuthSvc --&gt;|&quot;8: [si activo] ok&quot;| AuthCtrl
    AuthCtrl --&gt;|&quot;9: generateTokens(user)&quot;| TokenGen
    TokenGen --&gt;|&quot;10: create access (15min)&quot;| TokenGen
    TokenGen --&gt;|&quot;11: create refresh (7d)&quot;| TokenGen
    TokenGen --&gt;|&quot;12: {access, refresh}&quot;| AuthCtrl
    AuthCtrl --&gt;|&quot;13: UPDATE ultimo_ingreso&quot;| DB
    AuthCtrl --&gt;|&quot;14: 200 OK (tokens, user)&quot;| UI
    UI --&gt;|&quot;15: storeTokens()&quot;| UI
    UI --&gt;|&quot;16: redirectDashboard()&quot;| Usuario

    PassValidator -.-&gt;|&quot;6a: [incorrecto] error&quot;| AuthCtrl
    AuthCtrl -.-&gt;|&quot;14a: 401 Unauthorized&quot;| UI

    AuthSvc -.-&gt;|&quot;8a: [suspendido] error&quot;| AuthCtrl
    AuthCtrl -.-&gt;|&quot;14b: 403 Forbidden&quot;| UI

    style Usuario fill:#e1f5ff
    style TokenGen fill:#fff4e1
    style DB fill:#fff4e1
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-35" name="sd-tab-set-17" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-35">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>flowchart TB
    Usuario((&quot;üë§&lt;br/&gt;:Usuario&quot;))
    UI[&quot;&quot;&quot;&quot;&quot;üì±&lt;br/&gt;:Frontend&quot;&quot;&quot;&quot;&quot;]
    AuthCtrl[&quot;&quot;&quot;&quot;&quot;üîå&lt;br/&gt;:AuthController&quot;&quot;&quot;&quot;&quot;]
    AuthSvc[&quot;&quot;&quot;&quot;&quot;‚öôÔ∏è&lt;br/&gt;:AuthService&quot;&quot;&quot;&quot;&quot;]
    TokenGen[&quot;&quot;&quot;&quot;&quot;üîë&lt;br/&gt;:JWTGenerator&quot;&quot;&quot;&quot;&quot;]
    PassValidator[&quot;&quot;&quot;&quot;&quot;üîí&lt;br/&gt;:PasswordValidator&quot;&quot;&quot;&quot;&quot;]
    DB[&quot;&quot;&quot;&quot;(&quot;üíæ&lt;br/&gt;:Database&quot;)&quot;&quot;&quot;&quot;]

    Usuario --&gt;|&quot;1: ingresaCredenciales()&quot;| UI
    UI --&gt;|&quot;2: login(email, pass)&quot;| AuthCtrl
    AuthCtrl --&gt;|&quot;3: getUserByEmail()&quot;| DB
    DB --&gt;|&quot;4: usuario&quot;| AuthCtrl
    AuthCtrl --&gt;|&quot;5: checkPassword()&quot;| PassValidator
    PassValidator --&gt;|&quot;6: [si correcto] ok&quot;| AuthCtrl
    AuthCtrl --&gt;|&quot;7: verifyAccountStatus()&quot;| AuthSvc
    AuthSvc --&gt;|&quot;8: [si activo] ok&quot;| AuthCtrl
    AuthCtrl --&gt;|&quot;9: generateTokens(user)&quot;| TokenGen
    TokenGen --&gt;|&quot;10: create access (15min)&quot;| TokenGen
    TokenGen --&gt;|&quot;11: create refresh (7d)&quot;| TokenGen
    TokenGen --&gt;|&quot;12: {access, refresh}&quot;| AuthCtrl
    AuthCtrl --&gt;|&quot;13: UPDATE ultimo_ingreso&quot;| DB
    AuthCtrl --&gt;|&quot;14: 200 OK (tokens, user)&quot;| UI
    UI --&gt;|&quot;15: storeTokens()&quot;| UI
    UI --&gt;|&quot;16: redirectDashboard()&quot;| Usuario

    PassValidator -.-&gt;|&quot;6a: [incorrecto] error&quot;| AuthCtrl
    AuthCtrl -.-&gt;|&quot;14a: 401 Unauthorized&quot;| UI

    AuthSvc -.-&gt;|&quot;8a: [suspendido] error&quot;| AuthCtrl
    AuthCtrl -.-&gt;|&quot;14b: 403 Forbidden&quot;| UI

    style Usuario fill:#e1f5ff
    style TokenGen fill:#fff4e1
    style DB fill:#fff4e1
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
</details><details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3 sd-mb-4" open="open">
<summary class="sd-summary-title sd-card-header">
üìä Diagrama Componentes Paquetes (7 diagramas)<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-36" name="sd-tab-set-18" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-36">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            flowchart TB
    subgraph &quot;Cliente (Navegador)&quot;
        UI[React UI]
        Router[React Router]
        State[State Management]
    end

    subgraph &quot;API Gateway&quot;
        NGINX[NGINX Reverse Proxy]
    end

    subgraph &quot;Backend Application Server&quot;
        DRF[Django REST Framework]
        Auth[Auth Service]
        Business[Business Logic]
        ORM[Django ORM]
    end

    subgraph &quot;Task Queue&quot;
        Celery[Celery Workers]
        Beat[Celery Beat]
    end

    subgraph &quot;Data Layer&quot;
        DB[&quot;&quot;&quot;&quot;(Database&lt;br/&gt;PostgreSQL/SQLite)&quot;&quot;&quot;&quot;]
        Redis[(Redis Cache)]
        Media[Media Storage]
    end

    subgraph &quot;External Services&quot;
        Email[&quot;&quot;&quot;&quot;Email Service&lt;br/&gt;SMTP&quot;&quot;&quot;&quot;]
        Payment[&quot;&quot;&quot;&quot;Payment Gateway&lt;br/&gt;PayU/PSE&quot;&quot;&quot;&quot;]
        SMS[&quot;&quot;&quot;&quot;SMS Service&lt;br/&gt;Twilio&quot;&quot;&quot;&quot;]
    end

    UI --&gt; Router
    UI --&gt; State
    Router --&gt; NGINX
    State --&gt; NGINX

    NGINX --&gt; DRF
    DRF --&gt; Auth
    DRF --&gt; Business
    Business --&gt; ORM
    ORM --&gt; DB

    DRF --&gt; Redis
    Business --&gt; Celery
    Celery --&gt; Beat
    Celery --&gt; Redis

    Celery --&gt; Email
    Celery --&gt; SMS
    Business --&gt; Payment
    ORM --&gt; Media
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-37" name="sd-tab-set-18" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-37">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>flowchart TB
    subgraph &quot;Cliente (Navegador)&quot;
        UI[React UI]
        Router[React Router]
        State[State Management]
    end

    subgraph &quot;API Gateway&quot;
        NGINX[NGINX Reverse Proxy]
    end

    subgraph &quot;Backend Application Server&quot;
        DRF[Django REST Framework]
        Auth[Auth Service]
        Business[Business Logic]
        ORM[Django ORM]
    end

    subgraph &quot;Task Queue&quot;
        Celery[Celery Workers]
        Beat[Celery Beat]
    end

    subgraph &quot;Data Layer&quot;
        DB[&quot;&quot;&quot;&quot;(Database&lt;br/&gt;PostgreSQL/SQLite)&quot;&quot;&quot;&quot;]
        Redis[(Redis Cache)]
        Media[Media Storage]
    end

    subgraph &quot;External Services&quot;
        Email[&quot;&quot;&quot;&quot;Email Service&lt;br/&gt;SMTP&quot;&quot;&quot;&quot;]
        Payment[&quot;&quot;&quot;&quot;Payment Gateway&lt;br/&gt;PayU/PSE&quot;&quot;&quot;&quot;]
        SMS[&quot;&quot;&quot;&quot;SMS Service&lt;br/&gt;Twilio&quot;&quot;&quot;&quot;]
    end

    UI --&gt; Router
    UI --&gt; State
    Router --&gt; NGINX
    State --&gt; NGINX

    NGINX --&gt; DRF
    DRF --&gt; Auth
    DRF --&gt; Business
    Business --&gt; ORM
    ORM --&gt; DB

    DRF --&gt; Redis
    Business --&gt; Celery
    Celery --&gt; Beat
    Celery --&gt; Redis

    Celery --&gt; Email
    Celery --&gt; SMS
    Business --&gt; Payment
    ORM --&gt; Media
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-38" name="sd-tab-set-19" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-38">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            graph TD
    subgraph &quot;Frontend Components&quot;
        App[App.jsx]

        subgraph &quot;Pages&quot;
            Login[Login.jsx]
            Register[Register.jsx]
            Dashboard[Dashboard*.jsx]
            Catalog[ProductCatalog.jsx]
        end

        subgraph &quot;Components&quot;
            Navbar[Navbar.jsx]
            Footer[Footer.jsx]
            ProductCard[ProductCard.jsx]
            OrderCard[OrderCard.jsx]
        end

        subgraph &quot;Services&quot;
            API[api.js]
            Auth_Service[authService.js]
        end

        subgraph &quot;Utils&quot;
            Constants[constants.js]
            Helpers[helpers.js]
        end

        subgraph &quot;Styles&quot;
            CSS[*.css]
        end
    end

    App --&gt; Pages
    App --&gt; Components
    Pages --&gt; Components
    Pages --&gt; Services
    Services --&gt; API
    Services --&gt; Auth_Service
    Components --&gt; Utils
    Pages --&gt; Styles
    Components --&gt; Styles
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-39" name="sd-tab-set-19" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-39">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>graph TD
    subgraph &quot;Frontend Components&quot;
        App[App.jsx]

        subgraph &quot;Pages&quot;
            Login[Login.jsx]
            Register[Register.jsx]
            Dashboard[Dashboard*.jsx]
            Catalog[ProductCatalog.jsx]
        end

        subgraph &quot;Components&quot;
            Navbar[Navbar.jsx]
            Footer[Footer.jsx]
            ProductCard[ProductCard.jsx]
            OrderCard[OrderCard.jsx]
        end

        subgraph &quot;Services&quot;
            API[api.js]
            Auth_Service[authService.js]
        end

        subgraph &quot;Utils&quot;
            Constants[constants.js]
            Helpers[helpers.js]
        end

        subgraph &quot;Styles&quot;
            CSS[*.css]
        end
    end

    App --&gt; Pages
    App --&gt; Components
    Pages --&gt; Components
    Pages --&gt; Services
    Services --&gt; API
    Services --&gt; Auth_Service
    Components --&gt; Utils
    Pages --&gt; Styles
    Components --&gt; Styles
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-40" name="sd-tab-set-20" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-40">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            graph TD
    subgraph &quot;Backend Components&quot;
        Settings[settings.py]
        URLs[urls.py]

        subgraph &quot;Apps&quot;
            Usuarios[usuarios/]
            Productos[productos/]
            Ventas[ventas/]
            Pagos[pagos/]
            Notific[notificaciones/]
        end

        subgraph &quot;Core&quot;
            Core_Views[core/views.py]
            Core_Utils[core/utils.py]
        end

        subgraph &quot;Each App Structure&quot;
            Models[models.py]
            Views[views.py]
            Serializers[serializers.py]
            Tests[tests/]
        end
    end

    Settings --&gt; Apps
    URLs --&gt; Apps
    Apps --&gt; Models
    Apps --&gt; Views
    Apps --&gt; Serializers
    Views --&gt; Models
    Views --&gt; Serializers
    Apps --&gt; Core
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-41" name="sd-tab-set-20" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-41">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>graph TD
    subgraph &quot;Backend Components&quot;
        Settings[settings.py]
        URLs[urls.py]

        subgraph &quot;Apps&quot;
            Usuarios[usuarios/]
            Productos[productos/]
            Ventas[ventas/]
            Pagos[pagos/]
            Notific[notificaciones/]
        end

        subgraph &quot;Core&quot;
            Core_Views[core/views.py]
            Core_Utils[core/utils.py]
        end

        subgraph &quot;Each App Structure&quot;
            Models[models.py]
            Views[views.py]
            Serializers[serializers.py]
            Tests[tests/]
        end
    end

    Settings --&gt; Apps
    URLs --&gt; Apps
    Apps --&gt; Models
    Apps --&gt; Views
    Apps --&gt; Serializers
    Views --&gt; Models
    Views --&gt; Serializers
    Apps --&gt; Core
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-42" name="sd-tab-set-21" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-42">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            flowchart TB
    subgraph &quot;Orden Management System&quot;
        subgraph &quot;Order Controller&quot;
            API_Order[REST API Endpoint]
            Validator[Order Validator]
            Calculator[Price Calculator]
        end

        subgraph &quot;Order Processing&quot;
            Creator[Order Creator]
            StateManager[State Manager]
            StockReducer[Stock Reducer]
        end

        subgraph &quot;Notification System&quot;
            NotifService[Notification Service]
            EmailSender[Email Sender]
            SMSSender[SMS Sender]
        end

        subgraph &quot;Payment Integration&quot;
            PaymentService[Payment Service]
            GatewayAdapter[Gateway Adapter]
        end
    end

    API_Order --&gt; Validator
    Validator --&gt; Calculator
    Calculator --&gt; Creator
    Creator --&gt; StockReducer
    Creator --&gt; StateManager
    StateManager --&gt; NotifService
    NotifService --&gt; EmailSender
    NotifService --&gt; SMSSender
    Creator --&gt; PaymentService
    PaymentService --&gt; GatewayAdapter
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-43" name="sd-tab-set-21" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-43">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>flowchart TB
    subgraph &quot;Orden Management System&quot;
        subgraph &quot;Order Controller&quot;
            API_Order[REST API Endpoint]
            Validator[Order Validator]
            Calculator[Price Calculator]
        end

        subgraph &quot;Order Processing&quot;
            Creator[Order Creator]
            StateManager[State Manager]
            StockReducer[Stock Reducer]
        end

        subgraph &quot;Notification System&quot;
            NotifService[Notification Service]
            EmailSender[Email Sender]
            SMSSender[SMS Sender]
        end

        subgraph &quot;Payment Integration&quot;
            PaymentService[Payment Service]
            GatewayAdapter[Gateway Adapter]
        end
    end

    API_Order --&gt; Validator
    Validator --&gt; Calculator
    Calculator --&gt; Creator
    Creator --&gt; StockReducer
    Creator --&gt; StateManager
    StateManager --&gt; NotifService
    NotifService --&gt; EmailSender
    NotifService --&gt; SMSSender
    Creator --&gt; PaymentService
    PaymentService --&gt; GatewayAdapter
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-44" name="sd-tab-set-22" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-44">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            flowchart TB
    subgraph &quot;Authentication System&quot;
        subgraph &quot;Auth API&quot;
            Login[Login Endpoint]
            Register[Register Endpoint]
            Refresh[Refresh Token Endpoint]
            Reset[Password Reset Endpoint]
        end

        subgraph &quot;Auth Services&quot;
            TokenGen[JWT Token Generator]
            PassValidator[Password Validator]
            HistoryCheck[Password History Checker]
        end

        subgraph &quot;User Management&quot;
            UserRepo[User Repository]
            RoleManager[Role Manager]
            StateManager_Auth[Account State Manager]
        end
    end

    Login --&gt; TokenGen
    Login --&gt; PassValidator
    Register --&gt; PassValidator
    Register --&gt; HistoryCheck
    PassValidator --&gt; HistoryCheck
    TokenGen --&gt; UserRepo
    Register --&gt; RoleManager
    Login --&gt; StateManager_Auth
    StateManager_Auth --&gt; UserRepo
    RoleManager --&gt; UserRepo
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-45" name="sd-tab-set-22" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-45">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>flowchart TB
    subgraph &quot;Authentication System&quot;
        subgraph &quot;Auth API&quot;
            Login[Login Endpoint]
            Register[Register Endpoint]
            Refresh[Refresh Token Endpoint]
            Reset[Password Reset Endpoint]
        end

        subgraph &quot;Auth Services&quot;
            TokenGen[JWT Token Generator]
            PassValidator[Password Validator]
            HistoryCheck[Password History Checker]
        end

        subgraph &quot;User Management&quot;
            UserRepo[User Repository]
            RoleManager[Role Manager]
            StateManager_Auth[Account State Manager]
        end
    end

    Login --&gt; TokenGen
    Login --&gt; PassValidator
    Register --&gt; PassValidator
    Register --&gt; HistoryCheck
    PassValidator --&gt; HistoryCheck
    TokenGen --&gt; UserRepo
    Register --&gt; RoleManager
    Login --&gt; StateManager_Auth
    StateManager_Auth --&gt; UserRepo
    RoleManager --&gt; UserRepo
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-46" name="sd-tab-set-23" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-46">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            flowchart TB
    subgraph &quot;Stock Management System&quot;
        subgraph &quot;Stock API&quot;
            Get[Get Stock Endpoint]
            Update[Update Stock Endpoint]
            Config[Configure Auto-Recharge]
        end

        subgraph &quot;Stock Services&quot;
            Monitor[Stock Monitor]
            AutoRecharge[Auto Recharge Service]
            HistoryLogger[History Logger]
        end

        subgraph &quot;Stock Repository&quot;
            ProductRepo[Product Repository]
            ConfigRepo[Stock Config Repository]
            HistoryRepo[Recharge History Repository]
        end

        subgraph &quot;Notification Integration&quot;
            LowStockNotif[Low Stock Notifier]
        end
    end

    Get --&gt; ProductRepo
    Update --&gt; HistoryLogger
    Update --&gt; ProductRepo
    Config --&gt; ConfigRepo
    Monitor --&gt; ConfigRepo
    Monitor --&gt; ProductRepo
    Monitor --&gt; AutoRecharge
    AutoRecharge --&gt; ProductRepo
    AutoRecharge --&gt; HistoryLogger
    AutoRecharge --&gt; LowStockNotif
    HistoryLogger --&gt; HistoryRepo
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-47" name="sd-tab-set-23" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-47">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>flowchart TB
    subgraph &quot;Stock Management System&quot;
        subgraph &quot;Stock API&quot;
            Get[Get Stock Endpoint]
            Update[Update Stock Endpoint]
            Config[Configure Auto-Recharge]
        end

        subgraph &quot;Stock Services&quot;
            Monitor[Stock Monitor]
            AutoRecharge[Auto Recharge Service]
            HistoryLogger[History Logger]
        end

        subgraph &quot;Stock Repository&quot;
            ProductRepo[Product Repository]
            ConfigRepo[Stock Config Repository]
            HistoryRepo[Recharge History Repository]
        end

        subgraph &quot;Notification Integration&quot;
            LowStockNotif[Low Stock Notifier]
        end
    end

    Get --&gt; ProductRepo
    Update --&gt; HistoryLogger
    Update --&gt; ProductRepo
    Config --&gt; ConfigRepo
    Monitor --&gt; ConfigRepo
    Monitor --&gt; ProductRepo
    Monitor --&gt; AutoRecharge
    AutoRecharge --&gt; ProductRepo
    AutoRecharge --&gt; HistoryLogger
    AutoRecharge --&gt; LowStockNotif
    HistoryLogger --&gt; HistoryRepo
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-48" name="sd-tab-set-24" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-48">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            flowchart LR
    Frontend --&gt;|HTTP/REST| Backend
    Backend --&gt;|SQL| Database
    Backend --&gt;|Cache| Redis
    Backend --&gt;|Tasks| Celery
    Celery --&gt;|Queue| Redis
    Celery --&gt;|Email| SMTP
    Backend --&gt;|HTTP| PaymentGateway

    subgraph &quot;Backend Apps Dependencies&quot;
        Ventas --&gt;|imports| Productos
        Ventas --&gt;|imports| Usuarios
        Pagos --&gt;|imports| Productos
        Pagos --&gt;|imports| Usuarios
        Notificaciones --&gt;|imports| Usuarios
    end
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-49" name="sd-tab-set-24" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-49">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>flowchart LR
    Frontend --&gt;|HTTP/REST| Backend
    Backend --&gt;|SQL| Database
    Backend --&gt;|Cache| Redis
    Backend --&gt;|Tasks| Celery
    Celery --&gt;|Queue| Redis
    Celery --&gt;|Email| SMTP
    Backend --&gt;|HTTP| PaymentGateway

    subgraph &quot;Backend Apps Dependencies&quot;
        Ventas --&gt;|imports| Productos
        Ventas --&gt;|imports| Usuarios
        Pagos --&gt;|imports| Productos
        Pagos --&gt;|imports| Usuarios
        Notificaciones --&gt;|imports| Usuarios
    end
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
</details><details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3 sd-mb-4" open="open">
<summary class="sd-summary-title sd-card-header">
üìä Diagrama Despliegue (3 diagramas)<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-50" name="sd-tab-set-25" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-50">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            flowchart TB
    subgraph &quot;Developer Workstation (localhost)&quot;
        subgraph &quot;Frontend - Port 5175&quot;
            Vite[Vite Dev Server]
            React[React App]
        end

        subgraph &quot;Backend - Port 8000&quot;
            Django[Django Dev Server]
            DRF[Django REST Framework]
        end

        subgraph &quot;Database&quot;
            SQLite[&quot;&quot;&quot;&quot;(SQLite DB&lt;br/&gt;db.sqlite3)&quot;&quot;&quot;&quot;]
        end

        subgraph &quot;Task Queue - Port 6379&quot;
            Redis_Local[&quot;&quot;&quot;&quot;(Redis&lt;br/&gt;localhost)&quot;&quot;&quot;&quot;]
            Celery_Worker[Celery Worker]
            Celery_Beat[Celery Beat]
        end

        subgraph &quot;Media Files&quot;
            Media_Local[&quot;&quot;&quot;&quot;/media/&lt;br/&gt;Local Storage&quot;&quot;&quot;&quot;]
        end
    end

    subgraph &quot;Development Tools&quot;
        Git[Git]
        VSCode[VS Code]
        Browser[Browser DevTools]
    end

    React --&gt; Vite
    Vite --&gt;|proxy :8000| Django
    Django --&gt; DRF
    DRF --&gt; SQLite
    Django --&gt; Media_Local
    Django --&gt; Celery_Worker
    Celery_Worker --&gt; Redis_Local
    Celery_Beat --&gt; Redis_Local

    Git --&gt; VSCode
    Browser --&gt; Vite
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-51" name="sd-tab-set-25" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-51">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>flowchart TB
    subgraph &quot;Developer Workstation (localhost)&quot;
        subgraph &quot;Frontend - Port 5175&quot;
            Vite[Vite Dev Server]
            React[React App]
        end

        subgraph &quot;Backend - Port 8000&quot;
            Django[Django Dev Server]
            DRF[Django REST Framework]
        end

        subgraph &quot;Database&quot;
            SQLite[&quot;&quot;&quot;&quot;(SQLite DB&lt;br/&gt;db.sqlite3)&quot;&quot;&quot;&quot;]
        end

        subgraph &quot;Task Queue - Port 6379&quot;
            Redis_Local[&quot;&quot;&quot;&quot;(Redis&lt;br/&gt;localhost)&quot;&quot;&quot;&quot;]
            Celery_Worker[Celery Worker]
            Celery_Beat[Celery Beat]
        end

        subgraph &quot;Media Files&quot;
            Media_Local[&quot;&quot;&quot;&quot;/media/&lt;br/&gt;Local Storage&quot;&quot;&quot;&quot;]
        end
    end

    subgraph &quot;Development Tools&quot;
        Git[Git]
        VSCode[VS Code]
        Browser[Browser DevTools]
    end

    React --&gt; Vite
    Vite --&gt;|proxy :8000| Django
    Django --&gt; DRF
    DRF --&gt; SQLite
    Django --&gt; Media_Local
    Django --&gt; Celery_Worker
    Celery_Worker --&gt; Redis_Local
    Celery_Beat --&gt; Redis_Local

    Git --&gt; VSCode
    Browser --&gt; Vite
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-52" name="sd-tab-set-26" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-52">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            flowchart LR
    subgraph Users[&quot;User Devices&quot;]
        Desktop[üíª Desktop Browser]
        Mobile[üì± Mobile Browser]
    end

    subgraph CDN[&quot;CDN Layer&quot;]
        CF[Cloudflare CDN]
    end

    subgraph Frontend[&quot;Frontend Hosting (Netlify)&quot;]
        Build[Build Process]
        Static[Static Assets]
        Edge[Edge Functions]
    end

    subgraph Backend[&quot;Backend Hosting (Railway/Render)&quot;]
        LB[Load Balancer]

        subgraph Apps[&quot;Application Servers&quot;]
            App1[Django Instance 1]
            App2[Django Instance 2]
        end

        Static_Backend[Static Files Server]
    end

    subgraph Data[&quot;Database Layer&quot;]
        PG[(PostgreSQL)]
        PG_Backup[(Automated Backups)]
    end

    subgraph Cache[&quot;Cache &amp; Queue&quot;]
        Redis_Prod[(Redis Cloud)]
    end

    subgraph Workers[&quot;Worker Layer&quot;]
        Worker1[Celery Worker 1]
        Worker2[Celery Worker 2]
        Beat[Celery Beat]
    end

    subgraph Services[&quot;External Services&quot;]
        SMTP[SendGrid]
        Gateway[Payment Gateway]
        Monitoring[Sentry]
        S3[AWS S3 / Media]
    end

    %% Connections
    Desktop --&gt; CF
    Mobile --&gt; CF

    CF --&gt; Static
    CF --&gt; LB

    Static --&gt; Build

    LB --&gt; App1
    LB --&gt; App2

    %% App Connections
    App1 --&gt; PG
    App2 --&gt; PG
    App1 --&gt; Redis_Prod
    App2 --&gt; Redis_Prod

    App1 --&gt; S3
    App2 --&gt; S3

    App1 --&gt; Gateway
    App2 --&gt; Gateway
    App1 --&gt; Monitoring
    App2 --&gt; Monitoring

    %% Database
    PG --&gt; PG_Backup

    %% Workers
    Beat --&gt; Redis_Prod
    Worker1 --&gt; Redis_Prod
    Worker2 --&gt; Redis_Prod

    Worker1 --&gt; SMTP
    Worker2 --&gt; SMTP
    Worker1 --&gt; Monitoring
    Worker2 --&gt; Monitoring
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-53" name="sd-tab-set-26" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-53">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>flowchart LR
    subgraph Users[&quot;User Devices&quot;]
        Desktop[üíª Desktop Browser]
        Mobile[üì± Mobile Browser]
    end

    subgraph CDN[&quot;CDN Layer&quot;]
        CF[Cloudflare CDN]
    end

    subgraph Frontend[&quot;Frontend Hosting (Netlify)&quot;]
        Build[Build Process]
        Static[Static Assets]
        Edge[Edge Functions]
    end

    subgraph Backend[&quot;Backend Hosting (Railway/Render)&quot;]
        LB[Load Balancer]

        subgraph Apps[&quot;Application Servers&quot;]
            App1[Django Instance 1]
            App2[Django Instance 2]
        end

        Static_Backend[Static Files Server]
    end

    subgraph Data[&quot;Database Layer&quot;]
        PG[(PostgreSQL)]
        PG_Backup[(Automated Backups)]
    end

    subgraph Cache[&quot;Cache &amp; Queue&quot;]
        Redis_Prod[(Redis Cloud)]
    end

    subgraph Workers[&quot;Worker Layer&quot;]
        Worker1[Celery Worker 1]
        Worker2[Celery Worker 2]
        Beat[Celery Beat]
    end

    subgraph Services[&quot;External Services&quot;]
        SMTP[SendGrid]
        Gateway[Payment Gateway]
        Monitoring[Sentry]
        S3[AWS S3 / Media]
    end

    %% Connections
    Desktop --&gt; CF
    Mobile --&gt; CF

    CF --&gt; Static
    CF --&gt; LB

    Static --&gt; Build

    LB --&gt; App1
    LB --&gt; App2

    %% App Connections
    App1 --&gt; PG
    App2 --&gt; PG
    App1 --&gt; Redis_Prod
    App2 --&gt; Redis_Prod

    App1 --&gt; S3
    App2 --&gt; S3

    App1 --&gt; Gateway
    App2 --&gt; Gateway
    App1 --&gt; Monitoring
    App2 --&gt; Monitoring

    %% Database
    PG --&gt; PG_Backup

    %% Workers
    Beat --&gt; Redis_Prod
    Worker1 --&gt; Redis_Prod
    Worker2 --&gt; Redis_Prod

    Worker1 --&gt; SMTP
    Worker2 --&gt; SMTP
    Worker1 --&gt; Monitoring
    Worker2 --&gt; Monitoring
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-54" name="sd-tab-set-27" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-54">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            flowchart LR
    Dev[Developer] --&gt;|git push| GitHub[GitHub Repo]
    GitHub --&gt;|webhook| Netlify_Build[Netlify Build]
    GitHub --&gt;|webhook| Railway_Build[Railway Build]

    Netlify_Build --&gt;|success| Netlify_Deploy[Deploy Frontend]
    Railway_Build --&gt;|success| Railway_Deploy[Deploy Backend]

    Railway_Deploy --&gt; Migrate[Run Migrations]
    Migrate --&gt; Collect[Collect Static]
    Collect --&gt; Health[Health Check]
    Health --&gt;|pass| Live[LIVE]
    Health --&gt;|fail| Rollback[Rollback]
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-55" name="sd-tab-set-27" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-55">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>flowchart LR
    Dev[Developer] --&gt;|git push| GitHub[GitHub Repo]
    GitHub --&gt;|webhook| Netlify_Build[Netlify Build]
    GitHub --&gt;|webhook| Railway_Build[Railway Build]

    Netlify_Build --&gt;|success| Netlify_Deploy[Deploy Frontend]
    Railway_Build --&gt;|success| Railway_Deploy[Deploy Backend]

    Railway_Deploy --&gt; Migrate[Run Migrations]
    Migrate --&gt; Collect[Collect Static]
    Collect --&gt; Health[Health Check]
    Health --&gt;|pass| Live[LIVE]
    Health --&gt;|fail| Rollback[Rollback]
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
</details><details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3 sd-mb-4" open="open">
<summary class="sd-summary-title sd-card-header">
üìä Diagrama Estados (5 diagramas)<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-56" name="sd-tab-set-28" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-56">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            stateDiagram-v2
    [*] --&gt; Pendiente: Cliente confirma compra&lt;br/&gt;&amp; pago exitoso

    Pendiente --&gt; Preparando: Log√≠stica inicia&lt;br/&gt;preparaci√≥n
    Pendiente --&gt; Cancelado: Cliente cancela&lt;br/&gt;o Admin cancela

    Preparando --&gt; En_Transito: Log√≠stica marca&lt;br/&gt;como enviado
    Preparando --&gt; Cancelado: Problema en&lt;br/&gt;preparaci√≥n

    En_Transito --&gt; Entregado: Confirmaci√≥n&lt;br/&gt;de entrega
    En_Transito --&gt; Problema_Entrega: Error en&lt;br/&gt;entrega

    Problema_Entrega --&gt; En_Transito: Reintento de&lt;br/&gt;entrega
    Problema_Entrega --&gt; Cancelado: Entrega&lt;br/&gt;imposible

    Entregado --&gt; [*]: Venta generada

    Cancelado --&gt; [*]: Stock devuelto

    state Pendiente {
        [*] --&gt; Esperando_Preparacion
        Esperando_Preparacion --&gt; Validando_Stock: Auto-check
        Validando_Stock --&gt; Esperando_Preparacion: Stock OK
    }

    state Preparando {
        [*] --&gt; Recolectando
        Recolectando --&gt; Empacando
        Empacando --&gt; Etiquetando
        Etiquetando --&gt; Listo_para_Envio
    }

    state En_Transito {
        [*] --&gt; Asignado_Transportista
        Asignado_Transportista --&gt; En_Ruta
        En_Ruta --&gt; En_Destino
    }

    note right of Pendiente
        ‚Ä¢ Pago confirmado
        ‚Ä¢ Stock reservado
        ‚Ä¢ Cliente notificado
    end note

    note right of Entregado
        ‚Ä¢ Genera Venta
        ‚Ä¢ Actualiza m√©tricas
        ‚Ä¢ Notifica cliente
    end note

    note right of Cancelado
        ‚Ä¢ Devuelve stock
        ‚Ä¢ Procesa reembolso
        ‚Ä¢ Notifica cliente
    end note
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-57" name="sd-tab-set-28" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-57">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>stateDiagram-v2
    [*] --&gt; Pendiente: Cliente confirma compra&lt;br/&gt;&amp; pago exitoso

    Pendiente --&gt; Preparando: Log√≠stica inicia&lt;br/&gt;preparaci√≥n
    Pendiente --&gt; Cancelado: Cliente cancela&lt;br/&gt;o Admin cancela

    Preparando --&gt; En_Transito: Log√≠stica marca&lt;br/&gt;como enviado
    Preparando --&gt; Cancelado: Problema en&lt;br/&gt;preparaci√≥n

    En_Transito --&gt; Entregado: Confirmaci√≥n&lt;br/&gt;de entrega
    En_Transito --&gt; Problema_Entrega: Error en&lt;br/&gt;entrega

    Problema_Entrega --&gt; En_Transito: Reintento de&lt;br/&gt;entrega
    Problema_Entrega --&gt; Cancelado: Entrega&lt;br/&gt;imposible

    Entregado --&gt; [*]: Venta generada

    Cancelado --&gt; [*]: Stock devuelto

    state Pendiente {
        [*] --&gt; Esperando_Preparacion
        Esperando_Preparacion --&gt; Validando_Stock: Auto-check
        Validando_Stock --&gt; Esperando_Preparacion: Stock OK
    }

    state Preparando {
        [*] --&gt; Recolectando
        Recolectando --&gt; Empacando
        Empacando --&gt; Etiquetando
        Etiquetando --&gt; Listo_para_Envio
    }

    state En_Transito {
        [*] --&gt; Asignado_Transportista
        Asignado_Transportista --&gt; En_Ruta
        En_Ruta --&gt; En_Destino
    }

    note right of Pendiente
        ‚Ä¢ Pago confirmado
        ‚Ä¢ Stock reservado
        ‚Ä¢ Cliente notificado
    end note

    note right of Entregado
        ‚Ä¢ Genera Venta
        ‚Ä¢ Actualiza m√©tricas
        ‚Ä¢ Notifica cliente
    end note

    note right of Cancelado
        ‚Ä¢ Devuelve stock
        ‚Ä¢ Procesa reembolso
        ‚Ä¢ Notifica cliente
    end note
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-58" name="sd-tab-set-29" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-58">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            stateDiagram-v2
    [*] --&gt; Activa: Registro exitoso

    Activa --&gt; Auto_Desactivada: Usuario&lt;br/&gt;desactiva cuenta
    Activa --&gt; Suspendida_Admin: Admin&lt;br/&gt;suspende
    Activa --&gt; Inactiva: Sin actividad&lt;br/&gt;por 180 d√≠as

    Auto_Desactivada --&gt; Activa: Usuario&lt;br/&gt;reactiva
    Auto_Desactivada --&gt; Eliminada: 30 d√≠as sin&lt;br/&gt;reactivar

    Suspendida_Admin --&gt; Activa: Admin&lt;br/&gt;reactiva
    Suspendida_Admin --&gt; Eliminada: Solicitud usuario&lt;br/&gt;&amp; aprobaci√≥n admin

    Inactiva --&gt; Activa: Usuario&lt;br/&gt;inicia sesi√≥n
    Inactiva --&gt; Eliminada: Sin actividad&lt;br/&gt;por 365 d√≠as

    Eliminada --&gt; [*]: Datos anonimizados

    state Activa {
        [*] --&gt; Normal
        Normal --&gt; Cambiando_Password: Solicitud cambio
        Cambiando_Password --&gt; Normal: Password actualizado
        Normal --&gt; Editando_Perfil: Solicitud edici√≥n
        Editando_Perfil --&gt; Normal: Perfil actualizado
    }

    state Suspendida_Admin {
        [*] --&gt; Bloqueada
        note right of Bloqueada
            ‚Ä¢ No puede iniciar sesi√≥n
            ‚Ä¢ Debe contactar soporte
            ‚Ä¢ Raz√≥n registrada
        end note
    }

    note right of Auto_Desactivada
        ‚Ä¢ Puede reactivar solo
        ‚Ä¢ Datos preservados
        ‚Ä¢ Sesiones cerradas
    end note

    note right of Eliminada
        ‚Ä¢ Irreversible
        ‚Ä¢ Datos anonimizados
        ‚Ä¢ Cumple GPDR
    end note
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-59" name="sd-tab-set-29" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-59">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>stateDiagram-v2
    [*] --&gt; Activa: Registro exitoso

    Activa --&gt; Auto_Desactivada: Usuario&lt;br/&gt;desactiva cuenta
    Activa --&gt; Suspendida_Admin: Admin&lt;br/&gt;suspende
    Activa --&gt; Inactiva: Sin actividad&lt;br/&gt;por 180 d√≠as

    Auto_Desactivada --&gt; Activa: Usuario&lt;br/&gt;reactiva
    Auto_Desactivada --&gt; Eliminada: 30 d√≠as sin&lt;br/&gt;reactivar

    Suspendida_Admin --&gt; Activa: Admin&lt;br/&gt;reactiva
    Suspendida_Admin --&gt; Eliminada: Solicitud usuario&lt;br/&gt;&amp; aprobaci√≥n admin

    Inactiva --&gt; Activa: Usuario&lt;br/&gt;inicia sesi√≥n
    Inactiva --&gt; Eliminada: Sin actividad&lt;br/&gt;por 365 d√≠as

    Eliminada --&gt; [*]: Datos anonimizados

    state Activa {
        [*] --&gt; Normal
        Normal --&gt; Cambiando_Password: Solicitud cambio
        Cambiando_Password --&gt; Normal: Password actualizado
        Normal --&gt; Editando_Perfil: Solicitud edici√≥n
        Editando_Perfil --&gt; Normal: Perfil actualizado
    }

    state Suspendida_Admin {
        [*] --&gt; Bloqueada
        note right of Bloqueada
            ‚Ä¢ No puede iniciar sesi√≥n
            ‚Ä¢ Debe contactar soporte
            ‚Ä¢ Raz√≥n registrada
        end note
    }

    note right of Auto_Desactivada
        ‚Ä¢ Puede reactivar solo
        ‚Ä¢ Datos preservados
        ‚Ä¢ Sesiones cerradas
    end note

    note right of Eliminada
        ‚Ä¢ Irreversible
        ‚Ä¢ Datos anonimizados
        ‚Ä¢ Cumple GPDR
    end note
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-60" name="sd-tab-set-30" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-60">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            stateDiagram-v2
    [*] --&gt; Pendiente: Cliente inicia&lt;br/&gt;proceso de pago

    Pendiente --&gt; Procesando: Gateway&lt;br/&gt;recibe solicitud

    Procesando --&gt; Aprobado: Autorizaci√≥n&lt;br/&gt;exitosa
    Procesando --&gt; Rechazado: Fondos insuficientes&lt;br/&gt;o tarjeta inv√°lida
    Procesando --&gt; Error: Error t√©cnico&lt;br/&gt;del gateway

    Rechazado --&gt; Pendiente: Cliente&lt;br/&gt;reintenta
    Error --&gt; Pendiente: Administrador&lt;br/&gt;autoriza reintento

    Aprobado --&gt; Confirmado: Verificaci√≥n&lt;br/&gt;exitosa

    Confirmado --&gt; Completado: Pedido&lt;br/&gt;entregado

    Completado --&gt; Reembolsado: Solicitud de&lt;br/&gt;reembolso aprobada

    Rechazado --&gt; [*]: Pago no procesado
    Error --&gt; [*]: Pago no procesado
    Reembolsado --&gt; [*]: Monto devuelto

    state Procesando {
        [*] --&gt; Validando_Datos
        Validando_Datos --&gt; Autorizando
        Autorizando --&gt; Capturando
    }

    state Aprobado {
        [*] --&gt; Verificando_Fondos
        Verificando_Fondos --&gt; Reservado
    }

    note right of Pendiente
        ‚Ä¢ Esperando acci√≥n
        ‚Ä¢ No afecta inventario
        ‚Ä¢ Timeout: 15 minutos
    end note

    note right of Completado
        ‚Ä¢ Pago finalizado
        ‚Ä¢ No reversible
        ‚Ä¢ Venta confirmada
    end note

    note right of Reembolsado
        ‚Ä¢ Dinero devuelto
        ‚Ä¢ Pedido cancelado
        ‚Ä¢ Stock restaurado
    end note
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-61" name="sd-tab-set-30" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-61">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>stateDiagram-v2
    [*] --&gt; Pendiente: Cliente inicia&lt;br/&gt;proceso de pago

    Pendiente --&gt; Procesando: Gateway&lt;br/&gt;recibe solicitud

    Procesando --&gt; Aprobado: Autorizaci√≥n&lt;br/&gt;exitosa
    Procesando --&gt; Rechazado: Fondos insuficientes&lt;br/&gt;o tarjeta inv√°lida
    Procesando --&gt; Error: Error t√©cnico&lt;br/&gt;del gateway

    Rechazado --&gt; Pendiente: Cliente&lt;br/&gt;reintenta
    Error --&gt; Pendiente: Administrador&lt;br/&gt;autoriza reintento

    Aprobado --&gt; Confirmado: Verificaci√≥n&lt;br/&gt;exitosa

    Confirmado --&gt; Completado: Pedido&lt;br/&gt;entregado

    Completado --&gt; Reembolsado: Solicitud de&lt;br/&gt;reembolso aprobada

    Rechazado --&gt; [*]: Pago no procesado
    Error --&gt; [*]: Pago no procesado
    Reembolsado --&gt; [*]: Monto devuelto

    state Procesando {
        [*] --&gt; Validando_Datos
        Validando_Datos --&gt; Autorizando
        Autorizando --&gt; Capturando
    }

    state Aprobado {
        [*] --&gt; Verificando_Fondos
        Verificando_Fondos --&gt; Reservado
    }

    note right of Pendiente
        ‚Ä¢ Esperando acci√≥n
        ‚Ä¢ No afecta inventario
        ‚Ä¢ Timeout: 15 minutos
    end note

    note right of Completado
        ‚Ä¢ Pago finalizado
        ‚Ä¢ No reversible
        ‚Ä¢ Venta confirmada
    end note

    note right of Reembolsado
        ‚Ä¢ Dinero devuelto
        ‚Ä¢ Pedido cancelado
        ‚Ä¢ Stock restaurado
    end note
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-62" name="sd-tab-set-31" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-62">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            stateDiagram-v2
    [*] --&gt; Pendiente: Evento trigger

    Pendiente --&gt; Encolada: Agregada a&lt;br/&gt;cola Celery

    Encolada --&gt; Enviando: Worker procesa

    Enviando --&gt; Enviada: Env√≠o exitoso&lt;br/&gt;(SMTP/SMS OK)
    Enviando --&gt; Fallida: Error al enviar

    Enviada --&gt; Leida: Usuario abre&lt;br/&gt;notificaci√≥n

    Fallida --&gt; Reintentando: Auto-retry&lt;br/&gt;(max 3 intentos)

    Reintentando --&gt; Enviando: Intentando&lt;br/&gt;nuevamente
    Reintentando --&gt; Fallida_Final: 3 intentos&lt;br/&gt;fallidos

    Leida --&gt; [*]: Notificaci√≥n procesada
    Fallida_Final --&gt; [*]: Notificaci√≥n&lt;br/&gt;no entregada

    state Enviando {
        [*] --&gt; Conectando_Servidor
        Conectando_Servidor --&gt; Enviando_Mensaje
        Enviando_Mensaje --&gt; Esperando_Confirmacion
    }

    note right of Pendiente
        ‚Ä¢ Creada en DB
        ‚Ä¢ leida = false
        ‚Ä¢ estado = pendiente
    end note

    note right of Enviada
        ‚Ä¢ Entregada exitosamente
        ‚Ä¢ fecha_envio registrada
        ‚Ä¢ Visible para usuario
    end note

    note right of Leida
        ‚Ä¢ Usuario la vio
        ‚Ä¢ fecha_lectura registrada
        ‚Ä¢ Puede archivarse
    end note
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-63" name="sd-tab-set-31" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-63">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>stateDiagram-v2
    [*] --&gt; Pendiente: Evento trigger

    Pendiente --&gt; Encolada: Agregada a&lt;br/&gt;cola Celery

    Encolada --&gt; Enviando: Worker procesa

    Enviando --&gt; Enviada: Env√≠o exitoso&lt;br/&gt;(SMTP/SMS OK)
    Enviando --&gt; Fallida: Error al enviar

    Enviada --&gt; Leida: Usuario abre&lt;br/&gt;notificaci√≥n

    Fallida --&gt; Reintentando: Auto-retry&lt;br/&gt;(max 3 intentos)

    Reintentando --&gt; Enviando: Intentando&lt;br/&gt;nuevamente
    Reintentando --&gt; Fallida_Final: 3 intentos&lt;br/&gt;fallidos

    Leida --&gt; [*]: Notificaci√≥n procesada
    Fallida_Final --&gt; [*]: Notificaci√≥n&lt;br/&gt;no entregada

    state Enviando {
        [*] --&gt; Conectando_Servidor
        Conectando_Servidor --&gt; Enviando_Mensaje
        Enviando_Mensaje --&gt; Esperando_Confirmacion
    }

    note right of Pendiente
        ‚Ä¢ Creada en DB
        ‚Ä¢ leida = false
        ‚Ä¢ estado = pendiente
    end note

    note right of Enviada
        ‚Ä¢ Entregada exitosamente
        ‚Ä¢ fecha_envio registrada
        ‚Ä¢ Visible para usuario
    end note

    note right of Leida
        ‚Ä¢ Usuario la vio
        ‚Ä¢ fecha_lectura registrada
        ‚Ä¢ Puede archivarse
    end note
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-64" name="sd-tab-set-32" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-64">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            stateDiagram-v2
    [*] --&gt; Normal: Stock &gt;= stock_minimo&lt;br/&gt;+ margen

    Normal --&gt; Bajo: Stock &lt;= stock_minimo

    Bajo --&gt; Muy_Bajo: Stock &lt; (stock_minimo / 2)

    Muy_Bajo --&gt; Critico: Stock &lt;= 5

    Critico --&gt; Agotado: Stock = 0

    Bajo --&gt; Normal: Recarga manual&lt;br/&gt;o autom√°tica
    Muy_Bajo --&gt; Normal: Recarga manual&lt;br/&gt;o autom√°tica
    Critico --&gt; Normal: Recarga manual&lt;br/&gt;o autom√°tica
    Agotado --&gt; Normal: Recarga manual&lt;br/&gt;o autom√°tica

    state Normal {
        [*] --&gt; Disponible
        Disponible --&gt; Vendiendo: Pedidos activos
        Vendiendo --&gt; Disponible: Stock OK
    }

    state Bajo {
        [*] --&gt; Alerta_Proveedor
        note right of Alerta_Proveedor
            ‚Ä¢ Notificaci√≥n al proveedor
            ‚Ä¢ Recarga auto trigger
        end note
    }

    state Critico {
        [*] --&gt; Alerta_Admin
        note right of Alerta_Admin
            ‚Ä¢ Notificaci√≥n urgente
            ‚Ä¢ Visible en dashboard
            ‚Ä¢ Icono de advertencia
        end note
    }

    state Agotado {
        [*] --&gt; No_Disponible
        note right of No_Disponible
            ‚Ä¢ No se puede agregar al carrito
            ‚Ä¢ Mensaje &quot;Agotado&quot;
            ‚Ä¢ No visible en b√∫squedas
        end note
    }

    note right of Normal
        ‚Ä¢ Stock saludable
        ‚Ä¢ Ventas normales
        ‚Ä¢ Sin alertas
    end note

    note right of Muy_Bajo
        ‚Ä¢ Requiere atenci√≥n
        ‚Ä¢ Prioridad alta
        ‚Ä¢ Limitar compras grandes
    end note
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-65" name="sd-tab-set-32" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-65">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>stateDiagram-v2
    [*] --&gt; Normal: Stock &gt;= stock_minimo&lt;br/&gt;+ margen

    Normal --&gt; Bajo: Stock &lt;= stock_minimo

    Bajo --&gt; Muy_Bajo: Stock &lt; (stock_minimo / 2)

    Muy_Bajo --&gt; Critico: Stock &lt;= 5

    Critico --&gt; Agotado: Stock = 0

    Bajo --&gt; Normal: Recarga manual&lt;br/&gt;o autom√°tica
    Muy_Bajo --&gt; Normal: Recarga manual&lt;br/&gt;o autom√°tica
    Critico --&gt; Normal: Recarga manual&lt;br/&gt;o autom√°tica
    Agotado --&gt; Normal: Recarga manual&lt;br/&gt;o autom√°tica

    state Normal {
        [*] --&gt; Disponible
        Disponible --&gt; Vendiendo: Pedidos activos
        Vendiendo --&gt; Disponible: Stock OK
    }

    state Bajo {
        [*] --&gt; Alerta_Proveedor
        note right of Alerta_Proveedor
            ‚Ä¢ Notificaci√≥n al proveedor
            ‚Ä¢ Recarga auto trigger
        end note
    }

    state Critico {
        [*] --&gt; Alerta_Admin
        note right of Alerta_Admin
            ‚Ä¢ Notificaci√≥n urgente
            ‚Ä¢ Visible en dashboard
            ‚Ä¢ Icono de advertencia
        end note
    }

    state Agotado {
        [*] --&gt; No_Disponible
        note right of No_Disponible
            ‚Ä¢ No se puede agregar al carrito
            ‚Ä¢ Mensaje &quot;Agotado&quot;
            ‚Ä¢ No visible en b√∫squedas
        end note
    }

    note right of Normal
        ‚Ä¢ Stock saludable
        ‚Ä¢ Ventas normales
        ‚Ä¢ Sin alertas
    end note

    note right of Muy_Bajo
        ‚Ä¢ Requiere atenci√≥n
        ‚Ä¢ Prioridad alta
        ‚Ä¢ Limitar compras grandes
    end note
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
</details><details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3 sd-mb-4" open="open">
<summary class="sd-summary-title sd-card-header">
üìä Diagrama Objetos (5 diagramas)<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-66" name="sd-tab-set-33" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-66">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            flowchart TB
    subgraph &quot;Instancias en Runtime - Pedido #1234&quot;
        usuario1[&quot;&quot;&quot;&quot;&quot;üë§ usuario1: Usuario&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 42&lt;br/&gt;email: 'maria&#64;email.com'&lt;br/&gt;nombre: 'Mar√≠a Garc√≠a'&lt;br/&gt;rol: 'cliente'&lt;br/&gt;estado: true&quot;&quot;&quot;&quot;&quot;]

        tienda1[&quot;&quot;&quot;&quot;&quot;üè™ tienda1: Tienda&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 1&lt;br/&gt;id_administrador: 1&lt;br/&gt;nombre: 'Tienda Centro'&lt;br/&gt;direccion: 'Calle 10 #5-20'&lt;br/&gt;activa: true&quot;&quot;&quot;&quot;&quot;]

        pedido1[&quot;&quot;&quot;&quot;&quot;üì¶ pedido1: Pedido&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 1234&lt;br/&gt;id_cliente: 42&lt;br/&gt;id_tienda: 1&lt;br/&gt;estado: 'preparando'&lt;br/&gt;total: 45000.00&lt;br/&gt;fecha_creacion: '2025-12-04 10:30'&lt;br/&gt;notas: 'Entregar antes 5pm'&quot;&quot;&quot;&quot;&quot;]

        detalle1[&quot;&quot;&quot;&quot;&quot;üìã detalle1: DetallePedido&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 5001&lt;br/&gt;id_pedido: 1234&lt;br/&gt;id_producto: 101&lt;br/&gt;cantidad: 2&lt;br/&gt;precio_unitario: 12000.00&lt;br/&gt;subtotal: 24000.00&quot;&quot;&quot;&quot;&quot;]

        detalle2[&quot;&quot;&quot;&quot;&quot;üìã detalle2: DetallePedido&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 5002&lt;br/&gt;id_pedido: 1234&lt;br/&gt;id_producto: 205&lt;br/&gt;cantidad: 3&lt;br/&gt;precio_unitario: 7000.00&lt;br/&gt;subtotal: 21000.00&quot;&quot;&quot;&quot;&quot;]

        producto1[&quot;&quot;&quot;&quot;&quot;üì¶ producto1: Producto&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 101&lt;br/&gt;id_tienda: 1&lt;br/&gt;id_proveedor: 15&lt;br/&gt;nombre: 'Arroz Diana 500g'&lt;br/&gt;precio: 12000.00&lt;br/&gt;stock: 148&lt;br/&gt;categoria: 'alimentos'&quot;&quot;&quot;&quot;&quot;]

        producto2[&quot;&quot;&quot;&quot;&quot;üì¶ producto2: Producto&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 205&lt;br/&gt;id_tienda: 1&lt;br/&gt;id_proveedor: 15&lt;br/&gt;nombre: 'Aceite Girasol 1L'&lt;br/&gt;precio: 7000.00&lt;br/&gt;stock: 67&lt;br/&gt;categoria: 'alimentos'&quot;&quot;&quot;&quot;&quot;]

        proveedor1[&quot;&quot;&quot;&quot;&quot;üë®‚Äçüíº proveedor1: Usuario&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 15&lt;br/&gt;email: 'juan&#64;proveedora.com'&lt;br/&gt;nombre: 'Juan P√©rez'&lt;br/&gt;rol: 'proveedor'&lt;br/&gt;estado: true&quot;&quot;&quot;&quot;&quot;]

        pago1[&quot;&quot;&quot;&quot;&quot;üí≥ pago1: Pago&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 789&lt;br/&gt;id_usuario: 42&lt;br/&gt;id_pedido: 1234&lt;br/&gt;id_estado_pago: 2&lt;br/&gt;id_metodo_pago: 1&lt;br/&gt;monto: 45000.00&lt;br/&gt;fecha_creacion: '2025-12-04 10:25'&quot;&quot;&quot;&quot;&quot;]

        metodo1[&quot;&quot;&quot;&quot;&quot;üí∞ metodo1: MetodoPago&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 1&lt;br/&gt;nombre: 'Tarjeta Cr√©dito'&lt;br/&gt;activo: true&quot;&quot;&quot;&quot;&quot;]

        estado1[&quot;&quot;&quot;&quot;&quot;‚úÖ estado1: EstadoPago&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 2&lt;br/&gt;nombre: 'Aprobado'&quot;&quot;&quot;&quot;&quot;]
    end

    pedido1 --&gt;|id_cliente = 42| usuario1
    pedido1 --&gt;|id_tienda = 1| tienda1
    pedido1 --&gt;|detalles| detalle1
    pedido1 --&gt;|detalles| detalle2
    pedido1 --&gt;|pagos| pago1

    detalle1 --&gt;|id_producto = 101| producto1
    detalle2 --&gt;|id_producto = 205| producto2

    producto1 --&gt;|id_tienda = 1| tienda1
    producto2 --&gt;|id_tienda = 1| tienda1
    producto1 --&gt;|id_proveedor = 15| proveedor1
    producto2 --&gt;|id_proveedor = 15| proveedor1

    pago1 --&gt;|id_usuario = 42| usuario1
    pago1 --&gt;|id_pedido = 1234| pedido1
    pago1 --&gt;|id_metodo_pago = 1| metodo1
    pago1 --&gt;|id_estado_pago = 2| estado1
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-67" name="sd-tab-set-33" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-67">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>flowchart TB
    subgraph &quot;Instancias en Runtime - Pedido #1234&quot;
        usuario1[&quot;&quot;&quot;&quot;&quot;üë§ usuario1: Usuario&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 42&lt;br/&gt;email: &#39;maria@email.com&#39;&lt;br/&gt;nombre: &#39;Mar√≠a Garc√≠a&#39;&lt;br/&gt;rol: &#39;cliente&#39;&lt;br/&gt;estado: true&quot;&quot;&quot;&quot;&quot;]

        tienda1[&quot;&quot;&quot;&quot;&quot;üè™ tienda1: Tienda&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 1&lt;br/&gt;id_administrador: 1&lt;br/&gt;nombre: &#39;Tienda Centro&#39;&lt;br/&gt;direccion: &#39;Calle 10 #5-20&#39;&lt;br/&gt;activa: true&quot;&quot;&quot;&quot;&quot;]

        pedido1[&quot;&quot;&quot;&quot;&quot;üì¶ pedido1: Pedido&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 1234&lt;br/&gt;id_cliente: 42&lt;br/&gt;id_tienda: 1&lt;br/&gt;estado: &#39;preparando&#39;&lt;br/&gt;total: 45000.00&lt;br/&gt;fecha_creacion: &#39;2025-12-04 10:30&#39;&lt;br/&gt;notas: &#39;Entregar antes 5pm&#39;&quot;&quot;&quot;&quot;&quot;]

        detalle1[&quot;&quot;&quot;&quot;&quot;üìã detalle1: DetallePedido&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 5001&lt;br/&gt;id_pedido: 1234&lt;br/&gt;id_producto: 101&lt;br/&gt;cantidad: 2&lt;br/&gt;precio_unitario: 12000.00&lt;br/&gt;subtotal: 24000.00&quot;&quot;&quot;&quot;&quot;]

        detalle2[&quot;&quot;&quot;&quot;&quot;üìã detalle2: DetallePedido&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 5002&lt;br/&gt;id_pedido: 1234&lt;br/&gt;id_producto: 205&lt;br/&gt;cantidad: 3&lt;br/&gt;precio_unitario: 7000.00&lt;br/&gt;subtotal: 21000.00&quot;&quot;&quot;&quot;&quot;]

        producto1[&quot;&quot;&quot;&quot;&quot;üì¶ producto1: Producto&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 101&lt;br/&gt;id_tienda: 1&lt;br/&gt;id_proveedor: 15&lt;br/&gt;nombre: &#39;Arroz Diana 500g&#39;&lt;br/&gt;precio: 12000.00&lt;br/&gt;stock: 148&lt;br/&gt;categoria: &#39;alimentos&#39;&quot;&quot;&quot;&quot;&quot;]

        producto2[&quot;&quot;&quot;&quot;&quot;üì¶ producto2: Producto&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 205&lt;br/&gt;id_tienda: 1&lt;br/&gt;id_proveedor: 15&lt;br/&gt;nombre: &#39;Aceite Girasol 1L&#39;&lt;br/&gt;precio: 7000.00&lt;br/&gt;stock: 67&lt;br/&gt;categoria: &#39;alimentos&#39;&quot;&quot;&quot;&quot;&quot;]

        proveedor1[&quot;&quot;&quot;&quot;&quot;üë®‚Äçüíº proveedor1: Usuario&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 15&lt;br/&gt;email: &#39;juan@proveedora.com&#39;&lt;br/&gt;nombre: &#39;Juan P√©rez&#39;&lt;br/&gt;rol: &#39;proveedor&#39;&lt;br/&gt;estado: true&quot;&quot;&quot;&quot;&quot;]

        pago1[&quot;&quot;&quot;&quot;&quot;üí≥ pago1: Pago&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 789&lt;br/&gt;id_usuario: 42&lt;br/&gt;id_pedido: 1234&lt;br/&gt;id_estado_pago: 2&lt;br/&gt;id_metodo_pago: 1&lt;br/&gt;monto: 45000.00&lt;br/&gt;fecha_creacion: &#39;2025-12-04 10:25&#39;&quot;&quot;&quot;&quot;&quot;]

        metodo1[&quot;&quot;&quot;&quot;&quot;üí∞ metodo1: MetodoPago&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 1&lt;br/&gt;nombre: &#39;Tarjeta Cr√©dito&#39;&lt;br/&gt;activo: true&quot;&quot;&quot;&quot;&quot;]

        estado1[&quot;&quot;&quot;&quot;&quot;‚úÖ estado1: EstadoPago&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 2&lt;br/&gt;nombre: &#39;Aprobado&#39;&quot;&quot;&quot;&quot;&quot;]
    end

    pedido1 --&gt;|id_cliente = 42| usuario1
    pedido1 --&gt;|id_tienda = 1| tienda1
    pedido1 --&gt;|detalles| detalle1
    pedido1 --&gt;|detalles| detalle2
    pedido1 --&gt;|pagos| pago1

    detalle1 --&gt;|id_producto = 101| producto1
    detalle2 --&gt;|id_producto = 205| producto2

    producto1 --&gt;|id_tienda = 1| tienda1
    producto2 --&gt;|id_tienda = 1| tienda1
    producto1 --&gt;|id_proveedor = 15| proveedor1
    producto2 --&gt;|id_proveedor = 15| proveedor1

    pago1 --&gt;|id_usuario = 42| usuario1
    pago1 --&gt;|id_pedido = 1234| pedido1
    pago1 --&gt;|id_metodo_pago = 1| metodo1
    pago1 --&gt;|id_estado_pago = 2| estado1
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-68" name="sd-tab-set-34" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-68">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            flowchart TB
    subgraph &quot;Sistema de Stock - Producto con Alerta&quot;
        producto_leche[&quot;&quot;&quot;&quot;&quot;üì¶ producto_leche: Producto&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 301&lt;br/&gt;nombre: 'Leche Entera 1L'&lt;br/&gt;precio: 4500.00&lt;br/&gt;stock: 8 üî¥&lt;br/&gt;es_basico: true&lt;br/&gt;activo: true&quot;&quot;&quot;&quot;&quot;]

        config_leche[&quot;&quot;&quot;&quot;&quot;‚öôÔ∏è config_leche: StockConfig&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 45&lt;br/&gt;stock_minimo: 10&lt;br/&gt;cantidad_recarga: 50&lt;br/&gt;recarga_automatica_activa: true&lt;br/&gt;ultima_recarga: '2025-12-03 08:00'&lt;br/&gt;total_recargas: 12&quot;&quot;&quot;&quot;&quot;]

        historial1[&quot;&quot;&quot;&quot;&quot;üìù historial1: HistorialRecarga&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 890&lt;br/&gt;cantidad: 50&lt;br/&gt;stock_anterior: 3&lt;br/&gt;stock_nuevo: 53&lt;br/&gt;tipo: 'automatica'&lt;br/&gt;fecha_creacion: '2025-12-03 08:00'&quot;&quot;&quot;&quot;&quot;]

        historial2[&quot;&quot;&quot;&quot;&quot;üìù historial2: HistorialRecarga&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 891&lt;br/&gt;cantidad: 10&lt;br/&gt;stock_anterior: 53&lt;br/&gt;stock_nuevo: 63&lt;br/&gt;tipo: 'manual'&lt;br/&gt;fecha_creacion: '2025-12-03 14:30'&quot;&quot;&quot;&quot;&quot;]

        proveedor_lacteos[&quot;&quot;&quot;&quot;&quot;üë®‚Äçüíº proveedor_lacteos: Usuario&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 18&lt;br/&gt;email: 'ana&#64;lacteos.com'&lt;br/&gt;nombre: 'Ana Rodr√≠guez'&lt;br/&gt;rol: 'proveedor'&quot;&quot;&quot;&quot;&quot;]

        notif1[&quot;&quot;&quot;&quot;&quot;üìß notif1: Notificacion&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 2345&lt;br/&gt;mensaje: 'Stock bajo: Leche...'&lt;br/&gt;leida: true&lt;br/&gt;fecha_lectura: '2025-12-03 08:05'&quot;&quot;&quot;&quot;&quot;]

        tipo_notif[&quot;&quot;&quot;&quot;&quot;üîî tipo_notif: TipoNotificacion&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 3&lt;br/&gt;nombre: 'Stock Bajo'&quot;&quot;&quot;&quot;&quot;]
    end

    producto_leche --&gt;|config_stock| config_leche
    producto_leche --&gt;|historial_recargas| historial1
    producto_leche --&gt;|historial_recargas| historial2
    producto_leche --&gt;|proveedor| proveedor_lacteos

    historial1 --&gt;|producto| producto_leche
    historial2 --&gt;|producto| producto_leche
    historial2 --&gt;|usuario| proveedor_lacteos

    notif1 --&gt;|usuario| proveedor_lacteos
    notif1 --&gt;|tipo| tipo_notif
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-69" name="sd-tab-set-34" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-69">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>flowchart TB
    subgraph &quot;Sistema de Stock - Producto con Alerta&quot;
        producto_leche[&quot;&quot;&quot;&quot;&quot;üì¶ producto_leche: Producto&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 301&lt;br/&gt;nombre: &#39;Leche Entera 1L&#39;&lt;br/&gt;precio: 4500.00&lt;br/&gt;stock: 8 üî¥&lt;br/&gt;es_basico: true&lt;br/&gt;activo: true&quot;&quot;&quot;&quot;&quot;]

        config_leche[&quot;&quot;&quot;&quot;&quot;‚öôÔ∏è config_leche: StockConfig&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 45&lt;br/&gt;stock_minimo: 10&lt;br/&gt;cantidad_recarga: 50&lt;br/&gt;recarga_automatica_activa: true&lt;br/&gt;ultima_recarga: &#39;2025-12-03 08:00&#39;&lt;br/&gt;total_recargas: 12&quot;&quot;&quot;&quot;&quot;]

        historial1[&quot;&quot;&quot;&quot;&quot;üìù historial1: HistorialRecarga&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 890&lt;br/&gt;cantidad: 50&lt;br/&gt;stock_anterior: 3&lt;br/&gt;stock_nuevo: 53&lt;br/&gt;tipo: &#39;automatica&#39;&lt;br/&gt;fecha_creacion: &#39;2025-12-03 08:00&#39;&quot;&quot;&quot;&quot;&quot;]

        historial2[&quot;&quot;&quot;&quot;&quot;üìù historial2: HistorialRecarga&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 891&lt;br/&gt;cantidad: 10&lt;br/&gt;stock_anterior: 53&lt;br/&gt;stock_nuevo: 63&lt;br/&gt;tipo: &#39;manual&#39;&lt;br/&gt;fecha_creacion: &#39;2025-12-03 14:30&#39;&quot;&quot;&quot;&quot;&quot;]

        proveedor_lacteos[&quot;&quot;&quot;&quot;&quot;üë®‚Äçüíº proveedor_lacteos: Usuario&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 18&lt;br/&gt;email: &#39;ana@lacteos.com&#39;&lt;br/&gt;nombre: &#39;Ana Rodr√≠guez&#39;&lt;br/&gt;rol: &#39;proveedor&#39;&quot;&quot;&quot;&quot;&quot;]

        notif1[&quot;&quot;&quot;&quot;&quot;üìß notif1: Notificacion&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 2345&lt;br/&gt;mensaje: &#39;Stock bajo: Leche...&#39;&lt;br/&gt;leida: true&lt;br/&gt;fecha_lectura: &#39;2025-12-03 08:05&#39;&quot;&quot;&quot;&quot;&quot;]

        tipo_notif[&quot;&quot;&quot;&quot;&quot;üîî tipo_notif: TipoNotificacion&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 3&lt;br/&gt;nombre: &#39;Stock Bajo&#39;&quot;&quot;&quot;&quot;&quot;]
    end

    producto_leche --&gt;|config_stock| config_leche
    producto_leche --&gt;|historial_recargas| historial1
    producto_leche --&gt;|historial_recargas| historial2
    producto_leche --&gt;|proveedor| proveedor_lacteos

    historial1 --&gt;|producto| producto_leche
    historial2 --&gt;|producto| producto_leche
    historial2 --&gt;|usuario| proveedor_lacteos

    notif1 --&gt;|usuario| proveedor_lacteos
    notif1 --&gt;|tipo| tipo_notif
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-70" name="sd-tab-set-35" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-70">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            flowchart TB
    subgraph &quot;Usuario Admin con Context&quot;
        admin1[&quot;&quot;&quot;&quot;&quot;üë®‚Äçüíº admin1: Usuario&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 1&lt;br/&gt;email: 'admin&#64;prexcol.com'&lt;br/&gt;nombre: 'Carlos Admin'&lt;br/&gt;rol: 'admin'&lt;br/&gt;is_staff: true&lt;br/&gt;is_superuser: true&lt;br/&gt;self_deactivated: false&lt;br/&gt;admin_suspended: false&lt;br/&gt;ultimo_ingreso: '2025-12-04 13:00'&quot;&quot;&quot;&quot;&quot;]

        pass_hist1[&quot;&quot;&quot;&quot;&quot;üîê pass_hist1: PasswordHistory&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 101&lt;br/&gt;password_hash: 'pbkdf2_sha256$...'&lt;br/&gt;fecha_creacion: '2025-10-01'&quot;&quot;&quot;&quot;&quot;]

        pass_hist2[&quot;&quot;&quot;&quot;&quot;üîê pass_hist2: PasswordHistory&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 102&lt;br/&gt;password_hash: 'pbkdf2_sha256$...'&lt;br/&gt;fecha_creacion: '2025-11-15'&quot;&quot;&quot;&quot;&quot;]

        pass_hist3[&quot;&quot;&quot;&quot;&quot;üîê pass_hist3: PasswordHistory&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 103&lt;br/&gt;password_hash: 'pbkdf2_sha256$...'&lt;br/&gt;fecha_creacion: '2025-12-01'&lt;br/&gt;(actual)&quot;&quot;&quot;&quot;&quot;]

        tienda_centro[&quot;&quot;&quot;&quot;&quot;üè™ tienda_centro: Tienda&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 1&lt;br/&gt;nombre: 'Tienda Centro'&lt;br/&gt;activa: true&quot;&quot;&quot;&quot;&quot;]

        tienda_norte[&quot;&quot;&quot;&quot;&quot;üè™ tienda_norte: Tienda&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 2&lt;br/&gt;nombre: 'Tienda Norte'&lt;br/&gt;activa: true&quot;&quot;&quot;&quot;&quot;]

        tienda_sur[&quot;&quot;&quot;&quot;&quot;üè™ tienda_sur: Tienda&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 3&lt;br/&gt;nombre: 'Tienda Sur'&lt;br/&gt;activa: false&quot;&quot;&quot;&quot;&quot;]
    end

    admin1 --&gt;|password_history| pass_hist1
    admin1 --&gt;|password_history| pass_hist2
    admin1 --&gt;|password_history| pass_hist3
    admin1 --&gt;|tiendas_administradas| tienda_centro
    admin1 --&gt;|tiendas_administradas| tienda_norte
    admin1 --&gt;|tiendas_administradas| tienda_sur

    tienda_centro --&gt;|administrador| admin1
    tienda_norte --&gt;|administrador| admin1
    tienda_sur --&gt;|administrador| admin1
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-71" name="sd-tab-set-35" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-71">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>flowchart TB
    subgraph &quot;Usuario Admin con Context&quot;
        admin1[&quot;&quot;&quot;&quot;&quot;üë®‚Äçüíº admin1: Usuario&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 1&lt;br/&gt;email: &#39;admin@prexcol.com&#39;&lt;br/&gt;nombre: &#39;Carlos Admin&#39;&lt;br/&gt;rol: &#39;admin&#39;&lt;br/&gt;is_staff: true&lt;br/&gt;is_superuser: true&lt;br/&gt;self_deactivated: false&lt;br/&gt;admin_suspended: false&lt;br/&gt;ultimo_ingreso: &#39;2025-12-04 13:00&#39;&quot;&quot;&quot;&quot;&quot;]

        pass_hist1[&quot;&quot;&quot;&quot;&quot;üîê pass_hist1: PasswordHistory&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 101&lt;br/&gt;password_hash: &#39;pbkdf2_sha256$...&#39;&lt;br/&gt;fecha_creacion: &#39;2025-10-01&#39;&quot;&quot;&quot;&quot;&quot;]

        pass_hist2[&quot;&quot;&quot;&quot;&quot;üîê pass_hist2: PasswordHistory&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 102&lt;br/&gt;password_hash: &#39;pbkdf2_sha256$...&#39;&lt;br/&gt;fecha_creacion: &#39;2025-11-15&#39;&quot;&quot;&quot;&quot;&quot;]

        pass_hist3[&quot;&quot;&quot;&quot;&quot;üîê pass_hist3: PasswordHistory&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 103&lt;br/&gt;password_hash: &#39;pbkdf2_sha256$...&#39;&lt;br/&gt;fecha_creacion: &#39;2025-12-01&#39;&lt;br/&gt;(actual)&quot;&quot;&quot;&quot;&quot;]

        tienda_centro[&quot;&quot;&quot;&quot;&quot;üè™ tienda_centro: Tienda&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 1&lt;br/&gt;nombre: &#39;Tienda Centro&#39;&lt;br/&gt;activa: true&quot;&quot;&quot;&quot;&quot;]

        tienda_norte[&quot;&quot;&quot;&quot;&quot;üè™ tienda_norte: Tienda&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 2&lt;br/&gt;nombre: &#39;Tienda Norte&#39;&lt;br/&gt;activa: true&quot;&quot;&quot;&quot;&quot;]

        tienda_sur[&quot;&quot;&quot;&quot;&quot;üè™ tienda_sur: Tienda&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 3&lt;br/&gt;nombre: &#39;Tienda Sur&#39;&lt;br/&gt;activa: false&quot;&quot;&quot;&quot;&quot;]
    end

    admin1 --&gt;|password_history| pass_hist1
    admin1 --&gt;|password_history| pass_hist2
    admin1 --&gt;|password_history| pass_hist3
    admin1 --&gt;|tiendas_administradas| tienda_centro
    admin1 --&gt;|tiendas_administradas| tienda_norte
    admin1 --&gt;|tiendas_administradas| tienda_sur

    tienda_centro --&gt;|administrador| admin1
    tienda_norte --&gt;|administrador| admin1
    tienda_sur --&gt;|administrador| admin1
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-72" name="sd-tab-set-36" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-72">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            flowchart TB
    subgraph &quot;Pago Exitoso con Transacci√≥n&quot;
        cliente2[&quot;&quot;&quot;&quot;&quot;üë§ cliente2: Usuario&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 55&lt;br/&gt;email: 'pedro&#64;email.com'&lt;br/&gt;nombre: 'Pedro L√≥pez'&lt;br/&gt;rol: 'cliente'&quot;&quot;&quot;&quot;&quot;]

        pedido2[&quot;&quot;&quot;&quot;&quot;üì¶ pedido2: Pedido&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 1235&lt;br/&gt;estado: 'pendiente'&lt;br/&gt;total: 87500.00&quot;&quot;&quot;&quot;&quot;]

        pago2[&quot;&quot;&quot;&quot;&quot;üí≥ pago2: Pago&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 790&lt;br/&gt;monto: 87500.00&lt;br/&gt;fecha_creacion: '2025-12-04 11:15'&lt;br/&gt;fecha_actualizacion: '2025-12-04 11:16'&quot;&quot;&quot;&quot;&quot;]

        transaccion1[&quot;&quot;&quot;&quot;&quot;üîÑ transaccion1: Transaccion&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 4567&lt;br/&gt;referencia_externa: 'TRX-PAY-789456'&lt;br/&gt;monto: 87500.00&lt;br/&gt;estado: 'approved'&lt;br/&gt;respuesta_gateway: {'...'}&quot;&quot;&quot;&quot;&quot;]

        metodo_tarjeta[&quot;&quot;&quot;&quot;&quot;üí∞ metodo_tarjeta: MetodoPago&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 1&lt;br/&gt;nombre: 'Tarjeta Cr√©dito'&lt;br/&gt;activo: true&quot;&quot;&quot;&quot;&quot;]

        estado_aprobado[&quot;&quot;&quot;&quot;&quot;‚úÖ estado_aprobado: EstadoPago&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 2&lt;br/&gt;nombre: 'Aprobado'&lt;br/&gt;descripcion: 'Pago autorizado'&quot;&quot;&quot;&quot;&quot;]

        venta1[&quot;&quot;&quot;&quot;&quot;üí∞ venta1: Venta&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 456&lt;br/&gt;total: 87500.00&lt;br/&gt;cantidad_items: 4&lt;br/&gt;fecha_venta: '2025-12-04 16:30'&quot;&quot;&quot;&quot;&quot;]
    end

    pago2 --&gt;|usuario| cliente2
    pago2 --&gt;|pedido| pedido2
    pago2 --&gt;|metodo_pago| metodo_tarjeta
    pago2 --&gt;|estado| estado_aprobado
    pago2 --&gt;|transacciones| transaccion1

    pedido2 --&gt;|cliente| cliente2
    pedido2 --&gt;|venta_registrada| venta1

    venta1 --&gt;|pedido| pedido2
    venta1 --&gt;|cliente| cliente2

    transaccion1 --&gt;|pago| pago2
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-73" name="sd-tab-set-36" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-73">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>flowchart TB
    subgraph &quot;Pago Exitoso con Transacci√≥n&quot;
        cliente2[&quot;&quot;&quot;&quot;&quot;üë§ cliente2: Usuario&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 55&lt;br/&gt;email: &#39;pedro@email.com&#39;&lt;br/&gt;nombre: &#39;Pedro L√≥pez&#39;&lt;br/&gt;rol: &#39;cliente&#39;&quot;&quot;&quot;&quot;&quot;]

        pedido2[&quot;&quot;&quot;&quot;&quot;üì¶ pedido2: Pedido&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 1235&lt;br/&gt;estado: &#39;pendiente&#39;&lt;br/&gt;total: 87500.00&quot;&quot;&quot;&quot;&quot;]

        pago2[&quot;&quot;&quot;&quot;&quot;üí≥ pago2: Pago&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 790&lt;br/&gt;monto: 87500.00&lt;br/&gt;fecha_creacion: &#39;2025-12-04 11:15&#39;&lt;br/&gt;fecha_actualizacion: &#39;2025-12-04 11:16&#39;&quot;&quot;&quot;&quot;&quot;]

        transaccion1[&quot;&quot;&quot;&quot;&quot;üîÑ transaccion1: Transaccion&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 4567&lt;br/&gt;referencia_externa: &#39;TRX-PAY-789456&#39;&lt;br/&gt;monto: 87500.00&lt;br/&gt;estado: &#39;approved&#39;&lt;br/&gt;respuesta_gateway: {&#39;...&#39;}&quot;&quot;&quot;&quot;&quot;]

        metodo_tarjeta[&quot;&quot;&quot;&quot;&quot;üí∞ metodo_tarjeta: MetodoPago&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 1&lt;br/&gt;nombre: &#39;Tarjeta Cr√©dito&#39;&lt;br/&gt;activo: true&quot;&quot;&quot;&quot;&quot;]

        estado_aprobado[&quot;&quot;&quot;&quot;&quot;‚úÖ estado_aprobado: EstadoPago&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 2&lt;br/&gt;nombre: &#39;Aprobado&#39;&lt;br/&gt;descripcion: &#39;Pago autorizado&#39;&quot;&quot;&quot;&quot;&quot;]

        venta1[&quot;&quot;&quot;&quot;&quot;üí∞ venta1: Venta&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 456&lt;br/&gt;total: 87500.00&lt;br/&gt;cantidad_items: 4&lt;br/&gt;fecha_venta: &#39;2025-12-04 16:30&#39;&quot;&quot;&quot;&quot;&quot;]
    end

    pago2 --&gt;|usuario| cliente2
    pago2 --&gt;|pedido| pedido2
    pago2 --&gt;|metodo_pago| metodo_tarjeta
    pago2 --&gt;|estado| estado_aprobado
    pago2 --&gt;|transacciones| transaccion1

    pedido2 --&gt;|cliente| cliente2
    pedido2 --&gt;|venta_registrada| venta1

    venta1 --&gt;|pedido| pedido2
    venta1 --&gt;|cliente| cliente2

    transaccion1 --&gt;|pago| pago2
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-74" name="sd-tab-set-37" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-74">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            flowchart TB
    subgraph &quot;Notificaciones por Pedido Creado&quot;
        pedido_evento[&quot;&quot;&quot;&quot;&quot;üì¶ pedido_nuevo: Pedido&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 1236&lt;br/&gt;estado: 'pendiente'&lt;br/&gt;fecha_creacion: '2025-12-04 14:00'&quot;&quot;&quot;&quot;&quot;]

        notif_cliente[&quot;&quot;&quot;&quot;&quot;üìß notif_cliente: Notificacion&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 3001&lt;br/&gt;mensaje: 'Tu pedido #1236 ha sido...'&lt;br/&gt;destino: 'cliente&#64;email.com'&lt;br/&gt;leida: true&lt;br/&gt;fecha_lectura: '2025-12-04 14:05'&quot;&quot;&quot;&quot;&quot;]

        notif_logistica[&quot;&quot;&quot;&quot;&quot;üìß notif_logistica: Notificacion&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 3002&lt;br/&gt;mensaje: 'Nuevo pedido #1236 para...'&lt;br/&gt;destino: 'logistica&#64;prexcol.com'&lt;br/&gt;leida: false&lt;br/&gt;fecha_lectura: null&quot;&quot;&quot;&quot;&quot;]

        notif_proveedor[&quot;&quot;&quot;&quot;&quot;üìß notif_proveedor: Notificacion&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 3003&lt;br/&gt;mensaje: 'Pedido #1236 incluye tus...'&lt;br/&gt;destino: 'proveedor&#64;proveedora.com'&lt;br/&gt;leida: true&lt;br/&gt;fecha_lectura: '2025-12-04 14:30'&quot;&quot;&quot;&quot;&quot;]

        tipo_pedido[&quot;&quot;&quot;&quot;&quot;üîî tipo_pedido: TipoNotificacion&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 1&lt;br/&gt;nombre: 'Nuevo Pedido'&quot;&quot;&quot;&quot;&quot;]

        estado_enviada[&quot;&quot;&quot;&quot;&quot;‚úÖ estado_enviada: EstadoNotificacion&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 2&lt;br/&gt;nombre: 'Enviada'&quot;&quot;&quot;&quot;&quot;]

        cliente_dest[&quot;&quot;&quot;&quot;&quot;üë§ cliente_dest: Usuario&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 60&lt;br/&gt;rol: 'cliente'&quot;&quot;&quot;&quot;&quot;]

        logistica_dest[&quot;&quot;&quot;&quot;&quot;üë§ logistica_dest: Usuario&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 8&lt;br/&gt;rol: 'logistica'&quot;&quot;&quot;&quot;&quot;]

        proveedor_dest[&quot;&quot;&quot;&quot;&quot;üë§ proveedor_dest: Usuario&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 15&lt;br/&gt;rol: 'proveedor'&quot;&quot;&quot;&quot;&quot;]
    end

    notif_cliente --&gt;|usuario| cliente_dest
    notif_cliente --&gt;|tipo| tipo_pedido
    notif_cliente --&gt;|estado| estado_enviada

    notif_logistica --&gt;|usuario| logistica_dest
    notif_logistica --&gt;|tipo| tipo_pedido
    notif_logistica --&gt;|estado| estado_enviada

    notif_proveedor --&gt;|usuario| proveedor_dest
    notif_proveedor --&gt;|tipo| tipo_pedido
    notif_proveedor --&gt;|estado| estado_enviada
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-75" name="sd-tab-set-37" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-75">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>flowchart TB
    subgraph &quot;Notificaciones por Pedido Creado&quot;
        pedido_evento[&quot;&quot;&quot;&quot;&quot;üì¶ pedido_nuevo: Pedido&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 1236&lt;br/&gt;estado: &#39;pendiente&#39;&lt;br/&gt;fecha_creacion: &#39;2025-12-04 14:00&#39;&quot;&quot;&quot;&quot;&quot;]

        notif_cliente[&quot;&quot;&quot;&quot;&quot;üìß notif_cliente: Notificacion&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 3001&lt;br/&gt;mensaje: &#39;Tu pedido #1236 ha sido...&#39;&lt;br/&gt;destino: &#39;cliente@email.com&#39;&lt;br/&gt;leida: true&lt;br/&gt;fecha_lectura: &#39;2025-12-04 14:05&#39;&quot;&quot;&quot;&quot;&quot;]

        notif_logistica[&quot;&quot;&quot;&quot;&quot;üìß notif_logistica: Notificacion&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 3002&lt;br/&gt;mensaje: &#39;Nuevo pedido #1236 para...&#39;&lt;br/&gt;destino: &#39;logistica@prexcol.com&#39;&lt;br/&gt;leida: false&lt;br/&gt;fecha_lectura: null&quot;&quot;&quot;&quot;&quot;]

        notif_proveedor[&quot;&quot;&quot;&quot;&quot;üìß notif_proveedor: Notificacion&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 3003&lt;br/&gt;mensaje: &#39;Pedido #1236 incluye tus...&#39;&lt;br/&gt;destino: &#39;proveedor@proveedora.com&#39;&lt;br/&gt;leida: true&lt;br/&gt;fecha_lectura: &#39;2025-12-04 14:30&#39;&quot;&quot;&quot;&quot;&quot;]

        tipo_pedido[&quot;&quot;&quot;&quot;&quot;üîî tipo_pedido: TipoNotificacion&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 1&lt;br/&gt;nombre: &#39;Nuevo Pedido&#39;&quot;&quot;&quot;&quot;&quot;]

        estado_enviada[&quot;&quot;&quot;&quot;&quot;‚úÖ estado_enviada: EstadoNotificacion&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 2&lt;br/&gt;nombre: &#39;Enviada&#39;&quot;&quot;&quot;&quot;&quot;]

        cliente_dest[&quot;&quot;&quot;&quot;&quot;üë§ cliente_dest: Usuario&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 60&lt;br/&gt;rol: &#39;cliente&#39;&quot;&quot;&quot;&quot;&quot;]

        logistica_dest[&quot;&quot;&quot;&quot;&quot;üë§ logistica_dest: Usuario&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 8&lt;br/&gt;rol: &#39;logistica&#39;&quot;&quot;&quot;&quot;&quot;]

        proveedor_dest[&quot;&quot;&quot;&quot;&quot;üë§ proveedor_dest: Usuario&lt;br/&gt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;br/&gt;id: 15&lt;br/&gt;rol: &#39;proveedor&#39;&quot;&quot;&quot;&quot;&quot;]
    end

    notif_cliente --&gt;|usuario| cliente_dest
    notif_cliente --&gt;|tipo| tipo_pedido
    notif_cliente --&gt;|estado| estado_enviada

    notif_logistica --&gt;|usuario| logistica_dest
    notif_logistica --&gt;|tipo| tipo_pedido
    notif_logistica --&gt;|estado| estado_enviada

    notif_proveedor --&gt;|usuario| proveedor_dest
    notif_proveedor --&gt;|tipo| tipo_pedido
    notif_proveedor --&gt;|estado| estado_enviada
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
</details><details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3 sd-mb-4" open="open">
<summary class="sd-summary-title sd-card-header">
üìä Diagrama Secuencia (10 diagramas)<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-76" name="sd-tab-set-38" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-76">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            sequenceDiagram
    actor Usuario
    participant UI as Frontend&lt;br/&gt;(React)
    participant API as Backend API&lt;br/&gt;(Django)
    participant Auth as Auth Service
    participant DB as Database
    participant Token as JWT Generator

    Usuario-&gt;&gt;UI: 1. Ingresa email/password
    UI-&gt;&gt;UI: 2. Valida formato
    UI-&gt;&gt;API: 3. POST /api/auth/login&lt;br/&gt;{email, password}

    API-&gt;&gt;Auth: 4. validate_credentials()
    Auth-&gt;&gt;DB: 5. SELECT * FROM usuarios&lt;br/&gt;WHERE email=?
    DB--&gt;&gt;Auth: 6. Usuario data

    Auth-&gt;&gt;Auth: 7. check_password()
    Auth-&gt;&gt;Auth: 8. verify_account_status()

    alt Credenciales v√°lidas &amp; cuenta activa
        Auth-&gt;&gt;Token: 9. generate_tokens(user)
        Token-&gt;&gt;Token: 10. Create access_token (15min)
        Token-&gt;&gt;Token: 11. Create refresh_token (7 d√≠as)
        Token--&gt;&gt;Auth: 12. {access, refresh}

        Auth-&gt;&gt;DB: 13. UPDATE ultimo_ingreso
        Auth--&gt;&gt;API: 14. {user, tokens}
        API--&gt;&gt;UI: 15. 200 OK&lt;br/&gt;{user, access_token, refresh_token}

        UI-&gt;&gt;UI: 16. Store tokens (localStorage)
        UI-&gt;&gt;UI: 17. Redirect to dashboard
        UI--&gt;&gt;Usuario: 18. Mostrar dashboard
    else Credenciales inv√°lidas
        Auth--&gt;&gt;API: Error: Invalid credentials
        API--&gt;&gt;UI: 401 Unauthorized
        UI--&gt;&gt;Usuario: Mostrar error
    else Cuenta suspendida
        Auth--&gt;&gt;API: Error: Account suspended
        API--&gt;&gt;UI: 403 Forbidden
        UI--&gt;&gt;Usuario: Contactar soporte
    end
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-77" name="sd-tab-set-38" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-77">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>sequenceDiagram
    actor Usuario
    participant UI as Frontend&lt;br/&gt;(React)
    participant API as Backend API&lt;br/&gt;(Django)
    participant Auth as Auth Service
    participant DB as Database
    participant Token as JWT Generator

    Usuario-&gt;&gt;UI: 1. Ingresa email/password
    UI-&gt;&gt;UI: 2. Valida formato
    UI-&gt;&gt;API: 3. POST /api/auth/login&lt;br/&gt;{email, password}

    API-&gt;&gt;Auth: 4. validate_credentials()
    Auth-&gt;&gt;DB: 5. SELECT * FROM usuarios&lt;br/&gt;WHERE email=?
    DB--&gt;&gt;Auth: 6. Usuario data

    Auth-&gt;&gt;Auth: 7. check_password()
    Auth-&gt;&gt;Auth: 8. verify_account_status()

    alt Credenciales v√°lidas &amp; cuenta activa
        Auth-&gt;&gt;Token: 9. generate_tokens(user)
        Token-&gt;&gt;Token: 10. Create access_token (15min)
        Token-&gt;&gt;Token: 11. Create refresh_token (7 d√≠as)
        Token--&gt;&gt;Auth: 12. {access, refresh}

        Auth-&gt;&gt;DB: 13. UPDATE ultimo_ingreso
        Auth--&gt;&gt;API: 14. {user, tokens}
        API--&gt;&gt;UI: 15. 200 OK&lt;br/&gt;{user, access_token, refresh_token}

        UI-&gt;&gt;UI: 16. Store tokens (localStorage)
        UI-&gt;&gt;UI: 17. Redirect to dashboard
        UI--&gt;&gt;Usuario: 18. Mostrar dashboard
    else Credenciales inv√°lidas
        Auth--&gt;&gt;API: Error: Invalid credentials
        API--&gt;&gt;UI: 401 Unauthorized
        UI--&gt;&gt;Usuario: Mostrar error
    else Cuenta suspendida
        Auth--&gt;&gt;API: Error: Account suspended
        API--&gt;&gt;UI: 403 Forbidden
        UI--&gt;&gt;Usuario: Contactar soporte
    end
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-78" name="sd-tab-set-39" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-78">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            sequenceDiagram
    actor Usuario
    participant UI as Frontend
    participant API as Backend API
    participant Validator as Password&lt;br/&gt;Validator
    participant DB as Database
    participant Email as Email&lt;br/&gt;Service

    Usuario-&gt;&gt;UI: 1. Completa formulario
    UI-&gt;&gt;UI: 2. Validaci√≥n cliente
    UI-&gt;&gt;API: 3. POST /api/auth/register&lt;br/&gt;{email, nombre, password, rol}

    API-&gt;&gt;DB: 4. Check email √∫nico
    alt Email ya existe
        DB--&gt;&gt;API: Email exists
        API--&gt;&gt;UI: 400 Bad Request
        UI--&gt;&gt;Usuario: Email en uso
    else Email disponible
        API-&gt;&gt;Validator: 5. validate_password()
        Validator-&gt;&gt;Validator: 6. Check strength

        alt Password d√©bil
            Validator--&gt;&gt;API: Weak password
            API--&gt;&gt;UI: 400 Bad Request
            UI--&gt;&gt;Usuario: Password requirements
        else Password v√°lido
            API-&gt;&gt;DB: 7. INSERT usuario
            API-&gt;&gt;DB: 8. INSERT password_history
            DB--&gt;&gt;API: 9. Usuario creado

            API-&gt;&gt;Email: 10. send_welcome_email()
            Email--&gt;&gt;API: 11. Email sent

            API--&gt;&gt;UI: 12. 201 Created&lt;br/&gt;{user}
            UI--&gt;&gt;Usuario: 13. Registro exitoso
            UI-&gt;&gt;UI: 14. Redirect to login
        end
    end
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-79" name="sd-tab-set-39" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-79">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>sequenceDiagram
    actor Usuario
    participant UI as Frontend
    participant API as Backend API
    participant Validator as Password&lt;br/&gt;Validator
    participant DB as Database
    participant Email as Email&lt;br/&gt;Service

    Usuario-&gt;&gt;UI: 1. Completa formulario
    UI-&gt;&gt;UI: 2. Validaci√≥n cliente
    UI-&gt;&gt;API: 3. POST /api/auth/register&lt;br/&gt;{email, nombre, password, rol}

    API-&gt;&gt;DB: 4. Check email √∫nico
    alt Email ya existe
        DB--&gt;&gt;API: Email exists
        API--&gt;&gt;UI: 400 Bad Request
        UI--&gt;&gt;Usuario: Email en uso
    else Email disponible
        API-&gt;&gt;Validator: 5. validate_password()
        Validator-&gt;&gt;Validator: 6. Check strength

        alt Password d√©bil
            Validator--&gt;&gt;API: Weak password
            API--&gt;&gt;UI: 400 Bad Request
            UI--&gt;&gt;Usuario: Password requirements
        else Password v√°lido
            API-&gt;&gt;DB: 7. INSERT usuario
            API-&gt;&gt;DB: 8. INSERT password_history
            DB--&gt;&gt;API: 9. Usuario creado

            API-&gt;&gt;Email: 10. send_welcome_email()
            Email--&gt;&gt;API: 11. Email sent

            API--&gt;&gt;UI: 12. 201 Created&lt;br/&gt;{user}
            UI--&gt;&gt;Usuario: 13. Registro exitoso
            UI-&gt;&gt;UI: 14. Redirect to login
        end
    end
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-80" name="sd-tab-set-40" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-80">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            sequenceDiagram
    participant UI as Frontend
    participant API as Backend API
    participant Token as JWT Service
    participant DB as Database

    UI-&gt;&gt;UI: 1. Access token expirado
    UI-&gt;&gt;API: 2. POST /api/auth/refresh&lt;br/&gt;{refresh_token}

    API-&gt;&gt;Token: 3. validate_refresh_token()

    alt Token v√°lido y no expirado
        Token-&gt;&gt;DB: 4. Verify user exists &amp; active
        DB--&gt;&gt;Token: 5. User data

        Token-&gt;&gt;Token: 6. Generate new access_token
        Token--&gt;&gt;API: 7. {new_access_token}

        API--&gt;&gt;UI: 8. 200 OK&lt;br/&gt;{access_token}
        UI-&gt;&gt;UI: 9. Update stored token
        UI-&gt;&gt;UI: 10. Retry original request
    else Token inv√°lido o expirado
        Token--&gt;&gt;API: Invalid refresh token
        API--&gt;&gt;UI: 401 Unauthorized
        UI-&gt;&gt;UI: Clear tokens
        UI-&gt;&gt;UI: Redirect to login
    end
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-81" name="sd-tab-set-40" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-81">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>sequenceDiagram
    participant UI as Frontend
    participant API as Backend API
    participant Token as JWT Service
    participant DB as Database

    UI-&gt;&gt;UI: 1. Access token expirado
    UI-&gt;&gt;API: 2. POST /api/auth/refresh&lt;br/&gt;{refresh_token}

    API-&gt;&gt;Token: 3. validate_refresh_token()

    alt Token v√°lido y no expirado
        Token-&gt;&gt;DB: 4. Verify user exists &amp; active
        DB--&gt;&gt;Token: 5. User data

        Token-&gt;&gt;Token: 6. Generate new access_token
        Token--&gt;&gt;API: 7. {new_access_token}

        API--&gt;&gt;UI: 8. 200 OK&lt;br/&gt;{access_token}
        UI-&gt;&gt;UI: 9. Update stored token
        UI-&gt;&gt;UI: 10. Retry original request
    else Token inv√°lido o expirado
        Token--&gt;&gt;API: Invalid refresh token
        API--&gt;&gt;UI: 401 Unauthorized
        UI-&gt;&gt;UI: Clear tokens
        UI-&gt;&gt;UI: Redirect to login
    end
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-82" name="sd-tab-set-41" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-82">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            sequenceDiagram
    actor Usuario
    participant UI as Frontend
    participant API as Backend API
    participant Token as Token&lt;br/&gt;Generator
    participant DB as Database
    participant Email as Email&lt;br/&gt;Service

    rect rgb(200, 220, 240)
        Note over Usuario,Email: Fase 1: Solicitud de Reset
        Usuario-&gt;&gt;UI: 1. Click &quot;Olvid√© mi contrase√±a&quot;
        UI-&gt;&gt;UI: 2. Mostrar formulario
        Usuario-&gt;&gt;UI: 3. Ingresa email
        UI-&gt;&gt;API: 4. POST /api/auth/forgot-password&lt;br/&gt;{email}

        API-&gt;&gt;DB: 5. Find user by email

        alt Usuario existe
            DB--&gt;&gt;API: 6. Usuario data
            API-&gt;&gt;Token: 7. generate_reset_token()
            Token--&gt;&gt;API: 8. {uid, token}

            API-&gt;&gt;DB: 9. Store reset token
            API-&gt;&gt;Email: 10. send_reset_email(uid, token)
            Email--&gt;&gt;API: 11. Email sent

            API--&gt;&gt;UI: 12. 200 OK
            UI--&gt;&gt;Usuario: 13. &quot;Revisa tu email&quot;
        else Usuario no existe
            API--&gt;&gt;UI: 200 OK (por seguridad)
            UI--&gt;&gt;Usuario: &quot;Revisa tu email&quot;
        end
    end

    rect rgb(220, 240, 200)
        Note over Usuario,Email: Fase 2: Reset de Contrase√±a
        Usuario-&gt;&gt;Usuario: 14. Abre email
        Usuario-&gt;&gt;UI: 15. Click link reset
        UI-&gt;&gt;API: 16. GET /reset-password/{uid}/{token}

        API-&gt;&gt;Token: 17. validate_reset_token()

        alt Token v√°lido
            Token--&gt;&gt;API: Valid
            API--&gt;&gt;UI: 18. Show reset form

            Usuario-&gt;&gt;UI: 19. Ingresa nueva password
            UI-&gt;&gt;API: 20. POST /api/auth/reset-password&lt;br/&gt;{uid, token, new_password}

            API-&gt;&gt;Token: 21. verify_token()
            API-&gt;&gt;DB: 22. Get password_history

            alt Password no reutilizada
                API-&gt;&gt;DB: 23. UPDATE password
                API-&gt;&gt;DB: 24. INSERT password_history
                API-&gt;&gt;DB: 25. DELETE reset_token

                API--&gt;&gt;UI: 26. 200 OK
                UI--&gt;&gt;Usuario: 27. &quot;Password actualizado&quot;
                UI-&gt;&gt;UI: 28. Redirect to login
            else Password ya usada
                API--&gt;&gt;UI: 400 Bad Request
                UI--&gt;&gt;Usuario: &quot;Password ya usada&quot;
            end
        else Token inv√°lido/expirado
            Token--&gt;&gt;API: Invalid
            API--&gt;&gt;UI: 400 Bad Request
            UI--&gt;&gt;Usuario: &quot;Link expirado&quot;
        end
    end
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-83" name="sd-tab-set-41" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-83">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>sequenceDiagram
    actor Usuario
    participant UI as Frontend
    participant API as Backend API
    participant Token as Token&lt;br/&gt;Generator
    participant DB as Database
    participant Email as Email&lt;br/&gt;Service

    rect rgb(200, 220, 240)
        Note over Usuario,Email: Fase 1: Solicitud de Reset
        Usuario-&gt;&gt;UI: 1. Click &quot;Olvid√© mi contrase√±a&quot;
        UI-&gt;&gt;UI: 2. Mostrar formulario
        Usuario-&gt;&gt;UI: 3. Ingresa email
        UI-&gt;&gt;API: 4. POST /api/auth/forgot-password&lt;br/&gt;{email}

        API-&gt;&gt;DB: 5. Find user by email

        alt Usuario existe
            DB--&gt;&gt;API: 6. Usuario data
            API-&gt;&gt;Token: 7. generate_reset_token()
            Token--&gt;&gt;API: 8. {uid, token}

            API-&gt;&gt;DB: 9. Store reset token
            API-&gt;&gt;Email: 10. send_reset_email(uid, token)
            Email--&gt;&gt;API: 11. Email sent

            API--&gt;&gt;UI: 12. 200 OK
            UI--&gt;&gt;Usuario: 13. &quot;Revisa tu email&quot;
        else Usuario no existe
            API--&gt;&gt;UI: 200 OK (por seguridad)
            UI--&gt;&gt;Usuario: &quot;Revisa tu email&quot;
        end
    end

    rect rgb(220, 240, 200)
        Note over Usuario,Email: Fase 2: Reset de Contrase√±a
        Usuario-&gt;&gt;Usuario: 14. Abre email
        Usuario-&gt;&gt;UI: 15. Click link reset
        UI-&gt;&gt;API: 16. GET /reset-password/{uid}/{token}

        API-&gt;&gt;Token: 17. validate_reset_token()

        alt Token v√°lido
            Token--&gt;&gt;API: Valid
            API--&gt;&gt;UI: 18. Show reset form

            Usuario-&gt;&gt;UI: 19. Ingresa nueva password
            UI-&gt;&gt;API: 20. POST /api/auth/reset-password&lt;br/&gt;{uid, token, new_password}

            API-&gt;&gt;Token: 21. verify_token()
            API-&gt;&gt;DB: 22. Get password_history

            alt Password no reutilizada
                API-&gt;&gt;DB: 23. UPDATE password
                API-&gt;&gt;DB: 24. INSERT password_history
                API-&gt;&gt;DB: 25. DELETE reset_token

                API--&gt;&gt;UI: 26. 200 OK
                UI--&gt;&gt;Usuario: 27. &quot;Password actualizado&quot;
                UI-&gt;&gt;UI: 28. Redirect to login
            else Password ya usada
                API--&gt;&gt;UI: 400 Bad Request
                UI--&gt;&gt;Usuario: &quot;Password ya usada&quot;
            end
        else Token inv√°lido/expirado
            Token--&gt;&gt;API: Invalid
            API--&gt;&gt;UI: 400 Bad Request
            UI--&gt;&gt;Usuario: &quot;Link expirado&quot;
        end
    end
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-84" name="sd-tab-set-42" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-84">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            sequenceDiagram
    actor Cliente
    participant UI as Frontend
    participant API as Backend API
    participant Order as Order&lt;br/&gt;Service
    participant Stock as Stock&lt;br/&gt;Service
    participant DB as Database
    participant Notif as Notification&lt;br/&gt;Service

    Cliente-&gt;&gt;UI: 1. Agrega productos al carrito
    Cliente-&gt;&gt;UI: 2. Click &quot;Confirmar pedido&quot;

    UI-&gt;&gt;UI: 3. Valida carrito no vac√≠o
    UI-&gt;&gt;API: 4. POST /api/pedidos&lt;br/&gt;{items: [{producto_id, cantidad}]}

    API-&gt;&gt;Order: 5. create_order(items)

    loop Por cada item
        Order-&gt;&gt;Stock: 6. validate_stock(producto, cantidad)
        Stock-&gt;&gt;DB: 7. SELECT stock FROM productos
        DB--&gt;&gt;Stock: 8. Stock actual

        alt Stock suficiente
            Stock--&gt;&gt;Order: OK
        else Stock insuficiente
            Stock--&gt;&gt;Order: Stock insuficiente
            Order--&gt;&gt;API: Error
            API--&gt;&gt;UI: 400 Bad Request
            UI--&gt;&gt;Cliente: &quot;Stock insuficiente&quot;
        end
    end

    Order-&gt;&gt;DB: 9. BEGIN TRANSACTION
    Order-&gt;&gt;DB: 10. INSERT INTO pedidos

    loop Por cada item
        Order-&gt;&gt;DB: 11. INSERT INTO detalle_pedido
        Order-&gt;&gt;Stock: 12. reduce_stock(producto, cantidad)
        Stock-&gt;&gt;DB: 13. UPDATE stock
    end

    Order-&gt;&gt;Order: 14. calculate_total()
    Order-&gt;&gt;DB: 15. UPDATE pedido SET total

    Order-&gt;&gt;DB: 16. COMMIT TRANSACTION

    Order-&gt;&gt;Notif: 17. notify_order_created()
    Notif-&gt;&gt;Notif: 18. Create notifications
    Notif--&gt;&gt;Order: OK

    Order--&gt;&gt;API: 19. Pedido creado
    API--&gt;&gt;UI: 20. 201 Created {pedido}
    UI--&gt;&gt;Cliente: 21. &quot;Pedido creado exitosamente&quot;
    UI-&gt;&gt;UI: 22. Redirect to pagos
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-85" name="sd-tab-set-42" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-85">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>sequenceDiagram
    actor Cliente
    participant UI as Frontend
    participant API as Backend API
    participant Order as Order&lt;br/&gt;Service
    participant Stock as Stock&lt;br/&gt;Service
    participant DB as Database
    participant Notif as Notification&lt;br/&gt;Service

    Cliente-&gt;&gt;UI: 1. Agrega productos al carrito
    Cliente-&gt;&gt;UI: 2. Click &quot;Confirmar pedido&quot;

    UI-&gt;&gt;UI: 3. Valida carrito no vac√≠o
    UI-&gt;&gt;API: 4. POST /api/pedidos&lt;br/&gt;{items: [{producto_id, cantidad}]}

    API-&gt;&gt;Order: 5. create_order(items)

    loop Por cada item
        Order-&gt;&gt;Stock: 6. validate_stock(producto, cantidad)
        Stock-&gt;&gt;DB: 7. SELECT stock FROM productos
        DB--&gt;&gt;Stock: 8. Stock actual

        alt Stock suficiente
            Stock--&gt;&gt;Order: OK
        else Stock insuficiente
            Stock--&gt;&gt;Order: Stock insuficiente
            Order--&gt;&gt;API: Error
            API--&gt;&gt;UI: 400 Bad Request
            UI--&gt;&gt;Cliente: &quot;Stock insuficiente&quot;
        end
    end

    Order-&gt;&gt;DB: 9. BEGIN TRANSACTION
    Order-&gt;&gt;DB: 10. INSERT INTO pedidos

    loop Por cada item
        Order-&gt;&gt;DB: 11. INSERT INTO detalle_pedido
        Order-&gt;&gt;Stock: 12. reduce_stock(producto, cantidad)
        Stock-&gt;&gt;DB: 13. UPDATE stock
    end

    Order-&gt;&gt;Order: 14. calculate_total()
    Order-&gt;&gt;DB: 15. UPDATE pedido SET total

    Order-&gt;&gt;DB: 16. COMMIT TRANSACTION

    Order-&gt;&gt;Notif: 17. notify_order_created()
    Notif-&gt;&gt;Notif: 18. Create notifications
    Notif--&gt;&gt;Order: OK

    Order--&gt;&gt;API: 19. Pedido creado
    API--&gt;&gt;UI: 20. 201 Created {pedido}
    UI--&gt;&gt;Cliente: 21. &quot;Pedido creado exitosamente&quot;
    UI-&gt;&gt;UI: 22. Redirect to pagos
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-86" name="sd-tab-set-43" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-86">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            sequenceDiagram
    actor Logistica
    participant UI as Frontend
    participant API as Backend API
    participant Order as Order&lt;br/&gt;Service
    participant DB as Database
    participant Venta as Venta&lt;br/&gt;Service
    participant Notif as Notification&lt;br/&gt;Service

    Logistica-&gt;&gt;UI: 1. Selecciona pedido
    Logistica-&gt;&gt;UI: 2. Click &quot;Cambiar estado&quot;

    UI-&gt;&gt;API: 3. PATCH /api/pedidos/{id}&lt;br/&gt;{estado: &quot;nuevo_estado&quot;}

    API-&gt;&gt;Order: 4. update_status(pedido_id, nuevo_estado)
    Order-&gt;&gt;DB: 5. SELECT pedido WHERE id=?
    DB--&gt;&gt;Order: 6. Pedido actual

    Order-&gt;&gt;Order: 7. validate_transition()

    alt Transici√≥n v√°lida
        Order-&gt;&gt;DB: 8. UPDATE pedido SET estado
        DB--&gt;&gt;Order: 9. Updated

        alt Estado = &quot;entregado&quot;
            Order-&gt;&gt;Venta: 10. create_venta(pedido)
            Venta-&gt;&gt;DB: 11. INSERT INTO ventas
            Venta-&gt;&gt;DB: 12. INSERT INTO detalle_ventas
            Venta--&gt;&gt;Order: 13. Venta creada
        end

        Order-&gt;&gt;Notif: 14. notify_status_change()
        Notif-&gt;&gt;Notif: 15. Send email to cliente
        Notif--&gt;&gt;Order: 16. Notification sent

        Order--&gt;&gt;API: 17. Pedido actualizado
        API--&gt;&gt;UI: 18. 200 OK {pedido}
        UI--&gt;&gt;Logistica: 19. &quot;Estado actualizado&quot;
    else Transici√≥n inv√°lida
        Order--&gt;&gt;API: Error: Invalid transition
        API--&gt;&gt;UI: 400 Bad Request
        UI--&gt;&gt;Logistica: &quot;Transici√≥n no permitida&quot;
    end
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-87" name="sd-tab-set-43" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-87">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>sequenceDiagram
    actor Logistica
    participant UI as Frontend
    participant API as Backend API
    participant Order as Order&lt;br/&gt;Service
    participant DB as Database
    participant Venta as Venta&lt;br/&gt;Service
    participant Notif as Notification&lt;br/&gt;Service

    Logistica-&gt;&gt;UI: 1. Selecciona pedido
    Logistica-&gt;&gt;UI: 2. Click &quot;Cambiar estado&quot;

    UI-&gt;&gt;API: 3. PATCH /api/pedidos/{id}&lt;br/&gt;{estado: &quot;nuevo_estado&quot;}

    API-&gt;&gt;Order: 4. update_status(pedido_id, nuevo_estado)
    Order-&gt;&gt;DB: 5. SELECT pedido WHERE id=?
    DB--&gt;&gt;Order: 6. Pedido actual

    Order-&gt;&gt;Order: 7. validate_transition()

    alt Transici√≥n v√°lida
        Order-&gt;&gt;DB: 8. UPDATE pedido SET estado
        DB--&gt;&gt;Order: 9. Updated

        alt Estado = &quot;entregado&quot;
            Order-&gt;&gt;Venta: 10. create_venta(pedido)
            Venta-&gt;&gt;DB: 11. INSERT INTO ventas
            Venta-&gt;&gt;DB: 12. INSERT INTO detalle_ventas
            Venta--&gt;&gt;Order: 13. Venta creada
        end

        Order-&gt;&gt;Notif: 14. notify_status_change()
        Notif-&gt;&gt;Notif: 15. Send email to cliente
        Notif--&gt;&gt;Order: 16. Notification sent

        Order--&gt;&gt;API: 17. Pedido actualizado
        API--&gt;&gt;UI: 18. 200 OK {pedido}
        UI--&gt;&gt;Logistica: 19. &quot;Estado actualizado&quot;
    else Transici√≥n inv√°lida
        Order--&gt;&gt;API: Error: Invalid transition
        API--&gt;&gt;UI: 400 Bad Request
        UI--&gt;&gt;Logistica: &quot;Transici√≥n no permitida&quot;
    end
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-88" name="sd-tab-set-44" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-88">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            sequenceDiagram
    actor Cliente
    participant UI as Frontend
    participant API as Backend API
    participant Payment as Payment&lt;br/&gt;Service
    participant Gateway as Payment&lt;br/&gt;Gateway
    participant DB as Database
    participant Order as Order&lt;br/&gt;Service
    participant Notif as Notification&lt;br/&gt;Service

    Cliente-&gt;&gt;UI: 1. Selecciona m√©todo pago
    Cliente-&gt;&gt;UI: 2. Ingresa datos tarjeta

    UI-&gt;&gt;UI: 3. Valida formato tarjeta
    UI-&gt;&gt;API: 4. POST /api/pagos&lt;br/&gt;{pedido_id, metodo, datos}

    API-&gt;&gt;Payment: 5. process_payment()
    Payment-&gt;&gt;DB: 6. Get pedido details
    DB--&gt;&gt;Payment: 7. Pedido data

    Payment-&gt;&gt;Gateway: 8. charge_card(amount, card_data)
    Gateway-&gt;&gt;Gateway: 9. Process transaction

    alt Pago aprobado
        Gateway--&gt;&gt;Payment: 10. {status: approved, ref: XXX}

        Payment-&gt;&gt;DB: 11. BEGIN TRANSACTION
        Payment-&gt;&gt;DB: 12. INSERT INTO pagos
        Payment-&gt;&gt;DB: 13. INSERT INTO transacciones
        Payment-&gt;&gt;DB: 14. COMMIT

        Payment-&gt;&gt;Order: 15. confirm_payment(pedido_id)
        Order-&gt;&gt;DB: 16. UPDATE pedido SET estado='pendiente'
        Order--&gt;&gt;Payment: 17. OK

        Payment-&gt;&gt;Notif: 18. notify_payment_success()
        Notif-&gt;&gt;Notif: 19. Send confirmation email
        Notif--&gt;&gt;Payment: 20. Sent

        Payment--&gt;&gt;API: 21. Payment successful
        API--&gt;&gt;UI: 22. 200 OK {pago}
        UI--&gt;&gt;Cliente: 23. &quot;Pago exitoso&quot;
        UI-&gt;&gt;UI: 24. Show confirmation

    else Pago rechazado
        Gateway--&gt;&gt;Payment: {status: declined, reason}

        Payment-&gt;&gt;DB: INSERT failed transaction
        Payment--&gt;&gt;API: Payment declined
        API--&gt;&gt;UI: 402 Payment Required
        UI--&gt;&gt;Cliente: &quot;Pago rechazado&quot;
        UI-&gt;&gt;UI: Retry option

    else Error de gateway
        Gateway--&gt;&gt;Payment: Error
        Payment-&gt;&gt;DB: Log error
        Payment--&gt;&gt;API: Gateway error
        API--&gt;&gt;UI: 500 Server Error
        UI--&gt;&gt;Cliente: &quot;Error procesando pago&quot;
        UI-&gt;&gt;UI: Contact support
    end
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-89" name="sd-tab-set-44" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-89">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>sequenceDiagram
    actor Cliente
    participant UI as Frontend
    participant API as Backend API
    participant Payment as Payment&lt;br/&gt;Service
    participant Gateway as Payment&lt;br/&gt;Gateway
    participant DB as Database
    participant Order as Order&lt;br/&gt;Service
    participant Notif as Notification&lt;br/&gt;Service

    Cliente-&gt;&gt;UI: 1. Selecciona m√©todo pago
    Cliente-&gt;&gt;UI: 2. Ingresa datos tarjeta

    UI-&gt;&gt;UI: 3. Valida formato tarjeta
    UI-&gt;&gt;API: 4. POST /api/pagos&lt;br/&gt;{pedido_id, metodo, datos}

    API-&gt;&gt;Payment: 5. process_payment()
    Payment-&gt;&gt;DB: 6. Get pedido details
    DB--&gt;&gt;Payment: 7. Pedido data

    Payment-&gt;&gt;Gateway: 8. charge_card(amount, card_data)
    Gateway-&gt;&gt;Gateway: 9. Process transaction

    alt Pago aprobado
        Gateway--&gt;&gt;Payment: 10. {status: approved, ref: XXX}

        Payment-&gt;&gt;DB: 11. BEGIN TRANSACTION
        Payment-&gt;&gt;DB: 12. INSERT INTO pagos
        Payment-&gt;&gt;DB: 13. INSERT INTO transacciones
        Payment-&gt;&gt;DB: 14. COMMIT

        Payment-&gt;&gt;Order: 15. confirm_payment(pedido_id)
        Order-&gt;&gt;DB: 16. UPDATE pedido SET estado=&#39;pendiente&#39;
        Order--&gt;&gt;Payment: 17. OK

        Payment-&gt;&gt;Notif: 18. notify_payment_success()
        Notif-&gt;&gt;Notif: 19. Send confirmation email
        Notif--&gt;&gt;Payment: 20. Sent

        Payment--&gt;&gt;API: 21. Payment successful
        API--&gt;&gt;UI: 22. 200 OK {pago}
        UI--&gt;&gt;Cliente: 23. &quot;Pago exitoso&quot;
        UI-&gt;&gt;UI: 24. Show confirmation

    else Pago rechazado
        Gateway--&gt;&gt;Payment: {status: declined, reason}

        Payment-&gt;&gt;DB: INSERT failed transaction
        Payment--&gt;&gt;API: Payment declined
        API--&gt;&gt;UI: 402 Payment Required
        UI--&gt;&gt;Cliente: &quot;Pago rechazado&quot;
        UI-&gt;&gt;UI: Retry option

    else Error de gateway
        Gateway--&gt;&gt;Payment: Error
        Payment-&gt;&gt;DB: Log error
        Payment--&gt;&gt;API: Gateway error
        API--&gt;&gt;UI: 500 Server Error
        UI--&gt;&gt;Cliente: &quot;Error procesando pago&quot;
        UI-&gt;&gt;UI: Contact support
    end
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-90" name="sd-tab-set-45" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-90">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            sequenceDiagram
    participant Beat as Celery Beat&lt;br/&gt;(Scheduler)
    participant Worker as Celery Worker
    participant Stock as Stock&lt;br/&gt;Service
    participant DB as Database
    participant Notif as Notification&lt;br/&gt;Service

    Beat-&gt;&gt;Beat: 1. Timer triggers&lt;br/&gt;(cada 1 hora)
    Beat-&gt;&gt;Worker: 2. Task: check_stock_levels

    Worker-&gt;&gt;Stock: 3. monitor_all_products()
    Stock-&gt;&gt;DB: 4. SELECT productos, stock_config&lt;br/&gt;WHERE recarga_automatica_activa
    DB--&gt;&gt;Stock: 5. Products list

    loop Por cada producto
        Stock-&gt;&gt;Stock: 6. config.necesita_recarga()?

        alt Stock &lt;= stock_minimo
            Stock-&gt;&gt;DB: 7. BEGIN TRANSACTION
            Stock-&gt;&gt;DB: 8. UPDATE productos&lt;br/&gt;SET stock += cantidad_recarga

            Stock-&gt;&gt;DB: 9. INSERT INTO historial_recarga&lt;br/&gt;(tipo='automatica')

            Stock-&gt;&gt;DB: 10. UPDATE stock_config&lt;br/&gt;SET ultima_recarga, total_recargas

            Stock-&gt;&gt;DB: 11. COMMIT

            Stock-&gt;&gt;Notif: 12. notify_auto_recharge()
            Notif-&gt;&gt;Notif: 13. Email to proveedor
            Notif--&gt;&gt;Stock: 14. Sent

            Stock--&gt;&gt;Worker: 15. Recarga ejecutada
        else Stock &gt; stock_minimo
            Stock--&gt;&gt;Worker: No action needed
        end
    end

    Worker--&gt;&gt;Beat: 16. Task completed
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-91" name="sd-tab-set-45" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-91">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>sequenceDiagram
    participant Beat as Celery Beat&lt;br/&gt;(Scheduler)
    participant Worker as Celery Worker
    participant Stock as Stock&lt;br/&gt;Service
    participant DB as Database
    participant Notif as Notification&lt;br/&gt;Service

    Beat-&gt;&gt;Beat: 1. Timer triggers&lt;br/&gt;(cada 1 hora)
    Beat-&gt;&gt;Worker: 2. Task: check_stock_levels

    Worker-&gt;&gt;Stock: 3. monitor_all_products()
    Stock-&gt;&gt;DB: 4. SELECT productos, stock_config&lt;br/&gt;WHERE recarga_automatica_activa
    DB--&gt;&gt;Stock: 5. Products list

    loop Por cada producto
        Stock-&gt;&gt;Stock: 6. config.necesita_recarga()?

        alt Stock &lt;= stock_minimo
            Stock-&gt;&gt;DB: 7. BEGIN TRANSACTION
            Stock-&gt;&gt;DB: 8. UPDATE productos&lt;br/&gt;SET stock += cantidad_recarga

            Stock-&gt;&gt;DB: 9. INSERT INTO historial_recarga&lt;br/&gt;(tipo=&#39;automatica&#39;)

            Stock-&gt;&gt;DB: 10. UPDATE stock_config&lt;br/&gt;SET ultima_recarga, total_recargas

            Stock-&gt;&gt;DB: 11. COMMIT

            Stock-&gt;&gt;Notif: 12. notify_auto_recharge()
            Notif-&gt;&gt;Notif: 13. Email to proveedor
            Notif--&gt;&gt;Stock: 14. Sent

            Stock--&gt;&gt;Worker: 15. Recarga ejecutada
        else Stock &gt; stock_minimo
            Stock--&gt;&gt;Worker: No action needed
        end
    end

    Worker--&gt;&gt;Beat: 16. Task completed
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-92" name="sd-tab-set-46" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-92">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            sequenceDiagram
    actor Proveedor
    participant UI as Frontend
    participant API as Backend API
    participant Stock as Stock&lt;br/&gt;Service
    participant DB as Database
    participant Notif as Notification&lt;br/&gt;Service

    Proveedor-&gt;&gt;UI: 1. Navega a &quot;Mis Productos&quot;
    UI-&gt;&gt;API: 2. GET /api/productos/mis-productos
    API--&gt;&gt;UI: 3. Lista de productos

    Proveedor-&gt;&gt;UI: 4. Selecciona producto
    Proveedor-&gt;&gt;UI: 5. Click &quot;Recargar Stock&quot;
    Proveedor-&gt;&gt;UI: 6. Ingresa cantidad

    UI-&gt;&gt;API: 7. POST /api/productos/{id}/recargar&lt;br/&gt;{cantidad, notas}

    API-&gt;&gt;Stock: 8. manual_recharge(producto, cantidad)
    Stock-&gt;&gt;DB: 9. SELECT producto
    DB--&gt;&gt;Stock: 10. Producto data

    Stock-&gt;&gt;DB: 11. BEGIN TRANSACTION

    Stock-&gt;&gt;Stock: 12. stock_anterior = producto.stock
    Stock-&gt;&gt;DB: 13. UPDATE productos&lt;br/&gt;SET stock += cantidad

    Stock-&gt;&gt;DB: 14. INSERT INTO historial_recarga&lt;br/&gt;(tipo='manual', usuario=proveedor)

    Stock-&gt;&gt;DB: 15. COMMIT

    Stock-&gt;&gt;Notif: 16. notify_manual_recharge()
    Notif-&gt;&gt;Notif: 17. Email to admin
    Notif--&gt;&gt;Stock: 18. Sent

    Stock--&gt;&gt;API: 19. Recarga exitosa
    API--&gt;&gt;UI: 20. 200 OK {producto}
    UI--&gt;&gt;Proveedor: 21. &quot;Stock actualizado&quot;
    UI-&gt;&gt;UI: 22. Refresh product list
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-93" name="sd-tab-set-46" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-93">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>sequenceDiagram
    actor Proveedor
    participant UI as Frontend
    participant API as Backend API
    participant Stock as Stock&lt;br/&gt;Service
    participant DB as Database
    participant Notif as Notification&lt;br/&gt;Service

    Proveedor-&gt;&gt;UI: 1. Navega a &quot;Mis Productos&quot;
    UI-&gt;&gt;API: 2. GET /api/productos/mis-productos
    API--&gt;&gt;UI: 3. Lista de productos

    Proveedor-&gt;&gt;UI: 4. Selecciona producto
    Proveedor-&gt;&gt;UI: 5. Click &quot;Recargar Stock&quot;
    Proveedor-&gt;&gt;UI: 6. Ingresa cantidad

    UI-&gt;&gt;API: 7. POST /api/productos/{id}/recargar&lt;br/&gt;{cantidad, notas}

    API-&gt;&gt;Stock: 8. manual_recharge(producto, cantidad)
    Stock-&gt;&gt;DB: 9. SELECT producto
    DB--&gt;&gt;Stock: 10. Producto data

    Stock-&gt;&gt;DB: 11. BEGIN TRANSACTION

    Stock-&gt;&gt;Stock: 12. stock_anterior = producto.stock
    Stock-&gt;&gt;DB: 13. UPDATE productos&lt;br/&gt;SET stock += cantidad

    Stock-&gt;&gt;DB: 14. INSERT INTO historial_recarga&lt;br/&gt;(tipo=&#39;manual&#39;, usuario=proveedor)

    Stock-&gt;&gt;DB: 15. COMMIT

    Stock-&gt;&gt;Notif: 16. notify_manual_recharge()
    Notif-&gt;&gt;Notif: 17. Email to admin
    Notif--&gt;&gt;Stock: 18. Sent

    Stock--&gt;&gt;API: 19. Recarga exitosa
    API--&gt;&gt;UI: 20. 200 OK {producto}
    UI--&gt;&gt;Proveedor: 21. &quot;Stock actualizado&quot;
    UI-&gt;&gt;UI: 22. Refresh product list
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-mb-4 docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-94" name="sd-tab-set-47" type="radio">
</input><label class="sd-tab-label" data-sync-id="view" for="sd-tab-item-94">
üëÅÔ∏è Visualizaci√≥n</label><div class="sd-tab-content docutils">
<div class="mermaid">
            sequenceDiagram
    participant Trigger as Event&lt;br/&gt;Trigger
    participant Notif as Notification&lt;br/&gt;Service
    participant DB as Database
    participant Queue as Celery&lt;br/&gt;Queue
    participant Worker as Celery&lt;br/&gt;Worker
    participant Email as Email&lt;br/&gt;Service
    participant SMS as SMS&lt;br/&gt;Service

    Trigger-&gt;&gt;Notif: 1. Event occurred&lt;br/&gt;(e.g., pedido creado)

    Notif-&gt;&gt;Notif: 2. Determine recipients&lt;br/&gt;&amp; notification type

    loop Por cada destinatario
        Notif-&gt;&gt;DB: 3. INSERT INTO notificaciones&lt;br/&gt;(estado='pendiente')
        DB--&gt;&gt;Notif: 4. Notificacion ID

        Notif-&gt;&gt;Queue: 5. Enqueue send task
    end

    Notif--&gt;&gt;Trigger: 6. Notifications queued

    Queue-&gt;&gt;Worker: 7. Dequeue task
    Worker-&gt;&gt;DB: 8. Get notification details
    DB--&gt;&gt;Worker: 9. Notification data

    alt Channel = Email
        Worker-&gt;&gt;Email: 10. send_email()
        Email-&gt;&gt;Email: 11. Connect to SMTP
        Email-&gt;&gt;Email: 12. Send message

        alt Email sent
            Email--&gt;&gt;Worker: 13. Success
            Worker-&gt;&gt;DB: 14. UPDATE notificaciones&lt;br/&gt;SET estado='enviada'
        else Send failed
            Email--&gt;&gt;Worker: Error
            Worker-&gt;&gt;DB: UPDATE estado='fallida'
            Worker-&gt;&gt;Queue: Retry task (max 3)
        end

    else Channel = SMS
        Worker-&gt;&gt;SMS: send_sms()
        SMS--&gt;&gt;Worker: Result
        Worker-&gt;&gt;DB: UPDATE notification
    end

    Worker-&gt;&gt;DB: 15. Set fecha_envio
    Worker--&gt;&gt;Queue: 16. Task completed
        </div><div class="diagram-controls docutils">
</div>
</div>
<input id="sd-tab-item-95" name="sd-tab-set-47" type="radio">
</input><label class="sd-tab-label" data-sync-id="code" for="sd-tab-item-95">
üìù C√≥digo Fuente</label><div class="sd-tab-content docutils">
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>sequenceDiagram
    participant Trigger as Event&lt;br/&gt;Trigger
    participant Notif as Notification&lt;br/&gt;Service
    participant DB as Database
    participant Queue as Celery&lt;br/&gt;Queue
    participant Worker as Celery&lt;br/&gt;Worker
    participant Email as Email&lt;br/&gt;Service
    participant SMS as SMS&lt;br/&gt;Service

    Trigger-&gt;&gt;Notif: 1. Event occurred&lt;br/&gt;(e.g., pedido creado)

    Notif-&gt;&gt;Notif: 2. Determine recipients&lt;br/&gt;&amp; notification type

    loop Por cada destinatario
        Notif-&gt;&gt;DB: 3. INSERT INTO notificaciones&lt;br/&gt;(estado=&#39;pendiente&#39;)
        DB--&gt;&gt;Notif: 4. Notificacion ID

        Notif-&gt;&gt;Queue: 5. Enqueue send task
    end

    Notif--&gt;&gt;Trigger: 6. Notifications queued

    Queue-&gt;&gt;Worker: 7. Dequeue task
    Worker-&gt;&gt;DB: 8. Get notification details
    DB--&gt;&gt;Worker: 9. Notification data

    alt Channel = Email
        Worker-&gt;&gt;Email: 10. send_email()
        Email-&gt;&gt;Email: 11. Connect to SMTP
        Email-&gt;&gt;Email: 12. Send message

        alt Email sent
            Email--&gt;&gt;Worker: 13. Success
            Worker-&gt;&gt;DB: 14. UPDATE notificaciones&lt;br/&gt;SET estado=&#39;enviada&#39;
        else Send failed
            Email--&gt;&gt;Worker: Error
            Worker-&gt;&gt;DB: UPDATE estado=&#39;fallida&#39;
            Worker-&gt;&gt;Queue: Retry task (max 3)
        end

    else Channel = SMS
        Worker-&gt;&gt;SMS: send_sms()
        SMS--&gt;&gt;Worker: Result
        Worker-&gt;&gt;DB: UPDATE notification
    end

    Worker-&gt;&gt;DB: 15. Set fecha_envio
    Worker--&gt;&gt;Queue: 16. Task completed
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
</details></section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="INDEX_DIAGRAMAS.html" class="btn btn-neutral float-left" title="üìê √çNDICE DE DIAGRAMAS UML - PREXCOL" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../apidocs/index.html" class="btn btn-neutral float-right" title="API Reference" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, PREXCOL Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>